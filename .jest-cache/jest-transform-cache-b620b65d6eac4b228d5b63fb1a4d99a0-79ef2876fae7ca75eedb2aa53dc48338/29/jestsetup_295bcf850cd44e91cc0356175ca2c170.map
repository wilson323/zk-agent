{"version":3,"names":["_getJestObj","mock","useRouter","route","pathname","query","asPath","push","jest","fn","replace","reload","back","prefetch","beforePopState","events","on","off","emit","refresh","forward","usePathname","useSearchParams","URLSearchParams","require","global","console","log","debug","info","warn","error","process","env","NODE_ENV","NEXT_PUBLIC_APP_URL","setTimeout","fetch","TextEncoder","TextDecoder","window","Object","defineProperty","writable","value","mockImplementation","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","IntersectionObserver","observe","unobserve","disconnect","ResizeObserver","localStorageMock","getItem","setItem","removeItem","clear","sessionStorageMock"],"sources":["jest.setup.js"],"sourcesContent":["// Jest setup file - Simplified version\n\n// 全局测试配置\nglobal.console = {\n  ...console,\n  // 在测试中静默某些日志\n  log: jest.fn(),\n  debug: jest.fn(),\n  info: jest.fn(),\n  warn: console.warn,\n  error: console.error,\n};\n\n// 模拟环境变量\nprocess.env.NODE_ENV = 'test';\nprocess.env.NEXT_PUBLIC_APP_URL = 'http://localhost:3000';\n\n// 设置测试超时\njest.setTimeout(30000);\n\n// 基础全局变量\nglobal.fetch = jest.fn();\n\n// TextEncoder/TextDecoder polyfill for jsdom\nif (typeof global.TextEncoder === 'undefined') {\n  const { TextEncoder, TextDecoder } = require('util');\n  global.TextEncoder = TextEncoder;\n  global.TextDecoder = TextDecoder;\n}\n\n// Mock Next.js router\njest.mock('next/router', () => ({\n  useRouter: () => ({\n    route: '/',\n    pathname: '/',\n    query: {},\n    asPath: '/',\n    push: jest.fn(),\n    replace: jest.fn(),\n    reload: jest.fn(),\n    back: jest.fn(),\n    prefetch: jest.fn(),\n    beforePopState: jest.fn(),\n    events: {\n      on: jest.fn(),\n      off: jest.fn(),\n      emit: jest.fn(),\n    },\n  }),\n}));\n\n// Mock Next.js navigation\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    refresh: jest.fn(),\n    back: jest.fn(),\n    forward: jest.fn(),\n  }),\n  usePathname: () => '/',\n  useSearchParams: () => new URLSearchParams(),\n}));\n\n// Mock window.matchMedia\nif (typeof window !== 'undefined') {\n  Object.defineProperty(window, 'matchMedia', {\n    writable: true,\n    value: jest.fn().mockImplementation(query => ({\n      matches: false,\n      media: query,\n      onchange: null,\n      addListener: jest.fn(),\n      removeListener: jest.fn(),\n      addEventListener: jest.fn(),\n      removeEventListener: jest.fn(),\n      dispatchEvent: jest.fn(),\n    })),\n  });\n}\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}));\n\n// Mock ResizeObserver\nglobal.ResizeObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}));\n\n// Mock localStorage\nconst localStorageMock = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n};\nif (typeof window !== 'undefined') {\n  Object.defineProperty(window, 'localStorage', {\n    value: localStorageMock,\n  });\n}\n\n// Mock sessionStorage\nconst sessionStorageMock = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n};\nif (typeof window !== 'undefined') {\n  Object.defineProperty(window, 'sessionStorage', {\n    value: sessionStorageMock,\n  });\n}\n"],"mappings":"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","ignoreList":[]}