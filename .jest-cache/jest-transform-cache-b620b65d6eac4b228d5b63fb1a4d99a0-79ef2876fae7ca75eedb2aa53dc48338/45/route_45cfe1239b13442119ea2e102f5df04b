09846871d0036136927bb91929ebc485
"use strict";

/**
 * @file cad\statistics\route.ts
 * @description Migrated API route with global error handling
 * @author ZK-Agent Team
 * @date 2025-06-25
 */
/* istanbul ignore next */
function cov_3sgu5bj7a() {
  var path = "E:\\zk-agent\\app\\api\\cad\\statistics\\route.ts";
  var hash = "2b33115ed242d7ed839f4b76ba29421a544633ae";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "E:\\zk-agent\\app\\api\\cad\\statistics\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 8,
          column: 0
        },
        end: {
          line: 8,
          column: 62
        }
      },
      "1": {
        start: {
          line: 9,
          column: 0
        },
        end: {
          line: 9,
          column: 21
        }
      },
      "2": {
        start: {
          line: 10,
          column: 28
        },
        end: {
          line: 10,
          column: 73
        }
      },
      "3": {
        start: {
          line: 11,
          column: 21
        },
        end: {
          line: 11,
          column: 54
        }
      },
      "4": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 84,
          column: 3
        }
      },
      "5": {
        start: {
          line: 13,
          column: 4
        },
        end: {
          line: 83,
          column: 5
        }
      },
      "6": {
        start: {
          line: 14,
          column: 33
        },
        end: {
          line: 14,
          column: 49
        }
      },
      "7": {
        start: {
          line: 15,
          column: 23
        },
        end: {
          line: 15,
          column: 45
        }
      },
      "8": {
        start: {
          line: 16,
          column: 26
        },
        end: {
          line: 16,
          column: 60
        }
      },
      "9": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 19,
          column: 9
        }
      },
      "10": {
        start: {
          line: 18,
          column: 12
        },
        end: {
          line: 18,
          column: 84
        }
      },
      "11": {
        start: {
          line: 21,
          column: 27
        },
        end: {
          line: 72,
          column: 9
        }
      },
      "12": {
        start: {
          line: 73,
          column: 8
        },
        end: {
          line: 78,
          column: 11
        }
      },
      "13": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 81,
          column: 42
        }
      },
      "14": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 82,
          column: 82
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 12,
            column: 100
          },
          end: {
            line: 12,
            column: 101
          }
        },
        loc: {
          start: {
            line: 12,
            column: 175
          },
          end: {
            line: 84,
            column: 1
          }
        },
        line: 12
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 16,
            column: 26
          },
          end: {
            line: 16,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 16,
            column: 26
          },
          end: {
            line: 16,
            column: 51
          }
        }, {
          start: {
            line: 16,
            column: 55
          },
          end: {
            line: 16,
            column: 60
          }
        }],
        line: 16
      },
      "1": {
        loc: {
          start: {
            line: 17,
            column: 8
          },
          end: {
            line: 19,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 17,
            column: 8
          },
          end: {
            line: 19,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 17
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0
    },
    f: {
      "0": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0]
    },
    inputSourceMap: {
      file: "E:\\zk-agent\\app\\api\\cad\\statistics\\route.ts",
      mappings: "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",
      names: [],
      sources: ["E:\\zk-agent\\app\\api\\cad\\statistics\\route.ts"],
      sourcesContent: ["/**\n * @file cad\\statistics\\route.ts\n * @description Migrated API route with global error handling\n * @author ZK-Agent Team\n * @date 2025-06-25\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport { createApiRoute, RouteConfigs, CommonValidations } from '@/lib/middleware/api-route-wrapper';\nimport { ApiResponseWrapper } from '@/lib/utils/api-helper';\n\nexport const GET = createApiRoute(\n  RouteConfigs.publicGet(),\n  async (req: NextRequest, { params, validatedBody, validatedQuery, user, requestId }) => {\n    try {\n      const { searchParams } = new URL(req.url)\n      const userId = validatedQuery?.userId\n      const timeRange = validatedQuery?.timeRange || \"30d\" // 30d, 7d, 1d\n  \n      if (!userId) {\n        return ApiResponseWrapper.error(\"\u7F3A\u5C11\u7528\u6237ID\", { status: 400 })\n      }\n    \n        // \u6A21\u62DF\u83B7\u53D6CAD\u5206\u6790\u7EDF\u8BA1\u6570\u636E\n        const statistics = {\n          totalAnalyses: 25,\n          totalFiles: 23,\n          totalDevicesDetected: 156,\n          totalRisksFound: 42,\n          averageAnalysisTime: \"3.2\u79D2\",\n    \n          // \u6309\u65F6\u95F4\u8303\u56F4\u7684\u5206\u6790\u6570\u91CF\n          analysesByDate: [\n            { date: \"2024-01-20\", count: 3 },\n            { date: \"2024-01-19\", count: 2 },\n            { date: \"2024-01-18\", count: 4 },\n            { date: \"2024-01-17\", count: 1 },\n            { date: \"2024-01-16\", count: 2 },\n          ],\n    \n          // \u6587\u4EF6\u7C7B\u578B\u5206\u5E03\n          fileTypeDistribution: {\n            dwg: 12,\n            dxf: 8,\n            step: 2,\n            iges: 1,\n          },\n    \n          // \u98CE\u9669\u4E25\u91CD\u7A0B\u5EA6\u5206\u5E03\n          riskSeverityDistribution: {\n            critical: 3,\n            high: 8,\n            medium: 18,\n            low: 13,\n          },\n    \n          // \u8BBE\u5907\u7C7B\u578B\u5206\u5E03\n          deviceTypeDistribution: {\n            surveillance_camera: 45,\n            access_control: 28,\n            alarm_system: 15,\n            smart_lock: 12,\n            sensor: 56,\n          },\n    \n          // \u5408\u89C4\u6027\u5F97\u5206\u8D8B\u52BF\n          complianceScoreTrend: [\n            { date: \"2024-01-16\", score: 82 },\n            { date: \"2024-01-17\", score: 85 },\n            { date: \"2024-01-18\", score: 88 },\n            { date: \"2024-01-19\", score: 87 },\n            { date: \"2024-01-20\", score: 90 },\n          ],\n    \n          // \u6700\u5E38\u89C1\u7684\u98CE\u9669\u7C7B\u578B\n          topRiskCategories: [\n            { category: \"\u76D1\u63A7\u76F2\u533A\", count: 12 },\n            { category: \"\u8BBE\u5907\u8001\u5316\", count: 8 },\n            { category: \"\u7EBF\u8DEF\u5B89\u5168\", count: 6 },\n            { category: \"\u5408\u89C4\u6027\u95EE\u9898\", count: 4 },\n          ],\n        }\n    \n        return ApiResponseWrapper.success({\n          success: true,\n          statistics,\n          timeRange,\n          generatedAt: new Date().toISOString(),\n        })\n      } catch (error) {\n        console.error('\u83B7\u53D6\u7EDF\u8BA1\u6570\u636E\u5931\u8D25:', error)\n        return ApiResponseWrapper.error(\n          \"\u83B7\u53D6\u7EDF\u8BA1\u6570\u636E\u5931\u8D25\",\n          { status: 500 }\n        )\n      }\n    }\n  )\n\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "2b33115ed242d7ed839f4b76ba29421a544633ae"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_3sgu5bj7a = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_3sgu5bj7a();
cov_3sgu5bj7a().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_3sgu5bj7a().s[1]++;
exports.GET = void 0;
const api_route_wrapper_1 =
/* istanbul ignore next */
(cov_3sgu5bj7a().s[2]++, require("@/lib/middleware/api-route-wrapper"));
const api_helper_1 =
/* istanbul ignore next */
(cov_3sgu5bj7a().s[3]++, require("@/lib/utils/api-helper"));
/* istanbul ignore next */
cov_3sgu5bj7a().s[4]++;
exports.GET = (0, api_route_wrapper_1.createApiRoute)(api_route_wrapper_1.RouteConfigs.publicGet(), async (req, {
  params,
  validatedBody,
  validatedQuery,
  user,
  requestId
}) => {
  /* istanbul ignore next */
  cov_3sgu5bj7a().f[0]++;
  cov_3sgu5bj7a().s[5]++;
  try {
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_3sgu5bj7a().s[6]++, new URL(req.url));
    const userId =
    /* istanbul ignore next */
    (cov_3sgu5bj7a().s[7]++, validatedQuery?.userId);
    const timeRange =
    /* istanbul ignore next */
    (cov_3sgu5bj7a().s[8]++,
    /* istanbul ignore next */
    (cov_3sgu5bj7a().b[0][0]++, validatedQuery?.timeRange) ||
    /* istanbul ignore next */
    (cov_3sgu5bj7a().b[0][1]++, "30d")); // 30d, 7d, 1d
    /* istanbul ignore next */
    cov_3sgu5bj7a().s[9]++;
    if (!userId) {
      /* istanbul ignore next */
      cov_3sgu5bj7a().b[1][0]++;
      cov_3sgu5bj7a().s[10]++;
      return api_helper_1.ApiResponseWrapper.error("缺少用户ID", {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_3sgu5bj7a().b[1][1]++;
    }
    // 模拟获取CAD分析统计数据
    const statistics =
    /* istanbul ignore next */
    (cov_3sgu5bj7a().s[11]++, {
      totalAnalyses: 25,
      totalFiles: 23,
      totalDevicesDetected: 156,
      totalRisksFound: 42,
      averageAnalysisTime: "3.2秒",
      // 按时间范围的分析数量
      analysesByDate: [{
        date: "2024-01-20",
        count: 3
      }, {
        date: "2024-01-19",
        count: 2
      }, {
        date: "2024-01-18",
        count: 4
      }, {
        date: "2024-01-17",
        count: 1
      }, {
        date: "2024-01-16",
        count: 2
      }],
      // 文件类型分布
      fileTypeDistribution: {
        dwg: 12,
        dxf: 8,
        step: 2,
        iges: 1
      },
      // 风险严重程度分布
      riskSeverityDistribution: {
        critical: 3,
        high: 8,
        medium: 18,
        low: 13
      },
      // 设备类型分布
      deviceTypeDistribution: {
        surveillance_camera: 45,
        access_control: 28,
        alarm_system: 15,
        smart_lock: 12,
        sensor: 56
      },
      // 合规性得分趋势
      complianceScoreTrend: [{
        date: "2024-01-16",
        score: 82
      }, {
        date: "2024-01-17",
        score: 85
      }, {
        date: "2024-01-18",
        score: 88
      }, {
        date: "2024-01-19",
        score: 87
      }, {
        date: "2024-01-20",
        score: 90
      }],
      // 最常见的风险类型
      topRiskCategories: [{
        category: "监控盲区",
        count: 12
      }, {
        category: "设备老化",
        count: 8
      }, {
        category: "线路安全",
        count: 6
      }, {
        category: "合规性问题",
        count: 4
      }]
    });
    /* istanbul ignore next */
    cov_3sgu5bj7a().s[12]++;
    return api_helper_1.ApiResponseWrapper.success({
      success: true,
      statistics,
      timeRange,
      generatedAt: new Date().toISOString()
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_3sgu5bj7a().s[13]++;
    console.error('获取统计数据失败:', error);
    /* istanbul ignore next */
    cov_3sgu5bj7a().s[14]++;
    return api_helper_1.ApiResponseWrapper.error("获取统计数据失败", {
      status: 500
    });
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfM3NndTViajdhIiwicGF0aCIsImhhc2giLCJnbG9iYWwiLCJGdW5jdGlvbiIsImdjdiIsImNvdmVyYWdlRGF0YSIsInN0YXRlbWVudE1hcCIsInN0YXJ0IiwibGluZSIsImNvbHVtbiIsImVuZCIsImZuTWFwIiwibmFtZSIsImRlY2wiLCJsb2MiLCJicmFuY2hNYXAiLCJ0eXBlIiwibG9jYXRpb25zIiwidW5kZWZpbmVkIiwicyIsImYiLCJiIiwiaW5wdXRTb3VyY2VNYXAiLCJmaWxlIiwibWFwcGluZ3MiLCJuYW1lcyIsInNvdXJjZXMiLCJzb3VyY2VzQ29udGVudCIsInZlcnNpb24iLCJfY292ZXJhZ2VTY2hlbWEiLCJjb3ZlcmFnZSIsImFjdHVhbENvdmVyYWdlIiwiYXBpX3JvdXRlX3dyYXBwZXJfMSIsInJlcXVpcmUiLCJhcGlfaGVscGVyXzEiLCJleHBvcnRzIiwiR0VUIiwiY3JlYXRlQXBpUm91dGUiLCJSb3V0ZUNvbmZpZ3MiLCJwdWJsaWNHZXQiLCJyZXEiLCJwYXJhbXMiLCJ2YWxpZGF0ZWRCb2R5IiwidmFsaWRhdGVkUXVlcnkiLCJ1c2VyIiwicmVxdWVzdElkIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwidXNlcklkIiwidGltZVJhbmdlIiwiQXBpUmVzcG9uc2VXcmFwcGVyIiwiZXJyb3IiLCJzdGF0dXMiLCJzdGF0aXN0aWNzIiwidG90YWxBbmFseXNlcyIsInRvdGFsRmlsZXMiLCJ0b3RhbERldmljZXNEZXRlY3RlZCIsInRvdGFsUmlza3NGb3VuZCIsImF2ZXJhZ2VBbmFseXNpc1RpbWUiLCJhbmFseXNlc0J5RGF0ZSIsImRhdGUiLCJjb3VudCIsImZpbGVUeXBlRGlzdHJpYnV0aW9uIiwiZHdnIiwiZHhmIiwic3RlcCIsImlnZXMiLCJyaXNrU2V2ZXJpdHlEaXN0cmlidXRpb24iLCJjcml0aWNhbCIsImhpZ2giLCJtZWRpdW0iLCJsb3ciLCJkZXZpY2VUeXBlRGlzdHJpYnV0aW9uIiwic3VydmVpbGxhbmNlX2NhbWVyYSIsImFjY2Vzc19jb250cm9sIiwiYWxhcm1fc3lzdGVtIiwic21hcnRfbG9jayIsInNlbnNvciIsImNvbXBsaWFuY2VTY29yZVRyZW5kIiwic2NvcmUiLCJ0b3BSaXNrQ2F0ZWdvcmllcyIsImNhdGVnb3J5Iiwic3VjY2VzcyIsImdlbmVyYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY29uc29sZSJdLCJzb3VyY2VzIjpbIkU6XFx6ay1hZ2VudFxcYXBwXFxhcGlcXGNhZFxcc3RhdGlzdGljc1xccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBjYWRcXHN0YXRpc3RpY3NcXHJvdXRlLnRzXG4gKiBAZGVzY3JpcHRpb24gTWlncmF0ZWQgQVBJIHJvdXRlIHdpdGggZ2xvYmFsIGVycm9yIGhhbmRsaW5nXG4gKiBAYXV0aG9yIFpLLUFnZW50IFRlYW1cbiAqIEBkYXRlIDIwMjUtMDYtMjVcbiAqL1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgY3JlYXRlQXBpUm91dGUsIFJvdXRlQ29uZmlncywgQ29tbW9uVmFsaWRhdGlvbnMgfSBmcm9tICdAL2xpYi9taWRkbGV3YXJlL2FwaS1yb3V0ZS13cmFwcGVyJztcbmltcG9ydCB7IEFwaVJlc3BvbnNlV3JhcHBlciB9IGZyb20gJ0AvbGliL3V0aWxzL2FwaS1oZWxwZXInO1xuXG5leHBvcnQgY29uc3QgR0VUID0gY3JlYXRlQXBpUm91dGUoXG4gIFJvdXRlQ29uZmlncy5wdWJsaWNHZXQoKSxcbiAgYXN5bmMgKHJlcTogTmV4dFJlcXVlc3QsIHsgcGFyYW1zLCB2YWxpZGF0ZWRCb2R5LCB2YWxpZGF0ZWRRdWVyeSwgdXNlciwgcmVxdWVzdElkIH0pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxLnVybClcbiAgICAgIGNvbnN0IHVzZXJJZCA9IHZhbGlkYXRlZFF1ZXJ5Py51c2VySWRcbiAgICAgIGNvbnN0IHRpbWVSYW5nZSA9IHZhbGlkYXRlZFF1ZXJ5Py50aW1lUmFuZ2UgfHwgXCIzMGRcIiAvLyAzMGQsIDdkLCAxZFxuICBcbiAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgIHJldHVybiBBcGlSZXNwb25zZVdyYXBwZXIuZXJyb3IoXCLnvLrlsJHnlKjmiLdJRFwiLCB7IHN0YXR1czogNDAwIH0pXG4gICAgICB9XG4gICAgXG4gICAgICAgIC8vIOaooeaLn+iOt+WPlkNBROWIhuaekOe7n+iuoeaVsOaNrlxuICAgICAgICBjb25zdCBzdGF0aXN0aWNzID0ge1xuICAgICAgICAgIHRvdGFsQW5hbHlzZXM6IDI1LFxuICAgICAgICAgIHRvdGFsRmlsZXM6IDIzLFxuICAgICAgICAgIHRvdGFsRGV2aWNlc0RldGVjdGVkOiAxNTYsXG4gICAgICAgICAgdG90YWxSaXNrc0ZvdW5kOiA0MixcbiAgICAgICAgICBhdmVyYWdlQW5hbHlzaXNUaW1lOiBcIjMuMuenklwiLFxuICAgIFxuICAgICAgICAgIC8vIOaMieaXtumXtOiMg+WbtOeahOWIhuaekOaVsOmHj1xuICAgICAgICAgIGFuYWx5c2VzQnlEYXRlOiBbXG4gICAgICAgICAgICB7IGRhdGU6IFwiMjAyNC0wMS0yMFwiLCBjb3VudDogMyB9LFxuICAgICAgICAgICAgeyBkYXRlOiBcIjIwMjQtMDEtMTlcIiwgY291bnQ6IDIgfSxcbiAgICAgICAgICAgIHsgZGF0ZTogXCIyMDI0LTAxLTE4XCIsIGNvdW50OiA0IH0sXG4gICAgICAgICAgICB7IGRhdGU6IFwiMjAyNC0wMS0xN1wiLCBjb3VudDogMSB9LFxuICAgICAgICAgICAgeyBkYXRlOiBcIjIwMjQtMDEtMTZcIiwgY291bnQ6IDIgfSxcbiAgICAgICAgICBdLFxuICAgIFxuICAgICAgICAgIC8vIOaWh+S7tuexu+Wei+WIhuW4g1xuICAgICAgICAgIGZpbGVUeXBlRGlzdHJpYnV0aW9uOiB7XG4gICAgICAgICAgICBkd2c6IDEyLFxuICAgICAgICAgICAgZHhmOiA4LFxuICAgICAgICAgICAgc3RlcDogMixcbiAgICAgICAgICAgIGlnZXM6IDEsXG4gICAgICAgICAgfSxcbiAgICBcbiAgICAgICAgICAvLyDpo47pmankuKXph43nqIvluqbliIbluINcbiAgICAgICAgICByaXNrU2V2ZXJpdHlEaXN0cmlidXRpb246IHtcbiAgICAgICAgICAgIGNyaXRpY2FsOiAzLFxuICAgICAgICAgICAgaGlnaDogOCxcbiAgICAgICAgICAgIG1lZGl1bTogMTgsXG4gICAgICAgICAgICBsb3c6IDEzLFxuICAgICAgICAgIH0sXG4gICAgXG4gICAgICAgICAgLy8g6K6+5aSH57G75Z6L5YiG5biDXG4gICAgICAgICAgZGV2aWNlVHlwZURpc3RyaWJ1dGlvbjoge1xuICAgICAgICAgICAgc3VydmVpbGxhbmNlX2NhbWVyYTogNDUsXG4gICAgICAgICAgICBhY2Nlc3NfY29udHJvbDogMjgsXG4gICAgICAgICAgICBhbGFybV9zeXN0ZW06IDE1LFxuICAgICAgICAgICAgc21hcnRfbG9jazogMTIsXG4gICAgICAgICAgICBzZW5zb3I6IDU2LFxuICAgICAgICAgIH0sXG4gICAgXG4gICAgICAgICAgLy8g5ZCI6KeE5oCn5b6X5YiG6LaL5Yq/XG4gICAgICAgICAgY29tcGxpYW5jZVNjb3JlVHJlbmQ6IFtcbiAgICAgICAgICAgIHsgZGF0ZTogXCIyMDI0LTAxLTE2XCIsIHNjb3JlOiA4MiB9LFxuICAgICAgICAgICAgeyBkYXRlOiBcIjIwMjQtMDEtMTdcIiwgc2NvcmU6IDg1IH0sXG4gICAgICAgICAgICB7IGRhdGU6IFwiMjAyNC0wMS0xOFwiLCBzY29yZTogODggfSxcbiAgICAgICAgICAgIHsgZGF0ZTogXCIyMDI0LTAxLTE5XCIsIHNjb3JlOiA4NyB9LFxuICAgICAgICAgICAgeyBkYXRlOiBcIjIwMjQtMDEtMjBcIiwgc2NvcmU6IDkwIH0sXG4gICAgICAgICAgXSxcbiAgICBcbiAgICAgICAgICAvLyDmnIDluLjop4HnmoTpo47pmannsbvlnotcbiAgICAgICAgICB0b3BSaXNrQ2F0ZWdvcmllczogW1xuICAgICAgICAgICAgeyBjYXRlZ29yeTogXCLnm5Hmjqfnm7LljLpcIiwgY291bnQ6IDEyIH0sXG4gICAgICAgICAgICB7IGNhdGVnb3J5OiBcIuiuvuWkh+iAgeWMllwiLCBjb3VudDogOCB9LFxuICAgICAgICAgICAgeyBjYXRlZ29yeTogXCLnur/ot6/lronlhahcIiwgY291bnQ6IDYgfSxcbiAgICAgICAgICAgIHsgY2F0ZWdvcnk6IFwi5ZCI6KeE5oCn6Zeu6aKYXCIsIGNvdW50OiA0IH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgIFxuICAgICAgICByZXR1cm4gQXBpUmVzcG9uc2VXcmFwcGVyLnN1Y2Nlc3Moe1xuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgc3RhdGlzdGljcyxcbiAgICAgICAgICB0aW1lUmFuZ2UsXG4gICAgICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPlue7n+iuoeaVsOaNruWksei0pTonLCBlcnJvcilcbiAgICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlV3JhcHBlci5lcnJvcihcbiAgICAgICAgICBcIuiOt+WPlue7n+iuoeaVsOaNruWksei0pVwiLFxuICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICApXG5cbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7O0FBQUE7QUFBQSxTQUFBQSxjQUFBO0VBQUEsSUFBQUMsSUFBQTtFQUFBLElBQUFDLElBQUE7RUFBQSxJQUFBQyxNQUFBLE9BQUFDLFFBQUE7RUFBQSxJQUFBQyxHQUFBO0VBQUEsSUFBQUMsWUFBQTtJQUFBTCxJQUFBO0lBQUFNLFlBQUE7TUFBQTtRQUFBQyxLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7SUFBQTtJQUFBRSxLQUFBO01BQUE7UUFBQUMsSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO0lBQUE7SUFBQU8sU0FBQTtNQUFBO1FBQUFELEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZ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