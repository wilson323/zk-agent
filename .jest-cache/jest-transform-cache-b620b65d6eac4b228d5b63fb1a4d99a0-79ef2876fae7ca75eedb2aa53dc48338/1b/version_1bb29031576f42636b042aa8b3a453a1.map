{"version":3,"names":["cov_1uo7wvgm16","actualCoverage","s","exports","AG_UI_VERSION","VersionCompatibility","isCompatible","version","f","supportedVersions","includes","getCurrentVersionInfo","currentVersion","protocolVersion","features","deprecated","breaking","compareVersions","v1","v2","parts1","split","map","Number","parts2","i","Math","max","length","part1","b","part2","needsUpgrade"],"sources":["E:\\zk-agent\\lib\\ag-ui\\protocol\\version.ts"],"sourcesContent":["// @ts-nocheck\n/**\n * AG-UI协议版本管理\n */\nexport const AG_UI_VERSION = \"1.0.0\"\n\nexport interface VersionInfo {\n  version: string\n  protocolVersion: string\n  features: string[]\n  deprecated?: string[]\n  breaking?: string[]\n}\n\n/**\n * 版本兼容性检查器\n */\nexport class VersionCompatibility {\n  private static supportedVersions = [\"1.0.0\"]\n  private static currentVersion = AG_UI_VERSION\n\n  /**\n   * 检查版本兼容性\n   */\n  static isCompatible(version: string): boolean {\n    return this.supportedVersions.includes(version)\n  }\n\n  /**\n   * 获取当前版本信息\n   */\n  static getCurrentVersionInfo(): VersionInfo {\n    return {\n      version: this.currentVersion,\n      protocolVersion: \"1.0.0\",\n      features: [\n        \"event-driven-architecture\",\n        \"streaming-responses\",\n        \"tool-calling\",\n        \"state-management\",\n        \"middleware-support\",\n        \"error-handling\",\n        \"fastgpt-integration\",\n      ],\n      deprecated: [],\n      breaking: [],\n    }\n  }\n\n  /**\n   * 比较版本\n   */\n  static compareVersions(v1: string, v2: string): number {\n    const parts1 = v1.split(\".\").map(Number)\n    const parts2 = v2.split(\".\").map(Number)\n\n    for (let i = 0; i < Math.max(parts1.length, parts2.length); i++) {\n      const part1 = parts1[i] || 0\n      const part2 = parts2[i] || 0\n\n      if (part1 > part2) {return 1}\n      if (part1 < part2) {return -1}\n    }\n\n    return 0\n  }\n\n  /**\n   * 检查是否需要升级\n   */\n  static needsUpgrade(version: string): boolean {\n    return this.compareVersions(version, this.currentVersion) < 0\n  }\n}\n"],"mappings":"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","ignoreList":[]}