{"file":"E:\\zk-agent\\config\\env.ts","mappings":"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","names":[],"sources":["E:\\zk-agent\\config\\env.ts"],"sourcesContent":["// @ts-nocheck\n/**\r\n * @file 环境变量配置管理\r\n * @description 统一管理和验证环境变量配置\r\n * @author ZK-Agent Team\r\n * @date 2024-01-20\r\n */\r\n\r\nimport { z } from 'zod';\r\n\r\n// 环境变量验证 Schema\r\nconst envSchema = z.object({\r\n  // 基础配置\r\n  NODE_ENV: z.enum(['development', 'production', 'test']).default('development'),\r\n  NEXT_PUBLIC_APP_URL: z.string().url().default('http://localhost:3000'),\r\n  NEXT_PUBLIC_APP_NAME: z.string().default('ZK-Agent'),\r\n  NEXT_PUBLIC_APP_VERSION: z.string().default('1.0.0'),\r\n\r\n  // 数据库配置\r\n  DATABASE_URL: z.string().min(1, '数据库连接字符串不能为空'),\r\n  DATABASE_POOL_MIN: z.coerce.number().min(1).default(2),\r\n  DATABASE_POOL_MAX: z.coerce.number().min(1).default(10),\r\n\r\n  // Redis 配置\r\n  REDIS_URL: z.string().default('redis://localhost:6379'),\r\n  REDIS_PASSWORD: z.string().optional(),\r\n  REDIS_DB: z.coerce.number().min(0).default(0),\r\n\r\n  // 认证配置\r\n  JWT_SECRET: z.string().min(32, 'JWT密钥长度至少32位'),\r\n  JWT_EXPIRES_IN: z.string().default('7d'),\r\n  JWT_REFRESH_EXPIRES_IN: z.string().default('30d'),\r\n  NEXTAUTH_SECRET: z.string().min(32, 'NextAuth密钥长度至少32位'),\r\n  NEXTAUTH_URL: z.string().url().optional(),\r\n  BCRYPT_ROUNDS: z.coerce.number().min(10).max(15).default(12),\r\n\r\n  // AI 服务配置\r\n  FASTGPT_BASE_URL: z.string().url().optional(),\r\n  FASTGPT_API_KEY: z.string().optional(),\r\n  FASTGPT_APP_ID: z.string().optional(),\r\n  QWEN_BASE_URL: z.string().url().optional(),\r\n  QWEN_API_KEY: z.string().optional(),\r\n  SILICONFLOW_BASE_URL: z.string().url().optional(),\r\n  SILICONFLOW_API_KEY: z.string().optional(),\r\n  OPENAI_API_KEY: z.string().optional(),\r\n  OPENAI_BASE_URL: z.string().url().optional(),\r\n\r\n  // 文件存储配置\r\n  UPLOAD_DIR: z.string().default('./uploads'),\r\n  TEMP_DIR: z.string().default('./temp'),\r\n  AWS_ACCESS_KEY_ID: z.string().optional(),\r\n  AWS_SECRET_ACCESS_KEY: z.string().optional(),\r\n  AWS_REGION: z.string().optional(),\r\n  AWS_S3_BUCKET: z.string().optional(),\r\n  ALIYUN_ACCESS_KEY_ID: z.string().optional(),\r\n  ALIYUN_ACCESS_KEY_SECRET: z.string().optional(),\r\n  ALIYUN_OSS_REGION: z.string().optional(),\r\n  ALIYUN_OSS_BUCKET: z.string().optional(),\r\n\r\n  // 邮件配置\r\n  SMTP_HOST: z.string().optional(),\r\n  SMTP_PORT: z.coerce.number().optional(),\r\n  SMTP_USER: z.string().optional(),\r\n  SMTP_PASS: z.string().optional(),\r\n  SMTP_FROM: z.string().optional(),\r\n\r\n  // 监控配置\r\n  LOG_LEVEL: z.enum(['error', 'warn', 'info', 'debug']).default('info'),\r\n  LOG_FILE_PATH: z.string().default('./logs'),\r\n  SENTRY_DSN: z.string().optional(),\r\n  SENTRY_ENVIRONMENT: z.string().optional(),\r\n  PROMETHEUS_ENABLED: z.coerce.boolean().default(false),\r\n  PROMETHEUS_PORT: z.coerce.number().default(9090),\r\n\r\n  // 第三方服务配置\r\n  WECHAT_APP_ID: z.string().optional(),\r\n  WECHAT_APP_SECRET: z.string().optional(),\r\n  STRIPE_PUBLIC_KEY: z.string().optional(),\r\n  STRIPE_SECRET_KEY: z.string().optional(),\r\n  STRIPE_WEBHOOK_SECRET: z.string().optional(),\r\n\r\n  // 开发配置\r\n  DEBUG: z.coerce.boolean().default(false),\r\n  VERBOSE_LOGGING: z.coerce.boolean().default(false),\r\n  RATE_LIMIT_ENABLED: z.coerce.boolean().default(true),\r\n  RATE_LIMIT_WINDOW_MS: z.coerce.number().default(900000),\r\n  RATE_LIMIT_MAX_REQUESTS: z.coerce.number().default(100),\r\n  CORS_ORIGIN: z.string().default('http://localhost:3000'),\r\n  CORS_CREDENTIALS: z.coerce.boolean().default(true),\r\n\r\n  // 性能配置\r\n  CACHE_ENABLED: z.coerce.boolean().default(true),\r\n  CACHE_TTL: z.coerce.number().default(3600),\r\n  COMPRESSION_ENABLED: z.coerce.boolean().default(true),\r\n  COMPRESSION_LEVEL: z.coerce.number().min(1).max(9).default(6),\r\n\r\n  // WebSocket 配置\r\n  WS_PORT: z.coerce.number().default(3001),\r\n  WS_HEARTBEAT_INTERVAL: z.coerce.number().default(30000),\r\n  WS_MAX_CONNECTIONS: z.coerce.number().default(1000),\r\n\r\n  // CAD 配置\r\n  CAD_MAX_FILE_SIZE: z.coerce.number().default(52428800),\r\n  CAD_SUPPORTED_FORMATS: z.string().default('dwg,dxf,step,iges,obj'),\r\n  CAD_ANALYSIS_TIMEOUT: z.coerce.number().default(300000),\r\n\r\n  // 海报配置\r\n  POSTER_MAX_QUEUE_SIZE: z.coerce.number().default(100),\r\n  POSTER_GENERATION_TIMEOUT: z.coerce.number().default(120000),\r\n  POSTER_OUTPUT_FORMATS: z.string().default('png,jpg,pdf'),\r\n\r\n  // 安全配置\r\n  HTTPS_ENABLED: z.coerce.boolean().default(false),\r\n  SSL_CERT_PATH: z.string().optional(),\r\n  SSL_KEY_PATH: z.string().optional(),\r\n  SECURITY_HEADERS_ENABLED: z.coerce.boolean().default(true),\r\n  CSP_ENABLED: z.coerce.boolean().default(true),\r\n  IP_WHITELIST: z.string().optional(),\r\n\r\n  // 备份配置\r\n  BACKUP_ENABLED: z.coerce.boolean().default(false),\r\n  BACKUP_SCHEDULE: z.string().default('0 2 * * *'),\r\n  BACKUP_RETENTION_DAYS: z.coerce.number().default(30),\r\n  BACKUP_STORAGE_PATH: z.string().default('./backups'),\r\n});\r\n\r\n// 验证环境变量\r\nfunction validateEnv(): z.infer<typeof envSchema> {\r\n  // 在测试环境中使用宽松的验证\r\n  if (process.env.NODE_ENV === 'test') {\r\n    const testSchema = envSchema.partial({\r\n      JWT_SECRET: true,\r\n      NEXTAUTH_SECRET: true,\r\n      DATABASE_URL: true,\r\n    }).extend({\r\n      JWT_SECRET: z.string().default('test-jwt-secret-key-for-testing-purposes-only-32-chars-minimum'),\r\n      NEXTAUTH_SECRET: z.string().default('test-nextauth-secret-key-for-testing-purposes-only-32-chars-minimum'),\r\n      DATABASE_URL: z.string().default('postgresql://test:test@localhost:5432/test_db'),\r\n    });\r\n    \r\n    try {\r\n      return testSchema.parse(process.env);\r\n    } catch (error) {\r\n      console.warn('Test environment validation warning:', error);\r\n      // 在测试环境中返回默认值\r\n      return testSchema.parse({});\r\n    }\r\n  }\r\n\r\n  try {\r\n    return envSchema.parse(process.env);\r\n  } catch (error) {\r\n    if (error instanceof z.ZodError) {\r\n      const missingVars = error.errors.map(err => `${err.path.join('.')}: ${err.message}`);\r\n      throw new Error(`环境变量验证失败:\\n${missingVars.join('\\n')}`);\r\n    }\r\n    throw error;\r\n  }\r\n}\r\n\r\n// 导出验证后的环境变量\r\nexport const env = validateEnv();\r\n\r\n// 环境变量类型\r\nexport type Env = typeof env;\r\n\r\n// 检查是否为生产环境\r\nexport const isProduction = env.NODE_ENV === 'production';\r\nexport const isDevelopment = env.NODE_ENV === 'development';\r\nexport const isTest = env.NODE_ENV === 'test';\r\n\r\n// 数据库配置\r\nexport const dbConfig = {\r\n  url: env.DATABASE_URL,\r\n  pool: {\r\n    min: env.DATABASE_POOL_MIN,\r\n    max: env.DATABASE_POOL_MAX,\r\n  },\r\n};\r\n\r\n// Redis 配置\r\nexport const redisConfig = {\r\n  url: env.REDIS_URL,\r\n  password: env.REDIS_PASSWORD,\r\n  db: env.REDIS_DB,\r\n};\r\n\r\n// JWT 配置\r\nexport const jwtConfig = {\r\n  secret: env.JWT_SECRET,\r\n  expiresIn: env.JWT_EXPIRES_IN,\r\n  refreshExpiresIn: env.JWT_REFRESH_EXPIRES_IN,\r\n};\r\n\r\n// AI 服务配置\r\nexport const aiConfig = {\r\n  fastgpt: {\r\n    baseUrl: env.FASTGPT_BASE_URL,\r\n    apiKey: env.FASTGPT_API_KEY,\r\n    appId: env.FASTGPT_APP_ID,\r\n  },\r\n  qwen: {\r\n    baseUrl: env.QWEN_BASE_URL,\r\n    apiKey: env.QWEN_API_KEY,\r\n  },\r\n  siliconflow: {\r\n    baseUrl: env.SILICONFLOW_BASE_URL,\r\n    apiKey: env.SILICONFLOW_API_KEY,\r\n  },\r\n  openai: {\r\n    baseUrl: env.OPENAI_BASE_URL,\r\n    apiKey: env.OPENAI_API_KEY,\r\n  },\r\n};\r\n\r\n// 文件存储配置\r\nexport const storageConfig = {\r\n  uploadDir: env.UPLOAD_DIR,\r\n  tempDir: env.TEMP_DIR,\r\n  aws: {\r\n    accessKeyId: env.AWS_ACCESS_KEY_ID,\r\n    secretAccessKey: env.AWS_SECRET_ACCESS_KEY,\r\n    region: env.AWS_REGION,\r\n    bucket: env.AWS_S3_BUCKET,\r\n  },\r\n  aliyun: {\r\n    accessKeyId: env.ALIYUN_ACCESS_KEY_ID,\r\n    accessKeySecret: env.ALIYUN_ACCESS_KEY_SECRET,\r\n    region: env.ALIYUN_OSS_REGION,\r\n    bucket: env.ALIYUN_OSS_BUCKET,\r\n  },\r\n};\r\n\r\n// 邮件配置\r\nexport const emailConfig = {\r\n  host: env.SMTP_HOST,\r\n  port: env.SMTP_PORT,\r\n  user: env.SMTP_USER,\r\n  pass: env.SMTP_PASS,\r\n  from: env.SMTP_FROM,\r\n};\r\n\r\n// 监控配置\r\nexport const monitoringConfig = {\r\n  logLevel: env.LOG_LEVEL,\r\n  logFilePath: env.LOG_FILE_PATH,\r\n  sentry: {\r\n    dsn: env.SENTRY_DSN,\r\n    environment: env.SENTRY_ENVIRONMENT,\r\n  },\r\n  prometheus: {\r\n    enabled: env.PROMETHEUS_ENABLED,\r\n    port: env.PROMETHEUS_PORT,\r\n  },\r\n};\r\n\r\n// 安全配置\r\nexport const securityConfig = {\r\n  bcryptRounds: env.BCRYPT_ROUNDS,\r\n  rateLimit: {\r\n    enabled: env.RATE_LIMIT_ENABLED,\r\n    windowMs: env.RATE_LIMIT_WINDOW_MS,\r\n    maxRequests: env.RATE_LIMIT_MAX_REQUESTS,\r\n  },\r\n  cors: {\r\n    origin: env.CORS_ORIGIN,\r\n    credentials: env.CORS_CREDENTIALS,\r\n  },\r\n  https: {\r\n    enabled: env.HTTPS_ENABLED,\r\n    certPath: env.SSL_CERT_PATH,\r\n    keyPath: env.SSL_KEY_PATH,\r\n  },\r\n  headers: {\r\n    enabled: env.SECURITY_HEADERS_ENABLED,\r\n    csp: env.CSP_ENABLED,\r\n  },\r\n  ipWhitelist: env.IP_WHITELIST?.split(',').filter(Boolean) || [],\r\n};\r\n\r\n// 性能配置\r\nexport const performanceConfig = {\r\n  cache: {\r\n    enabled: env.CACHE_ENABLED,\r\n    ttl: env.CACHE_TTL,\r\n  },\r\n  compression: {\r\n    enabled: env.COMPRESSION_ENABLED,\r\n    level: env.COMPRESSION_LEVEL,\r\n  },\r\n};\r\n\r\n// WebSocket 配置\r\nexport const wsConfig = {\r\n  port: env.WS_PORT,\r\n  heartbeatInterval: env.WS_HEARTBEAT_INTERVAL,\r\n  maxConnections: env.WS_MAX_CONNECTIONS,\r\n};\r\n\r\n// CAD 配置\r\nexport const cadConfig = {\r\n  maxFileSize: env.CAD_MAX_FILE_SIZE,\r\n  supportedFormats: env.CAD_SUPPORTED_FORMATS.split(','),\r\n  analysisTimeout: env.CAD_ANALYSIS_TIMEOUT,\r\n};\r\n\r\n// 海报配置\r\nexport const posterConfig = {\r\n  maxQueueSize: env.POSTER_MAX_QUEUE_SIZE,\r\n  generationTimeout: env.POSTER_GENERATION_TIMEOUT,\r\n  outputFormats: env.POSTER_OUTPUT_FORMATS.split(','),\r\n};\r\n\r\n// 备份配置\r\nexport const backupConfig = {\r\n  enabled: env.BACKUP_ENABLED,\r\n  schedule: env.BACKUP_SCHEDULE,\r\n  retentionDays: env.BACKUP_RETENTION_DAYS,\r\n  storagePath: env.BACKUP_STORAGE_PATH,\r\n}; "],"version":3}