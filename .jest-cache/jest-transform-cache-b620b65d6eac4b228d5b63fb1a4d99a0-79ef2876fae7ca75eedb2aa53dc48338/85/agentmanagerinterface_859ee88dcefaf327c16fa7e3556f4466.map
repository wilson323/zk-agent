{"version":3,"names":["cov_1a4rntv7x1","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","AgentError","Error","constructor","message","code","details","exports","AgentValidationError","validationErrors","AgentNotFoundError","id"],"sources":["E:\\zk-agent\\lib\\interfaces\\agent-manager.interface.ts"],"sourcesContent":["/**\n * @file 智能体管理器接口定义\n * @description 定义智能体管理器的标准接口，确保类型安全和一致性\n * @author ZK-Agent Team\n * @date 2024-12-19\n */\n\nimport { AgentDefinition } from '../ag-ui/protocol/types'\ninterface Agent { /* Placeholder for Prisma Agent type */ }\n\n/**\n * 智能体验证结果\n */\nexport interface AgentValidationResult {\n  valid: boolean\n  errors: string[]\n  warnings?: string[]\n}\n\n/**\n * 智能体创建参数\n */\nexport interface CreateAgentParams {\n  appId: string\n  apiKey: string\n  name?: string\n  description?: string\n  config?: Record<string, unknown>\n}\n\n/**\n * 智能体更新参数\n */\nexport interface UpdateAgentParams {\n  id: string\n  name?: string\n  description?: string\n  config?: Record<string, unknown>\n  tools?: AgentDefinition['tools']\n}\n\n/**\n * 智能体导出数据\n */\nexport interface AgentExportData {\n  agent: AgentDefinition\n  metadata: {\n    exportedAt: string\n    version: string\n    checksum: string\n  }\n}\n\n/**\n * 智能体管理器基础接口\n */\nexport interface IAgentManager {\n  /**\n   * 从FastGPT配置创建智能体\n   */\n  createAgentFromFastGPT(params: CreateAgentParams): Promise<AgentDefinition>\n\n  /**\n   * 更新智能体配置\n   */\n  updateAgent(params: UpdateAgentParams): Promise<AgentDefinition>\n\n  /**\n   * 删除智能体\n   */\n  deleteAgent(id: string): Promise<boolean>\n\n  /**\n   * 验证智能体配置\n   */\n  validateAgent(agent: AgentDefinition): AgentValidationResult\n\n  /**\n   * 导出智能体配置\n   */\n  exportAgent(id: string): Promise<AgentExportData>\n\n  /**\n   * 导入智能体配置\n   */\n  importAgent(data: AgentExportData): Promise<AgentDefinition>\n\n  /**\n   * 获取智能体列表\n   */\n  listAgents(): Promise<AgentDefinition[]>\n\n  /**\n   * 根据ID获取智能体\n   */\n  getAgent(id: string): Promise<AgentDefinition | null>\n}\n\n/**\n * 智能体服务接口\n */\nexport interface IAgentService {\n  /**\n   * 创建智能体\n   */\n  createAgent(data: CreateAgentData): Promise<Agent>\n\n  /**\n   * 获取智能体列表\n   */\n  listAgents(params?: ListAgentsParams): Promise<{\n    agents: Agent[]\n    total: number\n    page: number\n    pageSize: number\n  }>\n\n  /**\n   * 根据ID获取智能体\n   */\n  getAgentById(id: string): Promise<Agent | null>\n\n  /**\n   * 更新智能体\n   */\n  updateAgent(id: string, data: UpdateAgentData): Promise<Agent>\n\n  /**\n   * 删除智能体\n   */\n  deleteAgent(id: string): Promise<boolean>\n\n  /**\n   * 搜索智能体\n   */\n  searchAgents(query: string): Promise<Agent[]>\n}\n\n/**\n * 智能体创建数据类型\n */\nexport interface CreateAgentData {\n  name: string\n  description: string\n  type?: 'CONVERSATION' | 'CAD_ANALYZER' | 'POSTER_GENERATOR'\n  status?: 'ACTIVE' | 'INACTIVE' | 'ERROR' | 'MAINTENANCE'\n  avatar?: string\n  tags?: string[]\n  apiEndpoint?: string\n  capabilities?: string[]\n  config?: Record<string, unknown>\n  version?: string\n  isPublic?: boolean\n  ownerId: string\n}\n\n/**\n * 智能体更新数据类型\n */\nexport interface UpdateAgentData {\n  name?: string\n  description?: string\n  type?: 'CONVERSATION' | 'CAD_ANALYZER' | 'POSTER_GENERATOR'\n  status?: 'ACTIVE' | 'INACTIVE' | 'ERROR' | 'MAINTENANCE'\n  avatar?: string\n  tags?: string[]\n  apiEndpoint?: string\n  capabilities?: string[]\n  config?: Record<string, unknown>\n  version?: string\n  isPublic?: boolean\n}\n\n/**\n * 智能体列表查询参数\n */\nexport interface ListAgentsParams {\n  page?: number\n  pageSize?: number\n  search?: string\n  type?: 'CONVERSATION' | 'CAD_ANALYZER' | 'POSTER_GENERATOR'\n  status?: 'ACTIVE' | 'INACTIVE' | 'ERROR' | 'MAINTENANCE'\n  isPublic?: boolean\n  ownerId?: string\n  sortBy?: 'createdAt' | 'updatedAt' | 'name' | 'usageCount' | 'rating'\n  sortOrder?: 'asc' | 'desc'\n}\n\n/**\n * 智能体错误类型\n */\nexport class AgentError extends Error {\n  constructor(\n    message: string,\n    public code: string,\n    public details?: Record<string, unknown>\n  ) {\n    super(message)\n    this.name = 'AgentError'\n  }\n}\n\n/**\n * 智能体验证错误\n */\nexport class AgentValidationError extends AgentError {\n  constructor(message: string, public validationErrors: string[]) {\n    super(message, 'VALIDATION_ERROR', { validationErrors })\n    this.name = 'AgentValidationError'\n  }\n}\n\n/**\n * 智能体未找到错误\n */\nexport class AgentNotFoundError extends AgentError {\n  constructor(id: string) {\n    super(`智能体未找到: ${id}`, 'AGENT_NOT_FOUND', { id })\n    this.name = 'AgentNotFoundError'\n  }\n}"],"mappings":"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","ignoreList":[]}