77975046b4b7104e2c267ad122af477d
/**
 * @file performance-monitor.js
 * @description 数据库性能监控和分析模块
 * @author ZK-Agent Team
 * @date 2025-06-25
 */

const EventEmitter = require('events');
const fs = require('fs').promises;
const path = require('path');

/**
 * 数据库性能监控器
 */
class DatabasePerformanceMonitor extends EventEmitter {
  constructor(options = {}) {
    super();
    this.options = {
      enableMetrics: process.env.ENABLE_METRICS === 'true',
      metricsRetentionDays: parseInt(process.env.METRICS_RETENTION_DAYS) || 30,
      slowQueryThreshold: parseInt(process.env.SLOW_QUERY_THRESHOLD) || 1000,
      // 1秒
      alertThreshold: {
        connectionCount: parseInt(process.env.ALERT_CONNECTION_COUNT) || 40,
        avgResponseTime: parseInt(process.env.ALERT_AVG_RESPONSE_TIME) || 500,
        errorRate: parseFloat(process.env.ALERT_ERROR_RATE) || 0.05 // 5%
      },
      ...options
    };
    this.metrics = {
      queries: [],
      connections: [],
      errors: [],
      performance: {
        totalQueries: 0,
        slowQueries: 0,
        totalErrors: 0,
        avgResponseTime: 0,
        peakConnections: 0
      }
    };
    this.startTime = Date.now();
    this.cleanupInterval = null;
    if (this.options.enableMetrics) {
      this.startCleanupScheduler();
    }
  }

  /**
   * 记录查询性能
   */
  recordQuery(queryInfo) {
    if (!this.options.enableMetrics) {
      return;
    }
    const timestamp = Date.now();
    const duration = queryInfo.duration || 0;
    const record = {
      timestamp,
      query: queryInfo.query,
      duration,
      params: queryInfo.params,
      success: queryInfo.success !== false,
      error: queryInfo.error,
      connectionId: queryInfo.connectionId
    };
    this.metrics.queries.push(record);
    this.metrics.performance.totalQueries++;

    // 检查慢查询
    if (duration > this.options.slowQueryThreshold) {
      this.metrics.performance.slowQueries++;
      this.emit('slowQuery', record);
      console.warn(`慢查询检测: ${duration}ms - ${queryInfo.query}`);
    }

    // 记录错误
    if (!record.success) {
      this.metrics.performance.totalErrors++;
      this.recordError(queryInfo.error, 'query');
    }

    // 更新平均响应时间
    this.updateAverageResponseTime(duration);

    // 检查告警阈值
    this.checkAlerts();
  }

  /**
   * 记录连接信息
   */
  recordConnection(connectionInfo) {
    if (!this.options.enableMetrics) {
      return;
    }
    const timestamp = Date.now();
    const record = {
      timestamp,
      action: connectionInfo.action,
      // 'connect', 'disconnect', 'error'
      connectionId: connectionInfo.connectionId,
      poolStatus: connectionInfo.poolStatus,
      duration: connectionInfo.duration
    };
    this.metrics.connections.push(record);

    // 更新峰值连接数
    if (connectionInfo.poolStatus && connectionInfo.poolStatus.totalCount > this.metrics.performance.peakConnections) {
      this.metrics.performance.peakConnections = connectionInfo.poolStatus.totalCount;
    }
    this.emit('connectionEvent', record);
  }

  /**
   * 记录错误
   */
  recordError(error, type = 'general') {
    if (!this.options.enableMetrics) {
      return;
    }
    const timestamp = Date.now();
    const record = {
      timestamp,
      type,
      message: error.message,
      stack: error.stack,
      code: error.code,
      severity: this.getErrorSeverity(error)
    };
    this.metrics.errors.push(record);
    this.emit('error', record);

    // 严重错误立即告警
    if (record.severity === 'critical') {
      this.emit('criticalError', record);
    }
  }

  /**
   * 获取错误严重程度
   */
  getErrorSeverity(error) {
    const criticalCodes = ['ECONNREFUSED', 'ENOTFOUND', 'ETIMEDOUT', 'ECONNRESET'];
    const warningCodes = ['23505', '23503', '23502']; // PostgreSQL约束错误

    if (criticalCodes.includes(error.code)) {
      return 'critical';
    } else if (warningCodes.includes(error.code)) {
      return 'warning';
    } else {
      return 'info';
    }
  }

  /**
   * 更新平均响应时间
   */
  updateAverageResponseTime(duration) {
    const totalQueries = this.metrics.performance.totalQueries;
    const currentAvg = this.metrics.performance.avgResponseTime;
    this.metrics.performance.avgResponseTime = (currentAvg * (totalQueries - 1) + duration) / totalQueries;
  }

  /**
   * 检查告警阈值
   */
  checkAlerts() {
    const perf = this.metrics.performance;
    const thresholds = this.options.alertThreshold;

    // 检查平均响应时间
    if (perf.avgResponseTime > thresholds.avgResponseTime) {
      this.emit('alert', {
        type: 'high_response_time',
        value: perf.avgResponseTime,
        threshold: thresholds.avgResponseTime,
        message: `平均响应时间过高: ${perf.avgResponseTime.toFixed(2)}ms`
      });
    }

    // 检查错误率
    const errorRate = perf.totalQueries > 0 ? perf.totalErrors / perf.totalQueries : 0;
    if (errorRate > thresholds.errorRate) {
      this.emit('alert', {
        type: 'high_error_rate',
        value: errorRate,
        threshold: thresholds.errorRate,
        message: `错误率过高: ${(errorRate * 100).toFixed(2)}%`
      });
    }
  }

  /**
   * 获取性能统计
   */
  getPerformanceStats() {
    const now = Date.now();
    const uptime = now - this.startTime;

    // 计算最近1小时的统计
    const oneHourAgo = now - 60 * 60 * 1000;
    const recentQueries = this.metrics.queries.filter(q => q.timestamp > oneHourAgo);
    const recentErrors = this.metrics.errors.filter(e => e.timestamp > oneHourAgo);
    const recentAvgResponseTime = recentQueries.length > 0 ? recentQueries.reduce((sum, q) => sum + q.duration, 0) / recentQueries.length : 0;
    const recentErrorRate = recentQueries.length > 0 ? recentErrors.length / recentQueries.length : 0;
    return {
      uptime,
      overall: {
        totalQueries: this.metrics.performance.totalQueries,
        slowQueries: this.metrics.performance.slowQueries,
        totalErrors: this.metrics.performance.totalErrors,
        avgResponseTime: this.metrics.performance.avgResponseTime,
        peakConnections: this.metrics.performance.peakConnections,
        errorRate: this.metrics.performance.totalQueries > 0 ? this.metrics.performance.totalErrors / this.metrics.performance.totalQueries : 0
      },
      recent: {
        queriesLastHour: recentQueries.length,
        errorsLastHour: recentErrors.length,
        avgResponseTimeLastHour: recentAvgResponseTime,
        errorRateLastHour: recentErrorRate
      },
      slowQueries: this.getSlowQueries(10),
      recentErrors: this.getRecentErrors(10)
    };
  }

  /**
   * 获取慢查询列表
   */
  getSlowQueries(limit = 10) {
    return this.metrics.queries.filter(q => q.duration > this.options.slowQueryThreshold).sort((a, b) => b.duration - a.duration).slice(0, limit).map(q => ({
      timestamp: new Date(q.timestamp).toISOString(),
      query: q.query.substring(0, 100) + (q.query.length > 100 ? '...' : ''),
      duration: q.duration
    }));
  }

  /**
   * 获取最近错误列表
   */
  getRecentErrors(limit = 10) {
    return this.metrics.errors.sort((a, b) => b.timestamp - a.timestamp).slice(0, limit).map(e => ({
      timestamp: new Date(e.timestamp).toISOString(),
      type: e.type,
      message: e.message,
      severity: e.severity
    }));
  }

  /**
   * 导出性能报告
   */
  async exportReport(filePath) {
    try {
      const stats = this.getPerformanceStats();
      const report = {
        generatedAt: new Date().toISOString(),
        ...stats
      };
      await fs.writeFile(filePath, JSON.stringify(report, null, 2));
      console.log(`性能报告已导出到: ${filePath}`);
      return report;
    } catch (error) {
      console.error('导出性能报告失败:', error);
      throw error;
    }
  }

  /**
   * 清理过期数据
   */
  cleanupOldData() {
    const cutoffTime = Date.now() - this.options.metricsRetentionDays * 24 * 60 * 60 * 1000;
    const beforeQueries = this.metrics.queries.length;
    const beforeConnections = this.metrics.connections.length;
    const beforeErrors = this.metrics.errors.length;
    this.metrics.queries = this.metrics.queries.filter(q => q.timestamp > cutoffTime);
    this.metrics.connections = this.metrics.connections.filter(c => c.timestamp > cutoffTime);
    this.metrics.errors = this.metrics.errors.filter(e => e.timestamp > cutoffTime);
    const cleanedQueries = beforeQueries - this.metrics.queries.length;
    const cleanedConnections = beforeConnections - this.metrics.connections.length;
    const cleanedErrors = beforeErrors - this.metrics.errors.length;
    if (cleanedQueries > 0 || cleanedConnections > 0 || cleanedErrors > 0) {
      console.log(`清理过期数据: 查询${cleanedQueries}条, 连接${cleanedConnections}条, 错误${cleanedErrors}条`);
    }
  }

  /**
   * 启动清理调度器
   */
  startCleanupScheduler() {
    // 每小时清理一次过期数据
    this.cleanupInterval = setInterval(() => {
      this.cleanupOldData();
    }, 60 * 60 * 1000);
  }

  /**
   * 停止监控
   */
  stop() {
    if (this.cleanupInterval) {
      clearInterval(this.cleanupInterval);
      this.cleanupInterval = null;
    }
    this.removeAllListeners();
    console.log('数据库性能监控已停止');
  }

  /**
   * 重置统计数据
   */
  reset() {
    this.metrics = {
      queries: [],
      connections: [],
      errors: [],
      performance: {
        totalQueries: 0,
        slowQueries: 0,
        totalErrors: 0,
        avgResponseTime: 0,
        peakConnections: 0
      }
    };
    this.startTime = Date.now();
    console.log('性能监控统计数据已重置');
  }
}

// 单例实例
const performanceMonitor = new DatabasePerformanceMonitor();
module.exports = {
  DatabasePerformanceMonitor,
  performanceMonitor
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJyZXF1aXJlIiwiZnMiLCJwcm9taXNlcyIsInBhdGgiLCJEYXRhYmFzZVBlcmZvcm1hbmNlTW9uaXRvciIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImVuYWJsZU1ldHJpY3MiLCJwcm9jZXNzIiwiZW52IiwiRU5BQkxFX01FVFJJQ1MiLCJtZXRyaWNzUmV0ZW50aW9uRGF5cyIsInBhcnNlSW50IiwiTUVUUklDU19SRVRFTlRJT05fREFZUyIsInNsb3dRdWVyeVRocmVzaG9sZCIsIlNMT1dfUVVFUllfVEhSRVNIT0xEIiwiYWxlcnRUaHJlc2hvbGQiLCJjb25uZWN0aW9uQ291bnQiLCJBTEVSVF9DT05ORUNUSU9OX0NPVU5UIiwiYXZnUmVzcG9uc2VUaW1lIiwiQUxFUlRfQVZHX1JFU1BPTlNFX1RJTUUiLCJlcnJvclJhdGUiLCJwYXJzZUZsb2F0IiwiQUxFUlRfRVJST1JfUkFURSIsIm1ldHJpY3MiLCJxdWVyaWVzIiwiY29ubmVjdGlvbnMiLCJlcnJvcnMiLCJwZXJmb3JtYW5jZSIsInRvdGFsUXVlcmllcyIsInNsb3dRdWVyaWVzIiwidG90YWxFcnJvcnMiLCJwZWFrQ29ubmVjdGlvbnMiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiY2xlYW51cEludGVydmFsIiwic3RhcnRDbGVhbnVwU2NoZWR1bGVyIiwicmVjb3JkUXVlcnkiLCJxdWVyeUluZm8iLCJ0aW1lc3RhbXAiLCJkdXJhdGlvbiIsInJlY29yZCIsInF1ZXJ5IiwicGFyYW1zIiwic3VjY2VzcyIsImVycm9yIiwiY29ubmVjdGlvbklkIiwicHVzaCIsImVtaXQiLCJjb25zb2xlIiwid2FybiIsInJlY29yZEVycm9yIiwidXBkYXRlQXZlcmFnZVJlc3BvbnNlVGltZSIsImNoZWNrQWxlcnRzIiwicmVjb3JkQ29ubmVjdGlvbiIsImNvbm5lY3Rpb25JbmZvIiwiYWN0aW9uIiwicG9vbFN0YXR1cyIsInRvdGFsQ291bnQiLCJ0eXBlIiwibWVzc2FnZSIsInN0YWNrIiwiY29kZSIsInNldmVyaXR5IiwiZ2V0RXJyb3JTZXZlcml0eSIsImNyaXRpY2FsQ29kZXMiLCJ3YXJuaW5nQ29kZXMiLCJpbmNsdWRlcyIsImN1cnJlbnRBdmciLCJwZXJmIiwidGhyZXNob2xkcyIsInZhbHVlIiwidGhyZXNob2xkIiwidG9GaXhlZCIsImdldFBlcmZvcm1hbmNlU3RhdHMiLCJ1cHRpbWUiLCJvbmVIb3VyQWdvIiwicmVjZW50UXVlcmllcyIsImZpbHRlciIsInEiLCJyZWNlbnRFcnJvcnMiLCJlIiwicmVjZW50QXZnUmVzcG9uc2VUaW1lIiwibGVuZ3RoIiwicmVkdWNlIiwic3VtIiwicmVjZW50RXJyb3JSYXRlIiwib3ZlcmFsbCIsInJlY2VudCIsInF1ZXJpZXNMYXN0SG91ciIsImVycm9yc0xhc3RIb3VyIiwiYXZnUmVzcG9uc2VUaW1lTGFzdEhvdXIiLCJlcnJvclJhdGVMYXN0SG91ciIsImdldFNsb3dRdWVyaWVzIiwiZ2V0UmVjZW50RXJyb3JzIiwibGltaXQiLCJzb3J0IiwiYSIsImIiLCJzbGljZSIsIm1hcCIsInRvSVNPU3RyaW5nIiwic3Vic3RyaW5nIiwiZXhwb3J0UmVwb3J0IiwiZmlsZVBhdGgiLCJzdGF0cyIsInJlcG9ydCIsImdlbmVyYXRlZEF0Iiwid3JpdGVGaWxlIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvZyIsImNsZWFudXBPbGREYXRhIiwiY3V0b2ZmVGltZSIsImJlZm9yZVF1ZXJpZXMiLCJiZWZvcmVDb25uZWN0aW9ucyIsImJlZm9yZUVycm9ycyIsImMiLCJjbGVhbmVkUXVlcmllcyIsImNsZWFuZWRDb25uZWN0aW9ucyIsImNsZWFuZWRFcnJvcnMiLCJzZXRJbnRlcnZhbCIsInN0b3AiLCJjbGVhckludGVydmFsIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmVzZXQiLCJwZXJmb3JtYW5jZU1vbml0b3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsicGVyZm9ybWFuY2UtbW9uaXRvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIHBlcmZvcm1hbmNlLW1vbml0b3IuanNcbiAqIEBkZXNjcmlwdGlvbiDmlbDmja7lupPmgKfog73nm5HmjqflkozliIbmnpDmqKHlnZdcbiAqIEBhdXRob3IgWkstQWdlbnQgVGVhbVxuICogQGRhdGUgMjAyNS0wNi0yNVxuICovXG5cbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpO1xuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpLnByb21pc2VzO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuLyoqXG4gKiDmlbDmja7lupPmgKfog73nm5HmjqflmahcbiAqL1xuY2xhc3MgRGF0YWJhc2VQZXJmb3JtYW5jZU1vbml0b3IgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcigpO1xuICAgIFxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGVuYWJsZU1ldHJpY3M6IHByb2Nlc3MuZW52LkVOQUJMRV9NRVRSSUNTID09PSAndHJ1ZScsXG4gICAgICBtZXRyaWNzUmV0ZW50aW9uRGF5czogcGFyc2VJbnQocHJvY2Vzcy5lbnYuTUVUUklDU19SRVRFTlRJT05fREFZUykgfHwgMzAsXG4gICAgICBzbG93UXVlcnlUaHJlc2hvbGQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LlNMT1dfUVVFUllfVEhSRVNIT0xEKSB8fCAxMDAwLCAvLyAx56eSXG4gICAgICBhbGVydFRocmVzaG9sZDoge1xuICAgICAgICBjb25uZWN0aW9uQ291bnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkFMRVJUX0NPTk5FQ1RJT05fQ09VTlQpIHx8IDQwLFxuICAgICAgICBhdmdSZXNwb25zZVRpbWU6IHBhcnNlSW50KHByb2Nlc3MuZW52LkFMRVJUX0FWR19SRVNQT05TRV9USU1FKSB8fCA1MDAsXG4gICAgICAgIGVycm9yUmF0ZTogcGFyc2VGbG9hdChwcm9jZXNzLmVudi5BTEVSVF9FUlJPUl9SQVRFKSB8fCAwLjA1IC8vIDUlXG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG4gICAgXG4gICAgdGhpcy5tZXRyaWNzID0ge1xuICAgICAgcXVlcmllczogW10sXG4gICAgICBjb25uZWN0aW9uczogW10sXG4gICAgICBlcnJvcnM6IFtdLFxuICAgICAgcGVyZm9ybWFuY2U6IHtcbiAgICAgICAgdG90YWxRdWVyaWVzOiAwLFxuICAgICAgICBzbG93UXVlcmllczogMCxcbiAgICAgICAgdG90YWxFcnJvcnM6IDAsXG4gICAgICAgIGF2Z1Jlc3BvbnNlVGltZTogMCxcbiAgICAgICAgcGVha0Nvbm5lY3Rpb25zOiAwXG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5jbGVhbnVwSW50ZXJ2YWwgPSBudWxsO1xuICAgIFxuICAgIGlmICh0aGlzLm9wdGlvbnMuZW5hYmxlTWV0cmljcykge1xuICAgICAgdGhpcy5zdGFydENsZWFudXBTY2hlZHVsZXIoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6K6w5b2V5p+l6K+i5oCn6IO9XG4gICAqL1xuICByZWNvcmRRdWVyeShxdWVyeUluZm8pIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5lbmFibGVNZXRyaWNzKSB7cmV0dXJuO31cbiAgICBcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gcXVlcnlJbmZvLmR1cmF0aW9uIHx8IDA7XG4gICAgXG4gICAgY29uc3QgcmVjb3JkID0ge1xuICAgICAgdGltZXN0YW1wLFxuICAgICAgcXVlcnk6IHF1ZXJ5SW5mby5xdWVyeSxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgcGFyYW1zOiBxdWVyeUluZm8ucGFyYW1zLFxuICAgICAgc3VjY2VzczogcXVlcnlJbmZvLnN1Y2Nlc3MgIT09IGZhbHNlLFxuICAgICAgZXJyb3I6IHF1ZXJ5SW5mby5lcnJvcixcbiAgICAgIGNvbm5lY3Rpb25JZDogcXVlcnlJbmZvLmNvbm5lY3Rpb25JZFxuICAgIH07XG4gICAgXG4gICAgdGhpcy5tZXRyaWNzLnF1ZXJpZXMucHVzaChyZWNvcmQpO1xuICAgIHRoaXMubWV0cmljcy5wZXJmb3JtYW5jZS50b3RhbFF1ZXJpZXMrKztcbiAgICBcbiAgICAvLyDmo4Dmn6XmhaLmn6Xor6JcbiAgICBpZiAoZHVyYXRpb24gPiB0aGlzLm9wdGlvbnMuc2xvd1F1ZXJ5VGhyZXNob2xkKSB7XG4gICAgICB0aGlzLm1ldHJpY3MucGVyZm9ybWFuY2Uuc2xvd1F1ZXJpZXMrKztcbiAgICAgIHRoaXMuZW1pdCgnc2xvd1F1ZXJ5JywgcmVjb3JkKTtcbiAgICAgIGNvbnNvbGUud2Fybihg5oWi5p+l6K+i5qOA5rWLOiAke2R1cmF0aW9ufW1zIC0gJHtxdWVyeUluZm8ucXVlcnl9YCk7XG4gICAgfVxuICAgIFxuICAgIC8vIOiusOW9lemUmeivr1xuICAgIGlmICghcmVjb3JkLnN1Y2Nlc3MpIHtcbiAgICAgIHRoaXMubWV0cmljcy5wZXJmb3JtYW5jZS50b3RhbEVycm9ycysrO1xuICAgICAgdGhpcy5yZWNvcmRFcnJvcihxdWVyeUluZm8uZXJyb3IsICdxdWVyeScpO1xuICAgIH1cbiAgICBcbiAgICAvLyDmm7TmlrDlubPlnYflk43lupTml7bpl7RcbiAgICB0aGlzLnVwZGF0ZUF2ZXJhZ2VSZXNwb25zZVRpbWUoZHVyYXRpb24pO1xuICAgIFxuICAgIC8vIOajgOafpeWRiuitpumYiOWAvFxuICAgIHRoaXMuY2hlY2tBbGVydHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDorrDlvZXov57mjqXkv6Hmga9cbiAgICovXG4gIHJlY29yZENvbm5lY3Rpb24oY29ubmVjdGlvbkluZm8pIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5lbmFibGVNZXRyaWNzKSB7cmV0dXJuO31cbiAgICBcbiAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIFxuICAgIGNvbnN0IHJlY29yZCA9IHtcbiAgICAgIHRpbWVzdGFtcCxcbiAgICAgIGFjdGlvbjogY29ubmVjdGlvbkluZm8uYWN0aW9uLCAvLyAnY29ubmVjdCcsICdkaXNjb25uZWN0JywgJ2Vycm9yJ1xuICAgICAgY29ubmVjdGlvbklkOiBjb25uZWN0aW9uSW5mby5jb25uZWN0aW9uSWQsXG4gICAgICBwb29sU3RhdHVzOiBjb25uZWN0aW9uSW5mby5wb29sU3RhdHVzLFxuICAgICAgZHVyYXRpb246IGNvbm5lY3Rpb25JbmZvLmR1cmF0aW9uXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLm1ldHJpY3MuY29ubmVjdGlvbnMucHVzaChyZWNvcmQpO1xuICAgIFxuICAgIC8vIOabtOaWsOWzsOWAvOi/nuaOpeaVsFxuICAgIGlmIChjb25uZWN0aW9uSW5mby5wb29sU3RhdHVzICYmIGNvbm5lY3Rpb25JbmZvLnBvb2xTdGF0dXMudG90YWxDb3VudCA+IHRoaXMubWV0cmljcy5wZXJmb3JtYW5jZS5wZWFrQ29ubmVjdGlvbnMpIHtcbiAgICAgIHRoaXMubWV0cmljcy5wZXJmb3JtYW5jZS5wZWFrQ29ubmVjdGlvbnMgPSBjb25uZWN0aW9uSW5mby5wb29sU3RhdHVzLnRvdGFsQ291bnQ7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZW1pdCgnY29ubmVjdGlvbkV2ZW50JywgcmVjb3JkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDorrDlvZXplJnor69cbiAgICovXG4gIHJlY29yZEVycm9yKGVycm9yLCB0eXBlID0gJ2dlbmVyYWwnKSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZW5hYmxlTWV0cmljcykge3JldHVybjt9XG4gICAgXG4gICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICBcbiAgICBjb25zdCByZWNvcmQgPSB7XG4gICAgICB0aW1lc3RhbXAsXG4gICAgICB0eXBlLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICBzZXZlcml0eTogdGhpcy5nZXRFcnJvclNldmVyaXR5KGVycm9yKVxuICAgIH07XG4gICAgXG4gICAgdGhpcy5tZXRyaWNzLmVycm9ycy5wdXNoKHJlY29yZCk7XG4gICAgdGhpcy5lbWl0KCdlcnJvcicsIHJlY29yZCk7XG4gICAgXG4gICAgLy8g5Lil6YeN6ZSZ6K+v56uL5Y2z5ZGK6K2mXG4gICAgaWYgKHJlY29yZC5zZXZlcml0eSA9PT0gJ2NyaXRpY2FsJykge1xuICAgICAgdGhpcy5lbWl0KCdjcml0aWNhbEVycm9yJywgcmVjb3JkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W6ZSZ6K+v5Lil6YeN56iL5bqmXG4gICAqL1xuICBnZXRFcnJvclNldmVyaXR5KGVycm9yKSB7XG4gICAgY29uc3QgY3JpdGljYWxDb2RlcyA9IFsnRUNPTk5SRUZVU0VEJywgJ0VOT1RGT1VORCcsICdFVElNRURPVVQnLCAnRUNPTk5SRVNFVCddO1xuICAgIGNvbnN0IHdhcm5pbmdDb2RlcyA9IFsnMjM1MDUnLCAnMjM1MDMnLCAnMjM1MDInXTsgLy8gUG9zdGdyZVNRTOe6puadn+mUmeivr1xuICAgIFxuICAgIGlmIChjcml0aWNhbENvZGVzLmluY2x1ZGVzKGVycm9yLmNvZGUpKSB7XG4gICAgICByZXR1cm4gJ2NyaXRpY2FsJztcbiAgICB9IGVsc2UgaWYgKHdhcm5pbmdDb2Rlcy5pbmNsdWRlcyhlcnJvci5jb2RlKSkge1xuICAgICAgcmV0dXJuICd3YXJuaW5nJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdpbmZvJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5pu05paw5bmz5Z2H5ZON5bqU5pe26Ze0XG4gICAqL1xuICB1cGRhdGVBdmVyYWdlUmVzcG9uc2VUaW1lKGR1cmF0aW9uKSB7XG4gICAgY29uc3QgdG90YWxRdWVyaWVzID0gdGhpcy5tZXRyaWNzLnBlcmZvcm1hbmNlLnRvdGFsUXVlcmllcztcbiAgICBjb25zdCBjdXJyZW50QXZnID0gdGhpcy5tZXRyaWNzLnBlcmZvcm1hbmNlLmF2Z1Jlc3BvbnNlVGltZTtcbiAgICBcbiAgICB0aGlzLm1ldHJpY3MucGVyZm9ybWFuY2UuYXZnUmVzcG9uc2VUaW1lID0gXG4gICAgICAoKGN1cnJlbnRBdmcgKiAodG90YWxRdWVyaWVzIC0gMSkpICsgZHVyYXRpb24pIC8gdG90YWxRdWVyaWVzO1xuICB9XG5cbiAgLyoqXG4gICAqIOajgOafpeWRiuitpumYiOWAvFxuICAgKi9cbiAgY2hlY2tBbGVydHMoKSB7XG4gICAgY29uc3QgcGVyZiA9IHRoaXMubWV0cmljcy5wZXJmb3JtYW5jZTtcbiAgICBjb25zdCB0aHJlc2hvbGRzID0gdGhpcy5vcHRpb25zLmFsZXJ0VGhyZXNob2xkO1xuICAgIFxuICAgIC8vIOajgOafpeW5s+Wdh+WTjeW6lOaXtumXtFxuICAgIGlmIChwZXJmLmF2Z1Jlc3BvbnNlVGltZSA+IHRocmVzaG9sZHMuYXZnUmVzcG9uc2VUaW1lKSB7XG4gICAgICB0aGlzLmVtaXQoJ2FsZXJ0Jywge1xuICAgICAgICB0eXBlOiAnaGlnaF9yZXNwb25zZV90aW1lJyxcbiAgICAgICAgdmFsdWU6IHBlcmYuYXZnUmVzcG9uc2VUaW1lLFxuICAgICAgICB0aHJlc2hvbGQ6IHRocmVzaG9sZHMuYXZnUmVzcG9uc2VUaW1lLFxuICAgICAgICBtZXNzYWdlOiBg5bmz5Z2H5ZON5bqU5pe26Ze06L+H6auYOiAke3BlcmYuYXZnUmVzcG9uc2VUaW1lLnRvRml4ZWQoMil9bXNgXG4gICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8g5qOA5p+l6ZSZ6K+v546HXG4gICAgY29uc3QgZXJyb3JSYXRlID0gcGVyZi50b3RhbFF1ZXJpZXMgPiAwID8gcGVyZi50b3RhbEVycm9ycyAvIHBlcmYudG90YWxRdWVyaWVzIDogMDtcbiAgICBpZiAoZXJyb3JSYXRlID4gdGhyZXNob2xkcy5lcnJvclJhdGUpIHtcbiAgICAgIHRoaXMuZW1pdCgnYWxlcnQnLCB7XG4gICAgICAgIHR5cGU6ICdoaWdoX2Vycm9yX3JhdGUnLFxuICAgICAgICB2YWx1ZTogZXJyb3JSYXRlLFxuICAgICAgICB0aHJlc2hvbGQ6IHRocmVzaG9sZHMuZXJyb3JSYXRlLFxuICAgICAgICBtZXNzYWdlOiBg6ZSZ6K+v546H6L+H6auYOiAkeyhlcnJvclJhdGUgKiAxMDApLnRvRml4ZWQoMil9JWBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bmgKfog73nu5/orqFcbiAgICovXG4gIGdldFBlcmZvcm1hbmNlU3RhdHMoKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCB1cHRpbWUgPSBub3cgLSB0aGlzLnN0YXJ0VGltZTtcbiAgICBcbiAgICAvLyDorqHnrpfmnIDov5Ex5bCP5pe255qE57uf6K6hXG4gICAgY29uc3Qgb25lSG91ckFnbyA9IG5vdyAtICg2MCAqIDYwICogMTAwMCk7XG4gICAgY29uc3QgcmVjZW50UXVlcmllcyA9IHRoaXMubWV0cmljcy5xdWVyaWVzLmZpbHRlcihxID0+IHEudGltZXN0YW1wID4gb25lSG91ckFnbyk7XG4gICAgY29uc3QgcmVjZW50RXJyb3JzID0gdGhpcy5tZXRyaWNzLmVycm9ycy5maWx0ZXIoZSA9PiBlLnRpbWVzdGFtcCA+IG9uZUhvdXJBZ28pO1xuICAgIFxuICAgIGNvbnN0IHJlY2VudEF2Z1Jlc3BvbnNlVGltZSA9IHJlY2VudFF1ZXJpZXMubGVuZ3RoID4gMCBcbiAgICAgID8gcmVjZW50UXVlcmllcy5yZWR1Y2UoKHN1bSwgcSkgPT4gc3VtICsgcS5kdXJhdGlvbiwgMCkgLyByZWNlbnRRdWVyaWVzLmxlbmd0aCBcbiAgICAgIDogMDtcbiAgICBcbiAgICBjb25zdCByZWNlbnRFcnJvclJhdGUgPSByZWNlbnRRdWVyaWVzLmxlbmd0aCA+IDAgXG4gICAgICA/IHJlY2VudEVycm9ycy5sZW5ndGggLyByZWNlbnRRdWVyaWVzLmxlbmd0aCBcbiAgICAgIDogMDtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgdXB0aW1lLFxuICAgICAgb3ZlcmFsbDoge1xuICAgICAgICB0b3RhbFF1ZXJpZXM6IHRoaXMubWV0cmljcy5wZXJmb3JtYW5jZS50b3RhbFF1ZXJpZXMsXG4gICAgICAgIHNsb3dRdWVyaWVzOiB0aGlzLm1ldHJpY3MucGVyZm9ybWFuY2Uuc2xvd1F1ZXJpZXMsXG4gICAgICAgIHRvdGFsRXJyb3JzOiB0aGlzLm1ldHJpY3MucGVyZm9ybWFuY2UudG90YWxFcnJvcnMsXG4gICAgICAgIGF2Z1Jlc3BvbnNlVGltZTogdGhpcy5tZXRyaWNzLnBlcmZvcm1hbmNlLmF2Z1Jlc3BvbnNlVGltZSxcbiAgICAgICAgcGVha0Nvbm5lY3Rpb25zOiB0aGlzLm1ldHJpY3MucGVyZm9ybWFuY2UucGVha0Nvbm5lY3Rpb25zLFxuICAgICAgICBlcnJvclJhdGU6IHRoaXMubWV0cmljcy5wZXJmb3JtYW5jZS50b3RhbFF1ZXJpZXMgPiAwIFxuICAgICAgICAgID8gdGhpcy5tZXRyaWNzLnBlcmZvcm1hbmNlLnRvdGFsRXJyb3JzIC8gdGhpcy5tZXRyaWNzLnBlcmZvcm1hbmNlLnRvdGFsUXVlcmllcyBcbiAgICAgICAgICA6IDBcbiAgICAgIH0sXG4gICAgICByZWNlbnQ6IHtcbiAgICAgICAgcXVlcmllc0xhc3RIb3VyOiByZWNlbnRRdWVyaWVzLmxlbmd0aCxcbiAgICAgICAgZXJyb3JzTGFzdEhvdXI6IHJlY2VudEVycm9ycy5sZW5ndGgsXG4gICAgICAgIGF2Z1Jlc3BvbnNlVGltZUxhc3RIb3VyOiByZWNlbnRBdmdSZXNwb25zZVRpbWUsXG4gICAgICAgIGVycm9yUmF0ZUxhc3RIb3VyOiByZWNlbnRFcnJvclJhdGVcbiAgICAgIH0sXG4gICAgICBzbG93UXVlcmllczogdGhpcy5nZXRTbG93UXVlcmllcygxMCksXG4gICAgICByZWNlbnRFcnJvcnM6IHRoaXMuZ2V0UmVjZW50RXJyb3JzKDEwKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5oWi5p+l6K+i5YiX6KGoXG4gICAqL1xuICBnZXRTbG93UXVlcmllcyhsaW1pdCA9IDEwKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0cmljcy5xdWVyaWVzXG4gICAgICAuZmlsdGVyKHEgPT4gcS5kdXJhdGlvbiA+IHRoaXMub3B0aW9ucy5zbG93UXVlcnlUaHJlc2hvbGQpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5kdXJhdGlvbiAtIGEuZHVyYXRpb24pXG4gICAgICAuc2xpY2UoMCwgbGltaXQpXG4gICAgICAubWFwKHEgPT4gKHtcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShxLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcXVlcnk6IHEucXVlcnkuc3Vic3RyaW5nKDAsIDEwMCkgKyAocS5xdWVyeS5sZW5ndGggPiAxMDAgPyAnLi4uJyA6ICcnKSxcbiAgICAgICAgZHVyYXRpb246IHEuZHVyYXRpb25cbiAgICAgIH0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bmnIDov5HplJnor6/liJfooahcbiAgICovXG4gIGdldFJlY2VudEVycm9ycyhsaW1pdCA9IDEwKSB7XG4gICAgcmV0dXJuIHRoaXMubWV0cmljcy5lcnJvcnNcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnRpbWVzdGFtcCAtIGEudGltZXN0YW1wKVxuICAgICAgLnNsaWNlKDAsIGxpbWl0KVxuICAgICAgLm1hcChlID0+ICh7XG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoZS50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHR5cGU6IGUudHlwZSxcbiAgICAgICAgbWVzc2FnZTogZS5tZXNzYWdlLFxuICAgICAgICBzZXZlcml0eTogZS5zZXZlcml0eVxuICAgICAgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIOWvvOWHuuaAp+iDveaKpeWRilxuICAgKi9cbiAgYXN5bmMgZXhwb3J0UmVwb3J0KGZpbGVQYXRoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXRzID0gdGhpcy5nZXRQZXJmb3JtYW5jZVN0YXRzKCk7XG4gICAgICBjb25zdCByZXBvcnQgPSB7XG4gICAgICAgIGdlbmVyYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIC4uLnN0YXRzXG4gICAgICB9O1xuICAgICAgXG4gICAgICBhd2FpdCBmcy53cml0ZUZpbGUoZmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KHJlcG9ydCwgbnVsbCwgMikpO1xuICAgICAgY29uc29sZS5sb2coYOaAp+iDveaKpeWRiuW3suWvvOWHuuWIsDogJHtmaWxlUGF0aH1gKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlcG9ydDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign5a+85Ye65oCn6IO95oql5ZGK5aSx6LSlOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIbov4fmnJ/mlbDmja5cbiAgICovXG4gIGNsZWFudXBPbGREYXRhKCkge1xuICAgIGNvbnN0IGN1dG9mZlRpbWUgPSBEYXRlLm5vdygpIC0gKHRoaXMub3B0aW9ucy5tZXRyaWNzUmV0ZW50aW9uRGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgIFxuICAgIGNvbnN0IGJlZm9yZVF1ZXJpZXMgPSB0aGlzLm1ldHJpY3MucXVlcmllcy5sZW5ndGg7XG4gICAgY29uc3QgYmVmb3JlQ29ubmVjdGlvbnMgPSB0aGlzLm1ldHJpY3MuY29ubmVjdGlvbnMubGVuZ3RoO1xuICAgIGNvbnN0IGJlZm9yZUVycm9ycyA9IHRoaXMubWV0cmljcy5lcnJvcnMubGVuZ3RoO1xuICAgIFxuICAgIHRoaXMubWV0cmljcy5xdWVyaWVzID0gdGhpcy5tZXRyaWNzLnF1ZXJpZXMuZmlsdGVyKHEgPT4gcS50aW1lc3RhbXAgPiBjdXRvZmZUaW1lKTtcbiAgICB0aGlzLm1ldHJpY3MuY29ubmVjdGlvbnMgPSB0aGlzLm1ldHJpY3MuY29ubmVjdGlvbnMuZmlsdGVyKGMgPT4gYy50aW1lc3RhbXAgPiBjdXRvZmZUaW1lKTtcbiAgICB0aGlzLm1ldHJpY3MuZXJyb3JzID0gdGhpcy5tZXRyaWNzLmVycm9ycy5maWx0ZXIoZSA9PiBlLnRpbWVzdGFtcCA+IGN1dG9mZlRpbWUpO1xuICAgIFxuICAgIGNvbnN0IGNsZWFuZWRRdWVyaWVzID0gYmVmb3JlUXVlcmllcyAtIHRoaXMubWV0cmljcy5xdWVyaWVzLmxlbmd0aDtcbiAgICBjb25zdCBjbGVhbmVkQ29ubmVjdGlvbnMgPSBiZWZvcmVDb25uZWN0aW9ucyAtIHRoaXMubWV0cmljcy5jb25uZWN0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgY2xlYW5lZEVycm9ycyA9IGJlZm9yZUVycm9ycyAtIHRoaXMubWV0cmljcy5lcnJvcnMubGVuZ3RoO1xuICAgIFxuICAgIGlmIChjbGVhbmVkUXVlcmllcyA+IDAgfHwgY2xlYW5lZENvbm5lY3Rpb25zID4gMCB8fCBjbGVhbmVkRXJyb3JzID4gMCkge1xuICAgICAgY29uc29sZS5sb2coYOa4heeQhui/h+acn+aVsOaNrjog5p+l6K+iJHtjbGVhbmVkUXVlcmllc33mnaEsIOi/nuaOpSR7Y2xlYW5lZENvbm5lY3Rpb25zfeadoSwg6ZSZ6K+vJHtjbGVhbmVkRXJyb3JzfeadoWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlkK/liqjmuIXnkIbosIPluqblmahcbiAgICovXG4gIHN0YXJ0Q2xlYW51cFNjaGVkdWxlcigpIHtcbiAgICAvLyDmr4/lsI/ml7bmuIXnkIbkuIDmrKHov4fmnJ/mlbDmja5cbiAgICB0aGlzLmNsZWFudXBJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuY2xlYW51cE9sZERhdGEoKTtcbiAgICB9LCA2MCAqIDYwICogMTAwMCk7XG4gIH1cblxuICAvKipcbiAgICog5YGc5q2i55uR5o6nXG4gICAqL1xuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmNsZWFudXBJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNsZWFudXBJbnRlcnZhbCk7XG4gICAgICB0aGlzLmNsZWFudXBJbnRlcnZhbCA9IG51bGw7XG4gICAgfVxuICAgIFxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgY29uc29sZS5sb2coJ+aVsOaNruW6k+aAp+iDveebkeaOp+W3suWBnOatoicpO1xuICB9XG5cbiAgLyoqXG4gICAqIOmHjee9rue7n+iuoeaVsOaNrlxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5tZXRyaWNzID0ge1xuICAgICAgcXVlcmllczogW10sXG4gICAgICBjb25uZWN0aW9uczogW10sXG4gICAgICBlcnJvcnM6IFtdLFxuICAgICAgcGVyZm9ybWFuY2U6IHtcbiAgICAgICAgdG90YWxRdWVyaWVzOiAwLFxuICAgICAgICBzbG93UXVlcmllczogMCxcbiAgICAgICAgdG90YWxFcnJvcnM6IDAsXG4gICAgICAgIGF2Z1Jlc3BvbnNlVGltZTogMCxcbiAgICAgICAgcGVha0Nvbm5lY3Rpb25zOiAwXG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc29sZS5sb2coJ+aAp+iDveebkeaOp+e7n+iuoeaVsOaNruW3sumHjee9ricpO1xuICB9XG59XG5cbi8vIOWNleS+i+WunuS+i1xuY29uc3QgcGVyZm9ybWFuY2VNb25pdG9yID0gbmV3IERhdGFiYXNlUGVyZm9ybWFuY2VNb25pdG9yKCk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBEYXRhYmFzZVBlcmZvcm1hbmNlTW9uaXRvcixcbiAgcGVyZm9ybWFuY2VNb25pdG9yXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLFlBQVksR0FBR0MsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUN0QyxNQUFNQyxFQUFFLEdBQUdELE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQ0UsUUFBUTtBQUNqQyxNQUFNQyxJQUFJLEdBQUdILE9BQU8sQ0FBQyxNQUFNLENBQUM7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBLE1BQU1JLDBCQUEwQixT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