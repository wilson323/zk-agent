{"version":3,"names":["cov_2lw8egqhww","actualCoverage","s","enhanced_runtime_1","require","agent_manager_1","PosterAgentAdapter","constructor","threadId","options","b","f","currentAgent","runtime","EnhancedAgUIRuntime","debug","apiEndpoint","enableMiddleware","enableBuiltinTools","agentManager","AgUIAgentManager","registerPosterTools","registerTool","name","description","parameters","type","required","style","enum","default","size","colors","items","template","execute","args","posterId","Date","now","imageUrl","thumbnailUrl","downloadUrl","metadata","generatedAt","toISOString","processingTime","resolution","format","category","industry","templates","id","preview","totalCount","categories","operations","properties","params","processedImageUrl","originalSize","width","height","processedSize","textElements","content","font","color","position","updatedPosterId","previewUrl","changes","length","quality","watermark","exportId","fileSize","expiresAt","target","purpose","suggestions","title","priority","designPrinciples","colorPalette","fontRecommendations","initialize","appId","apiKey","agent","createAgentFromFastGPT","instructions","model","tools","protocolVersion","capabilities","push","getAvailableTools","map","toolName","function","setAgent","error","console","generatePoster","Error","generateMessage","role","timestamp","getState","requestType","attachments","referenceImages","file","Math","random","url","URL","createObjectURL","runInput","runId","messages","getMessages","state","currentRequest","run","getEventStream","getMessagesStream","getStateStream","getCurrentAgent","dispose","exports"],"sources":["E:\\zk-agent\\lib\\ag-ui\\agents\\poster-agent-adapter.ts"],"sourcesContent":["// @ts-nocheck\nimport { EnhancedAgUIRuntime } from \"../protocol/enhanced-runtime\"\nimport { AgUIAgentManager } from \"../protocol/agent-manager\"\nimport type { AgentDefinition, Message, RunInput } from \"../protocol/complete-types\"\n\n/**\n * 海报设计智能体AG-UI适配器\n * 确保海报智能体完全遵循AG-UI协议\n */\nexport class PosterAgentAdapter {\n  private runtime: EnhancedAgUIRuntime\n  private agentManager: AgUIAgentManager\n  private currentAgent: AgentDefinition | null = null\n\n  constructor(threadId: string, options: { debug?: boolean } = {}) {\n    this.runtime = new EnhancedAgUIRuntime({\n      threadId,\n      debug: options.debug,\n      apiEndpoint: \"/api/poster/generate\",\n      enableMiddleware: true,\n      enableBuiltinTools: true,\n    })\n\n    this.agentManager = new AgUIAgentManager()\n\n    // 注册海报专用工具\n    this.registerPosterTools()\n  }\n\n  /**\n   * 注册海报专用工具\n   */\n  private registerPosterTools() {\n    // 海报生成工具\n    this.runtime.registerTool({\n      name: \"generate_poster\",\n      description: \"根据描述生成海报\",\n      parameters: {\n        description: { type: \"string\", description: \"海报内容描述\", required: true },\n        style: {\n          type: \"string\",\n          description: \"海报风格\",\n          enum: [\"modern\", \"classic\", \"minimalist\", \"colorful\", \"corporate\", \"creative\"],\n          default: \"modern\",\n        },\n        size: {\n          type: \"string\",\n          description: \"海报尺寸\",\n          enum: [\"A4\", \"A3\", \"A2\", \"A1\", \"1080x1920\", \"1920x1080\", \"square\"],\n          default: \"A4\",\n        },\n        colors: {\n          type: \"array\",\n          items: { type: \"string\" },\n          description: \"主要颜色\",\n          default: [\"#6cb33f\", \"#ffffff\", \"#333333\"],\n        },\n        template: { type: \"string\", description: \"模板ID\", required: false },\n      },\n      async execute(args: any) {\n        // 实现海报生成逻辑\n        return {\n          posterId: `poster-${Date.now()}`,\n          imageUrl: `/api/poster/generated/${Date.now()}.jpg`,\n          thumbnailUrl: `/api/poster/thumbnail/${Date.now()}.jpg`,\n          downloadUrl: `/api/poster/download/${Date.now()}.pdf`,\n          style: args.style,\n          size: args.size,\n          colors: args.colors,\n          metadata: {\n            generatedAt: new Date().toISOString(),\n            processingTime: \"3.2s\",\n            resolution: \"300dpi\",\n            format: \"RGB\",\n          },\n        }\n      },\n    })\n\n    // 模板选择工具\n    this.runtime.registerTool({\n      name: \"select_poster_template\",\n      description: \"选择海报模板\",\n      parameters: {\n        category: {\n          type: \"string\",\n          description: \"模板分类\",\n          enum: [\"business\", \"event\", \"product\", \"social\", \"educational\"],\n          required: true,\n        },\n        style: { type: \"string\", description: \"风格偏好\", required: false },\n        industry: { type: \"string\", description: \"行业类型\", required: false },\n      },\n      async execute(args: any) {\n        // 实现模板选择逻辑\n        return {\n          templates: [\n            {\n              id: \"template-001\",\n              name: \"现代商务模板\",\n              preview: \"/templates/business-modern.jpg\",\n              category: \"business\",\n              style: \"modern\",\n              description: \"适合企业宣传的现代风格模板\",\n            },\n            {\n              id: \"template-002\",\n              name: \"创意活动模板\",\n              preview: \"/templates/event-creative.jpg\",\n              category: \"event\",\n              style: \"creative\",\n              description: \"适合活动推广的创意模板\",\n            },\n          ],\n          totalCount: 25,\n          categories: [\"business\", \"event\", \"product\", \"social\", \"educational\"],\n        }\n      },\n    })\n\n    // 图片处理工具\n    this.runtime.registerTool({\n      name: \"process_poster_image\",\n      description: \"处理海报图片\",\n      parameters: {\n        posterId: { type: \"string\", description: \"海报ID\", required: true },\n        operations: {\n          type: \"array\",\n          items: {\n            type: \"object\",\n            properties: {\n              type: { type: \"string\", enum: [\"resize\", \"crop\", \"filter\", \"adjust\"] },\n              params: { type: \"object\" },\n            },\n          },\n          description: \"图片处理操作\",\n        },\n      },\n      async execute(args: any) {\n        // 实现图片处理逻辑\n        return {\n          processedImageUrl: `/api/poster/processed/${args.posterId}.jpg`,\n          operations: args.operations,\n          processingTime: \"1.5s\",\n          originalSize: { width: 2480, height: 3508 },\n          processedSize: { width: 2480, height: 3508 },\n        }\n      },\n    })\n\n    // 文本编辑工具\n    this.runtime.registerTool({\n      name: \"edit_poster_text\",\n      description: \"编辑海报文本\",\n      parameters: {\n        posterId: { type: \"string\", description: \"海报ID\", required: true },\n        textElements: {\n          type: \"array\",\n          items: {\n            type: \"object\",\n            properties: {\n              id: { type: \"string\" },\n              content: { type: \"string\" },\n              font: { type: \"string\" },\n              size: { type: \"number\" },\n              color: { type: \"string\" },\n              position: { type: \"object\" },\n            },\n          },\n          description: \"文本元素\",\n        },\n      },\n      async execute(args: any) {\n        // 实现文本编辑逻辑\n        return {\n          updatedPosterId: `${args.posterId}-updated`,\n          textElements: args.textElements,\n          previewUrl: `/api/poster/preview/${args.posterId}-updated.jpg`,\n          changes: args.textElements.length,\n        }\n      },\n    })\n\n    // 导出工具\n    this.runtime.registerTool({\n      name: \"export_poster\",\n      description: \"导出海报\",\n      parameters: {\n        posterId: { type: \"string\", description: \"海报ID\", required: true },\n        format: {\n          type: \"string\",\n          description: \"导出格式\",\n          enum: [\"jpg\", \"png\", \"pdf\", \"svg\"],\n          default: \"pdf\",\n        },\n        quality: { type: \"string\", enum: [\"web\", \"print\", \"high\"], default: \"print\" },\n        watermark: { type: \"boolean\", description: \"是否添加水印\", default: false },\n      },\n      async execute(args: any) {\n        // 实现导出逻辑\n        return {\n          exportId: `export-${Date.now()}`,\n          downloadUrl: `/api/poster/export/${args.posterId}.${args.format}`,\n          format: args.format,\n          quality: args.quality,\n          fileSize: \"2.5MB\",\n          resolution: args.quality === \"high\" ? \"600dpi\" : \"300dpi\",\n          watermark: args.watermark,\n          expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),\n        }\n      },\n    })\n\n    // 设计建议工具\n    this.runtime.registerTool({\n      name: \"get_design_suggestions\",\n      description: \"获取设计建议\",\n      parameters: {\n        description: { type: \"string\", description: \"海报描述\", required: true },\n        target: { type: \"string\", description: \"目标受众\", required: false },\n        purpose: { type: \"string\", description: \"使用目的\", description: \"目标受众\", required: false },\n        purpose: {\n          type: \"string\",\n          description: \"使用目的\",\n          enum: [\"marketing\", \"event\", \"education\", \"branding\", \"announcement\"],\n          required: false,\n        },\n        industry: { type: \"string\", description: \"行业类型\", required: false },\n      },\n      async execute(args: any) {\n        // 实现设计建议逻辑\n        return {\n          suggestions: [\n            {\n              category: \"color\",\n              title: \"色彩搭配建议\",\n              description: \"建议使用品牌色#6cb33f作为主色调，搭配白色和深灰色\",\n              priority: \"high\",\n            },\n            {\n              category: \"typography\",\n              title: \"字体选择建议\",\n              description: \"标题使用粗体无衬线字体，正文使用易读的衬线字体\",\n              priority: \"medium\",\n            },\n            {\n              category: \"layout\",\n              title: \"布局优化建议\",\n              description: \"采用黄金比例分割，重要信息放在视觉焦点位置\",\n              priority: \"high\",\n            },\n            {\n              category: \"imagery\",\n              title: \"图像使用建议\",\n              description: \"使用高质量的产品图片，保持统一的视觉风格\",\n              priority: \"medium\",\n            },\n          ],\n          designPrinciples: [\"对比\", \"重复\", \"对齐\", \"亲密性\"],\n          colorPalette: [\"#6cb33f\", \"#ffffff\", \"#333333\", \"#f5f5f5\"],\n          fontRecommendations: [\"Helvetica\", \"Arial\", \"Source Sans Pro\"],\n        }\n      },\n    })\n  }\n\n  /**\n   * 初始化海报智能体\n   */\n  async initialize(appId?: string, apiKey?: string): Promise<AgentDefinition> {\n    try {\n      let agent: AgentDefinition\n\n      if (appId && apiKey) {\n        // 从FastGPT创建智能体定义\n        agent = await this.agentManager.createAgentFromFastGPT(appId, apiKey)\n      } else {\n        // 创建默认海报智能体\n        agent = {\n          id: \"poster-generator\",\n          name: \"海报设计智能体\",\n          description: \"专业的海报设计和生成智能体\",\n          instructions: \"我是一个专业的海报设计师，能够根据您的需求创建各种风格的海报。\",\n          model: \"gpt-4\",\n          tools: [],\n          metadata: {\n            protocolVersion: \"1.0.0\",\n            capabilities: [\"poster-generation\", \"template-selection\", \"image-processing\", \"design-advice\"],\n            category: \"poster-generator\",\n            type: \"poster-agent\",\n          },\n        }\n      }\n\n      // 添加海报专用工具到智能体定义\n      agent.tools.push(\n        ...this.runtime.getAvailableTools().map((toolName) => ({\n          type: \"function\" as const,\n          function: {\n            name: toolName,\n            description: `海报设计工具: ${toolName}`,\n            parameters: {\n              type: \"object\",\n              properties: {},\n              required: [],\n            },\n          },\n        })),\n      )\n\n      // 设置智能体到运行时\n      this.runtime.setAgent(agent)\n      this.currentAgent = agent\n\n      return agent\n    } catch (error) {\n      console.error(\"Error initializing poster agent:\", error)\n      throw error\n    }\n  }\n\n  /**\n   * 生成海报\n   */\n  async generatePoster(\n    description: string,\n    options: {\n      style?: string\n      size?: string\n      colors?: string[]\n      template?: string\n      referenceImages?: File[]\n    } = {},\n  ): Promise<void> {\n    if (!this.currentAgent) {\n      throw new Error(\"Poster agent not initialized\")\n    }\n\n    // 创建生成消息\n    const generateMessage: Message = {\n      id: `generate-${Date.now()}`,\n      role: \"user\",\n      content: `请根据以下描述生成海报：${description}`,\n      timestamp: Date.now(),\n      threadId: this.runtime.getState().threadId,\n      metadata: {\n        requestType: \"poster-generation\",\n        options,\n      },\n      attachments: options.referenceImages?.map((file) => ({\n        id: `ref-${Date.now()}-${Math.random()}`,\n        name: file.name,\n        type: file.type,\n        url: URL.createObjectURL(file),\n        size: file.size,\n        metadata: {\n          purpose: \"reference\",\n        },\n      })),\n    }\n\n    // 准备运行输入\n    const runInput: RunInput = {\n      threadId: this.runtime.getState().threadId || `thread-${Date.now()}`,\n      runId: `run-${Date.now()}`,\n      messages: [...this.runtime.getMessages(), generateMessage],\n      tools: this.currentAgent.tools,\n      state: {\n        ...this.runtime.getState(),\n        currentRequest: {\n          type: \"poster-generation\",\n          description,\n          options,\n        },\n      },\n    }\n\n    // 执行运行\n    await this.runtime.run(runInput)\n  }\n\n  /**\n   * 获取事件流\n   */\n  getEventStream() {\n    return this.runtime.getEventStream()\n  }\n\n  /**\n   * 获取消息流\n   */\n  getMessagesStream() {\n    return this.runtime.getMessagesStream()\n  }\n\n  /**\n   * 获取状态流\n   */\n  getStateStream() {\n    return this.runtime.getStateStream()\n  }\n\n  /**\n   * 获取当前状态\n   */\n  getState() {\n    return this.runtime.getState()\n  }\n\n  /**\n   * 获取当前消息\n   */\n  getMessages() {\n    return this.runtime.getMessages()\n  }\n\n  /**\n   * 获取当前智能体\n   */\n  getCurrentAgent() {\n    return this.currentAgent\n  }\n\n  /**\n   * 清理资源\n   */\n  dispose() {\n    this.runtime.dispose()\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}