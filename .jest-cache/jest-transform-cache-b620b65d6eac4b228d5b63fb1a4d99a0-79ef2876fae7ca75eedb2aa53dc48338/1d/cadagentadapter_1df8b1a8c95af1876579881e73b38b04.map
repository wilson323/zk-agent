{"version":3,"names":["cov_zif67fya2","actualCoverage","s","enhanced_runtime_1","require","agent_manager_1","CADAgentAdapter","constructor","threadId","options","b","f","currentAgent","runtime","EnhancedAgUIRuntime","debug","apiEndpoint","enableMiddleware","enableBuiltinTools","agentManager","AgUIAgentManager","registerCADTools","registerTool","name","description","parameters","file","type","required","analysisType","enum","default","execute","args","fileId","Date","now","status","analysisStarted","detailLevel","structures","count","totalLength","types","rooms","area","totalArea","deviceTypes","items","securityDevices","locations","electricalDevices","distribution","hvacDevices","capacity","riskTypes","safetyRisks","level","location","recommendation","standard","securityRisks","impact","complianceRisks","reportType","format","reportId","downloadUrl","previewUrl","generatedAt","toISOString","pages","sections","initialize","appId","apiKey","agent","createAgentFromFastGPT","id","instructions","model","tools","metadata","protocolVersion","capabilities","category","push","getAvailableTools","map","toolName","function","properties","setAgent","error","console","analyzeCADFile","Error","analysisMessage","role","content","timestamp","getState","attachments","url","URL","createObjectURL","size","fileFormat","split","pop","toLowerCase","runInput","runId","messages","getMessages","state","currentFile","run","getEventStream","getMessagesStream","getStateStream","getCurrentAgent","dispose","exports"],"sources":["E:\\zk-agent\\lib\\ag-ui\\agents\\cad-agent-adapter.ts"],"sourcesContent":["// @ts-nocheck\nimport { EnhancedAgUIRuntime } from \"../protocol/enhanced-runtime\"\nimport { AgUIAgentManager } from \"../protocol/agent-manager\"\nimport type { AgentDefinition, Message, RunInput } from \"../protocol/complete-types\"\n\n/**\n * CAD解读智能体AG-UI适配器\n * 确保CAD智能体完全遵循AG-UI协议\n */\nexport class CADAgentAdapter {\n  private runtime: EnhancedAgUIRuntime\n  private agentManager: AgUIAgentManager\n  private currentAgent: AgentDefinition | null = null\n\n  constructor(threadId: string, options: { debug?: boolean } = {}) {\n    this.runtime = new EnhancedAgUIRuntime({\n      threadId,\n      debug: options.debug,\n      apiEndpoint: \"/api/cad/analyze\",\n      enableMiddleware: true,\n      enableBuiltinTools: true,\n    })\n\n    this.agentManager = new AgUIAgentManager()\n\n    // 注册CAD专用工具\n    this.registerCADTools()\n  }\n\n  /**\n   * 注册CAD专用工具\n   */\n  private registerCADTools() {\n    // CAD文件上传工具\n    this.runtime.registerTool({\n      name: \"upload_cad_file\",\n      description: \"上传CAD文件进行分析\",\n      parameters: {\n        file: { type: \"file\", description: \"CAD文件\", required: true },\n        analysisType: {\n          type: \"string\",\n          description: \"分析类型\",\n          enum: [\"structure\", \"devices\", \"risks\", \"full\"],\n          default: \"full\",\n        },\n      },\n      async execute(args: any) {\n        // 实现CAD文件上传逻辑\n        return {\n          fileId: `cad-${Date.now()}`,\n          status: \"uploaded\",\n          analysisStarted: true,\n        }\n      },\n    })\n\n    // CAD结构分析工具\n    this.runtime.registerTool({\n      name: \"analyze_cad_structure\",\n      description: \"分析CAD文件结构\",\n      parameters: {\n        fileId: { type: \"string\", description: \"CAD文件ID\", required: true },\n        detailLevel: { type: \"string\", enum: [\"basic\", \"detailed\", \"comprehensive\"], default: \"detailed\" },\n      },\n      async execute(args: any) {\n        // 实现结构分析逻辑\n        return {\n          structures: [\n            { type: \"wall\", count: 24, totalLength: \"120m\" },\n            { type: \"door\", count: 8, types: [\"single\", \"double\"] },\n            { type: \"window\", count: 12, types: [\"standard\", \"bay\"] },\n          ],\n          rooms: [\n            { name: \"客厅\", area: \"25.5m²\", type: \"living\" },\n            { name: \"卧室1\", area: \"15.2m²\", type: \"bedroom\" },\n            { name: \"厨房\", area: \"8.8m²\", type: \"kitchen\" },\n          ],\n          totalArea: \"120.5m²\",\n        }\n      },\n    })\n\n    // CAD设备检测工具\n    this.runtime.registerTool({\n      name: \"detect_cad_devices\",\n      description: \"检测CAD文件中的设备\",\n      parameters: {\n        fileId: { type: \"string\", description: \"CAD文件ID\", required: true },\n        deviceTypes: {\n          type: \"array\",\n          items: { type: \"string\" },\n          description: \"要检测的设备类型\",\n          default: [\"security\", \"electrical\", \"hvac\"],\n        },\n      },\n      async execute(args: any) {\n        // 实现设备检测逻辑\n        return {\n          securityDevices: [\n            { type: \"camera\", count: 8, locations: [\"entrance\", \"corridors\", \"parking\"] },\n            { type: \"access_control\", count: 3, locations: [\"main_door\", \"side_door\", \"back_door\"] },\n            { type: \"alarm\", count: 15, locations: [\"all_rooms\", \"windows\"] },\n          ],\n          electricalDevices: [\n            { type: \"outlet\", count: 45, distribution: \"per_room\" },\n            { type: \"switch\", count: 28, types: [\"single\", \"double\", \"dimmer\"] },\n            { type: \"lighting\", count: 32, types: [\"ceiling\", \"wall\", \"pendant\"] },\n          ],\n          hvacDevices: [\n            { type: \"air_conditioner\", count: 6, capacity: \"2.5kW_each\" },\n            { type: \"ventilation\", count: 12, locations: [\"bathrooms\", \"kitchen\"] },\n          ],\n        }\n      },\n    })\n\n    // CAD风险评估工具\n    this.runtime.registerTool({\n      name: \"assess_cad_risks\",\n      description: \"评估CAD设计中的风险\",\n      parameters: {\n        fileId: { type: \"string\", description: \"CAD文件ID\", required: true },\n        riskTypes: {\n          type: \"array\",\n          items: { type: \"string\" },\n          description: \"要评估的风险类型\",\n          default: [\"safety\", \"security\", \"compliance\"],\n        },\n      },\n      async execute(args: any) {\n        // 实现风险评估逻辑\n        return {\n          safetyRisks: [\n            {\n              level: \"high\",\n              description: \"紧急出口数量不足\",\n              location: \"二楼东侧\",\n              recommendation: \"增加紧急出口\",\n              standard: \"GB50016-2014\",\n            },\n            {\n              level: \"medium\",\n              description: \"走廊宽度不符合规范\",\n              location: \"一楼主走廊\",\n              recommendation: \"扩宽至1.8米\",\n              standard: \"GB50352-2019\",\n            },\n          ],\n          securityRisks: [\n            {\n              level: \"medium\",\n              description: \"监控盲区\",\n              location: \"停车场西北角\",\n              recommendation: \"增加摄像头\",\n              impact: \"可能存在安全隐患\",\n            },\n          ],\n          complianceRisks: [\n            {\n              level: \"low\",\n              description: \"无障碍设施不完善\",\n              location: \"主入口\",\n              recommendation: \"增加无障碍坡道\",\n              standard: \"GB50763-2012\",\n            },\n          ],\n        }\n      },\n    })\n\n    // CAD报告生成工具\n    this.runtime.registerTool({\n      name: \"generate_cad_report\",\n      description: \"生成CAD分析报告\",\n      parameters: {\n        fileId: { type: \"string\", description: \"CAD文件ID\", required: true },\n        reportType: { type: \"string\", enum: [\"summary\", \"detailed\", \"executive\"], default: \"detailed\" },\n        format: { type: \"string\", enum: [\"pdf\", \"docx\", \"html\"], default: \"pdf\" },\n      },\n      async execute(args: any) {\n        // 实现报告生成逻辑\n        return {\n          reportId: `report-${Date.now()}`,\n          downloadUrl: `/api/cad/reports/${args.fileId}/download`,\n          previewUrl: `/api/cad/reports/${args.fileId}/preview`,\n          format: args.format,\n          generatedAt: new Date().toISOString(),\n          pages: 15,\n          sections: [\n            \"executive_summary\",\n            \"structure_analysis\",\n            \"device_inventory\",\n            \"risk_assessment\",\n            \"recommendations\",\n          ],\n        }\n      },\n    })\n  }\n\n  /**\n   * 初始化CAD智能体\n   */\n  async initialize(appId?: string, apiKey?: string): Promise<AgentDefinition> {\n    try {\n      let agent: AgentDefinition\n\n      if (appId && apiKey) {\n        // 从FastGPT创建智能体定义\n        agent = await this.agentManager.createAgentFromFastGPT(appId, apiKey)\n      } else {\n        // 创建默认CAD智能体\n        agent = {\n          id: \"cad-analyzer\",\n          name: \"CAD解读智能体\",\n          description: \"专业的CAD文件分析和解读智能体\",\n          instructions: \"我是一个专业的CAD分析师，能够解读各种CAD文件，分析结构、设备和风险。\",\n          model: \"gpt-4\",\n          tools: [],\n          metadata: {\n            protocolVersion: \"1.0.0\",\n            capabilities: [\"cad-analysis\", \"structure-detection\", \"device-recognition\", \"risk-assessment\"],\n            category: \"cad-analyzer\",\n            type: \"cad-agent\",\n          },\n        }\n      }\n\n      // 添加CAD专用工具到智能体定义\n      agent.tools.push(\n        ...this.runtime.getAvailableTools().map((toolName) => ({\n          type: \"function\" as const,\n          function: {\n            name: toolName,\n            description: `CAD分析工具: ${toolName}`,\n            parameters: {\n              type: \"object\",\n              properties: {},\n              required: [],\n            },\n          },\n        })),\n      )\n\n      // 设置智能体到运行时\n      this.runtime.setAgent(agent)\n      this.currentAgent = agent\n\n      return agent\n    } catch (error) {\n      console.error(\"Error initializing CAD agent:\", error)\n      throw error\n    }\n  }\n\n  /**\n   * 分析CAD文件\n   */\n  async analyzeCADFile(file: File, analysisType: \"structure\" | \"devices\" | \"risks\" | \"full\" = \"full\"): Promise<void> {\n    if (!this.currentAgent) {\n      throw new Error(\"CAD agent not initialized\")\n    }\n\n    // 创建分析消息\n    const analysisMessage: Message = {\n      id: `analysis-${Date.now()}`,\n      role: \"user\",\n      content: `请分析这个CAD文件，分析类型：${analysisType}`,\n      timestamp: Date.now(),\n      threadId: this.runtime.getState().threadId,\n      attachments: [\n        {\n          id: `cad-file-${Date.now()}`,\n          name: file.name,\n          type: file.type,\n          url: URL.createObjectURL(file),\n          size: file.size,\n          metadata: {\n            analysisType,\n            fileFormat: file.name.split(\".\").pop()?.toLowerCase(),\n          },\n        },\n      ],\n    }\n\n    // 准备运行输入\n    const runInput: RunInput = {\n      threadId: this.runtime.getState().threadId || `thread-${Date.now()}`,\n      runId: `run-${Date.now()}`,\n      messages: [...this.runtime.getMessages(), analysisMessage],\n      tools: this.currentAgent.tools,\n      state: {\n        ...this.runtime.getState(),\n        currentFile: file.name,\n        analysisType,\n      },\n    }\n\n    // 执行运行\n    await this.runtime.run(runInput)\n  }\n\n  /**\n   * 获取事件流\n   */\n  getEventStream() {\n    return this.runtime.getEventStream()\n  }\n\n  /**\n   * 获取消息流\n   */\n  getMessagesStream() {\n    return this.runtime.getMessagesStream()\n  }\n\n  /**\n   * 获取状态流\n   */\n  getStateStream() {\n    return this.runtime.getStateStream()\n  }\n\n  /**\n   * 获取当前状态\n   */\n  getState() {\n    return this.runtime.getState()\n  }\n\n  /**\n   * 获取当前消息\n   */\n  getMessages() {\n    return this.runtime.getMessages()\n  }\n\n  /**\n   * 获取当前智能体\n   */\n  getCurrentAgent() {\n    return this.currentAgent\n  }\n\n  /**\n   * 清理资源\n   */\n  dispose() {\n    this.runtime.dispose()\n  }\n}\n"],"mappings":"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","ignoreList":[]}