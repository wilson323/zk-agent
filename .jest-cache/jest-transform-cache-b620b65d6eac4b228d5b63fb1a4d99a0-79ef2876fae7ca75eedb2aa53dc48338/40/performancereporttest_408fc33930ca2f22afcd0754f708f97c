c95d3903cb20c5732850b2fcbe497cdd
/**
 * @file Performance Report Generator
 * @description ÊÄßËÉΩÊµãËØïÊä•ÂëäÁîüÊàêÂô®
 */

const {
  performance
} = require('perf_hooks');
const fs = require('fs');
const path = require('path');
describe('Performance Report', () => {
  let performanceData = {
    timestamp: new Date().toISOString(),
    testResults: [],
    systemInfo: {
      nodeVersion: process.version,
      platform: process.platform,
      arch: process.arch,
      memory: process.memoryUsage()
    }
  };

  /**
   * Êî∂ÈõÜAPIÂìçÂ∫îÊó∂Èó¥Êï∞ÊçÆ
   */
  test('Êî∂ÈõÜAPIÂìçÂ∫îÊó∂Èó¥Êï∞ÊçÆ', async () => {
    const iterations = 5;
    const times = [];
    for (let i = 0; i < iterations; i++) {
      const start = performance.now();
      await new Promise(resolve => setTimeout(resolve, 30 + Math.random() * 20));
      const end = performance.now();
      times.push(end - start);
    }
    const avgTime = times.reduce((a, b) => a + b, 0) / times.length;
    const minTime = Math.min(...times);
    const maxTime = Math.max(...times);
    performanceData.testResults.push({
      testName: 'APIÂìçÂ∫îÊó∂Èó¥',
      average: avgTime,
      min: minTime,
      max: maxTime,
      iterations: iterations,
      unit: 'ms'
    });
    expect(avgTime).toBeLessThan(100);
  });

  /**
   * Êî∂ÈõÜÂÜÖÂ≠ò‰ΩøÁî®Êï∞ÊçÆ
   */
  test('Êî∂ÈõÜÂÜÖÂ≠ò‰ΩøÁî®Êï∞ÊçÆ', () => {
    const memUsage = process.memoryUsage();
    performanceData.testResults.push({
      testName: 'ÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµ',
      heapUsed: Math.round(memUsage.heapUsed / 1024 / 1024 * 100) / 100,
      heapTotal: Math.round(memUsage.heapTotal / 1024 / 1024 * 100) / 100,
      external: Math.round(memUsage.external / 1024 / 1024 * 100) / 100,
      rss: Math.round(memUsage.rss / 1024 / 1024 * 100) / 100,
      unit: 'MB'
    });
    expect(memUsage.heapUsed / 1024 / 1024).toBeLessThan(100);
  });

  /**
   * Êî∂ÈõÜCPUÊÄßËÉΩÊï∞ÊçÆ
   */
  test('Êî∂ÈõÜCPUÊÄßËÉΩÊï∞ÊçÆ', () => {
    const iterations = 3;
    const times = [];
    for (let i = 0; i < iterations; i++) {
      const start = performance.now();

      // CPUÂØÜÈõÜÂûãËÆ°ÁÆó
      let result = 0;
      for (let j = 0; j < 50000; j++) {
        result += Math.sqrt(j) * Math.sin(j);
      }
      const end = performance.now();
      times.push(end - start);
    }
    const avgTime = times.reduce((a, b) => a + b, 0) / times.length;
    performanceData.testResults.push({
      testName: 'CPUËÆ°ÁÆóÊÄßËÉΩ',
      average: avgTime,
      iterations: iterations,
      unit: 'ms'
    });
    expect(avgTime).toBeLessThan(200);
  });

  /**
   * ÁîüÊàêÊÄßËÉΩÊä•Âëä
   */
  test('ÁîüÊàêÊÄßËÉΩÊä•Âëä', () => {
    const reportDir = path.join(__dirname, '../../reports');
    const reportFile = path.join(reportDir, 'performance-report.json');

    // Á°Æ‰øùÊä•ÂëäÁõÆÂΩïÂ≠òÂú®
    if (!fs.existsSync(reportDir)) {
      fs.mkdirSync(reportDir, {
        recursive: true
      });
    }

    // ÂÜôÂÖ•ÊÄßËÉΩÊä•Âëä
    fs.writeFileSync(reportFile, JSON.stringify(performanceData, null, 2));

    // ÁîüÊàêÁÆÄÂåñÁöÑÊñáÊú¨Êä•Âëä
    const textReport = generateTextReport(performanceData);
    const textReportFile = path.join(reportDir, 'performance-summary.txt');
    fs.writeFileSync(textReportFile, textReport);
    console.log('\nüìä ÊÄßËÉΩÊµãËØïÊä•ÂëäÂ∑≤ÁîüÊàê:');
    console.log(`   ËØ¶ÁªÜÊä•Âëä: ${reportFile}`);
    console.log(`   ÊëòË¶ÅÊä•Âëä: ${textReportFile}`);
    expect(fs.existsSync(reportFile)).toBe(true);
    expect(fs.existsSync(textReportFile)).toBe(true);
  });
});

/**
 * ÁîüÊàêÊñáÊú¨Ê†ºÂºèÁöÑÊÄßËÉΩÊä•Âëä
 * @param {Object} data - ÊÄßËÉΩÊï∞ÊçÆ
 * @returns {string} ÊñáÊú¨Êä•Âëä
 */
function generateTextReport(data) {
  let report = `ZK-Agent ÊÄßËÉΩÊµãËØïÊä•Âëä\n`;
  report += `ÁîüÊàêÊó∂Èó¥: ${data.timestamp}\n`;
  report += `Node.jsÁâàÊú¨: ${data.systemInfo.nodeVersion}\n`;
  report += `Âπ≥Âè∞: ${data.systemInfo.platform} ${data.systemInfo.arch}\n\n`;
  report += `ÊµãËØïÁªìÊûú:\n`;
  report += `${'='.repeat(50)}\n`;
  data.testResults.forEach(result => {
    report += `\n${result.testName}:\n`;
    if (result.testName === 'ÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµ') {
      report += `  Â†ÜÂÜÖÂ≠ò‰ΩøÁî®: ${result.heapUsed} ${result.unit}\n`;
      report += `  Â†ÜÂÜÖÂ≠òÊÄªËÆ°: ${result.heapTotal} ${result.unit}\n`;
      report += `  Â§ñÈÉ®ÂÜÖÂ≠ò: ${result.external} ${result.unit}\n`;
      report += `  RSSÂÜÖÂ≠ò: ${result.rss} ${result.unit}\n`;
    } else {
      report += `  Âπ≥ÂùáÊó∂Èó¥: ${result.average?.toFixed(2)} ${result.unit}\n`;
      if (result.min !== undefined) {
        report += `  ÊúÄÁü≠Êó∂Èó¥: ${result.min.toFixed(2)} ${result.unit}\n`;
        report += `  ÊúÄÈïøÊó∂Èó¥: ${result.max.toFixed(2)} ${result.unit}\n`;
      }
      if (result.iterations) {
        report += `  ÊµãËØïÊ¨°Êï∞: ${result.iterations}\n`;
      }
    }
  });
  report += `\n${'='.repeat(50)}\n`;
  report += `ÊµãËØïÂÆåÊàêÊó∂Èó¥: ${new Date().toLocaleString()}\n`;
  return report;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwZXJmb3JtYW5jZSIsInJlcXVpcmUiLCJmcyIsInBhdGgiLCJkZXNjcmliZSIsInBlcmZvcm1hbmNlRGF0YSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInRlc3RSZXN1bHRzIiwic3lzdGVtSW5mbyIsIm5vZGVWZXJzaW9uIiwicHJvY2VzcyIsInZlcnNpb24iLCJwbGF0Zm9ybSIsImFyY2giLCJtZW1vcnkiLCJtZW1vcnlVc2FnZSIsInRlc3QiLCJpdGVyYXRpb25zIiwidGltZXMiLCJpIiwic3RhcnQiLCJub3ciLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJNYXRoIiwicmFuZG9tIiwiZW5kIiwicHVzaCIsImF2Z1RpbWUiLCJyZWR1Y2UiLCJhIiwiYiIsImxlbmd0aCIsIm1pblRpbWUiLCJtaW4iLCJtYXhUaW1lIiwibWF4IiwidGVzdE5hbWUiLCJhdmVyYWdlIiwidW5pdCIsImV4cGVjdCIsInRvQmVMZXNzVGhhbiIsIm1lbVVzYWdlIiwiaGVhcFVzZWQiLCJyb3VuZCIsImhlYXBUb3RhbCIsImV4dGVybmFsIiwicnNzIiwicmVzdWx0IiwiaiIsInNxcnQiLCJzaW4iLCJyZXBvcnREaXIiLCJqb2luIiwiX19kaXJuYW1lIiwicmVwb3J0RmlsZSIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJ3cml0ZUZpbGVTeW5jIiwiSlNPTiIsInN0cmluZ2lmeSIsInRleHRSZXBvcnQiLCJnZW5lcmF0ZVRleHRSZXBvcnQiLCJ0ZXh0UmVwb3J0RmlsZSIsImNvbnNvbGUiLCJsb2ciLCJ0b0JlIiwiZGF0YSIsInJlcG9ydCIsInJlcGVhdCIsImZvckVhY2giLCJ0b0ZpeGVkIiwidW5kZWZpbmVkIiwidG9Mb2NhbGVTdHJpbmciXSwic291cmNlcyI6WyJwZXJmb3JtYW5jZS1yZXBvcnQudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIFBlcmZvcm1hbmNlIFJlcG9ydCBHZW5lcmF0b3JcbiAqIEBkZXNjcmlwdGlvbiDmgKfog73mtYvor5XmiqXlkYrnlJ/miJDlmahcbiAqL1xuXG5jb25zdCB7IHBlcmZvcm1hbmNlIH0gPSByZXF1aXJlKCdwZXJmX2hvb2tzJyk7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5kZXNjcmliZSgnUGVyZm9ybWFuY2UgUmVwb3J0JywgKCkgPT4ge1xuICBsZXQgcGVyZm9ybWFuY2VEYXRhID0ge1xuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIHRlc3RSZXN1bHRzOiBbXSxcbiAgICBzeXN0ZW1JbmZvOiB7XG4gICAgICBub2RlVmVyc2lvbjogcHJvY2Vzcy52ZXJzaW9uLFxuICAgICAgcGxhdGZvcm06IHByb2Nlc3MucGxhdGZvcm0sXG4gICAgICBhcmNoOiBwcm9jZXNzLmFyY2gsXG4gICAgICBtZW1vcnk6IHByb2Nlc3MubWVtb3J5VXNhZ2UoKVxuICAgIH1cbiAgfTtcbiAgXG4gIC8qKlxuICAgKiDmlLbpm4ZBUEnlk43lupTml7bpl7TmlbDmja5cbiAgICovXG4gIHRlc3QoJ+aUtumbhkFQSeWTjeW6lOaXtumXtOaVsOaNricsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBpdGVyYXRpb25zID0gNTtcbiAgICBjb25zdCB0aW1lcyA9IFtdO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwICsgTWF0aC5yYW5kb20oKSAqIDIwKSk7XG4gICAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIHRpbWVzLnB1c2goZW5kIC0gc3RhcnQpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBhdmdUaW1lID0gdGltZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyB0aW1lcy5sZW5ndGg7XG4gICAgY29uc3QgbWluVGltZSA9IE1hdGgubWluKC4uLnRpbWVzKTtcbiAgICBjb25zdCBtYXhUaW1lID0gTWF0aC5tYXgoLi4udGltZXMpO1xuICAgIFxuICAgIHBlcmZvcm1hbmNlRGF0YS50ZXN0UmVzdWx0cy5wdXNoKHtcbiAgICAgIHRlc3ROYW1lOiAnQVBJ5ZON5bqU5pe26Ze0JyxcbiAgICAgIGF2ZXJhZ2U6IGF2Z1RpbWUsXG4gICAgICBtaW46IG1pblRpbWUsXG4gICAgICBtYXg6IG1heFRpbWUsXG4gICAgICBpdGVyYXRpb25zOiBpdGVyYXRpb25zLFxuICAgICAgdW5pdDogJ21zJ1xuICAgIH0pO1xuICAgIFxuICAgIGV4cGVjdChhdmdUaW1lKS50b0JlTGVzc1RoYW4oMTAwKTtcbiAgfSk7XG4gIFxuICAvKipcbiAgICog5pS26ZuG5YaF5a2Y5L2/55So5pWw5o2uXG4gICAqL1xuICB0ZXN0KCfmlLbpm4blhoXlrZjkvb/nlKjmlbDmja4nLCAoKSA9PiB7XG4gICAgY29uc3QgbWVtVXNhZ2UgPSBwcm9jZXNzLm1lbW9yeVVzYWdlKCk7XG4gICAgXG4gICAgcGVyZm9ybWFuY2VEYXRhLnRlc3RSZXN1bHRzLnB1c2goe1xuICAgICAgdGVzdE5hbWU6ICflhoXlrZjkvb/nlKjmg4XlhrUnLFxuICAgICAgaGVhcFVzZWQ6IE1hdGgucm91bmQobWVtVXNhZ2UuaGVhcFVzZWQgLyAxMDI0IC8gMTAyNCAqIDEwMCkgLyAxMDAsXG4gICAgICBoZWFwVG90YWw6IE1hdGgucm91bmQobWVtVXNhZ2UuaGVhcFRvdGFsIC8gMTAyNCAvIDEwMjQgKiAxMDApIC8gMTAwLFxuICAgICAgZXh0ZXJuYWw6IE1hdGgucm91bmQobWVtVXNhZ2UuZXh0ZXJuYWwgLyAxMDI0IC8gMTAyNCAqIDEwMCkgLyAxMDAsXG4gICAgICByc3M6IE1hdGgucm91bmQobWVtVXNhZ2UucnNzIC8gMTAyNCAvIDEwMjQgKiAxMDApIC8gMTAwLFxuICAgICAgdW5pdDogJ01CJ1xuICAgIH0pO1xuICAgIFxuICAgIGV4cGVjdChtZW1Vc2FnZS5oZWFwVXNlZCAvIDEwMjQgLyAxMDI0KS50b0JlTGVzc1RoYW4oMTAwKTtcbiAgfSk7XG4gIFxuICAvKipcbiAgICog5pS26ZuGQ1BV5oCn6IO95pWw5o2uXG4gICAqL1xuICB0ZXN0KCfmlLbpm4ZDUFXmgKfog73mlbDmja4nLCAoKSA9PiB7XG4gICAgY29uc3QgaXRlcmF0aW9ucyA9IDM7XG4gICAgY29uc3QgdGltZXMgPSBbXTtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIFxuICAgICAgLy8gQ1BV5a+G6ZuG5Z6L6K6h566XXG4gICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNTAwMDA7IGorKykge1xuICAgICAgICByZXN1bHQgKz0gTWF0aC5zcXJ0KGopICogTWF0aC5zaW4oaik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGVuZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgdGltZXMucHVzaChlbmQgLSBzdGFydCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGF2Z1RpbWUgPSB0aW1lcy5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKSAvIHRpbWVzLmxlbmd0aDtcbiAgICBcbiAgICBwZXJmb3JtYW5jZURhdGEudGVzdFJlc3VsdHMucHVzaCh7XG4gICAgICB0ZXN0TmFtZTogJ0NQVeiuoeeul+aAp+iDvScsXG4gICAgICBhdmVyYWdlOiBhdmdUaW1lLFxuICAgICAgaXRlcmF0aW9uczogaXRlcmF0aW9ucyxcbiAgICAgIHVuaXQ6ICdtcydcbiAgICB9KTtcbiAgICBcbiAgICBleHBlY3QoYXZnVGltZSkudG9CZUxlc3NUaGFuKDIwMCk7XG4gIH0pO1xuICBcbiAgLyoqXG4gICAqIOeUn+aIkOaAp+iDveaKpeWRilxuICAgKi9cbiAgdGVzdCgn55Sf5oiQ5oCn6IO95oql5ZGKJywgKCkgPT4ge1xuICAgIGNvbnN0IHJlcG9ydERpciA9IHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi8uLi9yZXBvcnRzJyk7XG4gICAgY29uc3QgcmVwb3J0RmlsZSA9IHBhdGguam9pbihyZXBvcnREaXIsICdwZXJmb3JtYW5jZS1yZXBvcnQuanNvbicpO1xuICAgIFxuICAgIC8vIOehruS/neaKpeWRiuebruW9leWtmOWcqFxuICAgIGlmICghZnMuZXhpc3RzU3luYyhyZXBvcnREaXIpKSB7XG4gICAgICBmcy5ta2RpclN5bmMocmVwb3J0RGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8g5YaZ5YWl5oCn6IO95oql5ZGKXG4gICAgZnMud3JpdGVGaWxlU3luYyhyZXBvcnRGaWxlLCBKU09OLnN0cmluZ2lmeShwZXJmb3JtYW5jZURhdGEsIG51bGwsIDIpKTtcbiAgICBcbiAgICAvLyDnlJ/miJDnroDljJbnmoTmlofmnKzmiqXlkYpcbiAgICBjb25zdCB0ZXh0UmVwb3J0ID0gZ2VuZXJhdGVUZXh0UmVwb3J0KHBlcmZvcm1hbmNlRGF0YSk7XG4gICAgY29uc3QgdGV4dFJlcG9ydEZpbGUgPSBwYXRoLmpvaW4ocmVwb3J0RGlyLCAncGVyZm9ybWFuY2Utc3VtbWFyeS50eHQnKTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKHRleHRSZXBvcnRGaWxlLCB0ZXh0UmVwb3J0KTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnXFxu8J+TiiDmgKfog73mtYvor5XmiqXlkYrlt7LnlJ/miJA6Jyk7XG4gICAgY29uc29sZS5sb2coYCAgIOivpue7huaKpeWRijogJHtyZXBvcnRGaWxlfWApO1xuICAgIGNvbnNvbGUubG9nKGAgICDmkZjopoHmiqXlkYo6ICR7dGV4dFJlcG9ydEZpbGV9YCk7XG4gICAgXG4gICAgZXhwZWN0KGZzLmV4aXN0c1N5bmMocmVwb3J0RmlsZSkpLnRvQmUodHJ1ZSk7XG4gICAgZXhwZWN0KGZzLmV4aXN0c1N5bmModGV4dFJlcG9ydEZpbGUpKS50b0JlKHRydWUpO1xuICB9KTtcbn0pO1xuXG4vKipcbiAqIOeUn+aIkOaWh+acrOagvOW8j+eahOaAp+iDveaKpeWRilxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSDmgKfog73mlbDmja5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IOaWh+acrOaKpeWRilxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVRleHRSZXBvcnQoZGF0YSkge1xuICBsZXQgcmVwb3J0ID0gYFpLLUFnZW50IOaAp+iDvea1i+ivleaKpeWRilxcbmA7XG4gIHJlcG9ydCArPSBg55Sf5oiQ5pe26Ze0OiAke2RhdGEudGltZXN0YW1wfVxcbmA7XG4gIHJlcG9ydCArPSBgTm9kZS5qc+eJiOacrDogJHtkYXRhLnN5c3RlbUluZm8ubm9kZVZlcnNpb259XFxuYDtcbiAgcmVwb3J0ICs9IGDlubPlj7A6ICR7ZGF0YS5zeXN0ZW1JbmZvLnBsYXRmb3JtfSAke2RhdGEuc3lzdGVtSW5mby5hcmNofVxcblxcbmA7XG4gIFxuICByZXBvcnQgKz0gYOa1i+ivlee7k+aenDpcXG5gO1xuICByZXBvcnQgKz0gYCR7Jz0nLnJlcGVhdCg1MCl9XFxuYDtcbiAgXG4gIGRhdGEudGVzdFJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgIHJlcG9ydCArPSBgXFxuJHtyZXN1bHQudGVzdE5hbWV9OlxcbmA7XG4gICAgXG4gICAgaWYgKHJlc3VsdC50ZXN0TmFtZSA9PT0gJ+WGheWtmOS9v+eUqOaDheWGtScpIHtcbiAgICAgIHJlcG9ydCArPSBgICDloIblhoXlrZjkvb/nlKg6ICR7cmVzdWx0LmhlYXBVc2VkfSAke3Jlc3VsdC51bml0fVxcbmA7XG4gICAgICByZXBvcnQgKz0gYCAg5aCG5YaF5a2Y5oC76K6hOiAke3Jlc3VsdC5oZWFwVG90YWx9ICR7cmVzdWx0LnVuaXR9XFxuYDtcbiAgICAgIHJlcG9ydCArPSBgICDlpJbpg6jlhoXlrZg6ICR7cmVzdWx0LmV4dGVybmFsfSAke3Jlc3VsdC51bml0fVxcbmA7XG4gICAgICByZXBvcnQgKz0gYCAgUlNT5YaF5a2YOiAke3Jlc3VsdC5yc3N9ICR7cmVzdWx0LnVuaXR9XFxuYDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVwb3J0ICs9IGAgIOW5s+Wdh+aXtumXtDogJHtyZXN1bHQuYXZlcmFnZT8udG9GaXhlZCgyKX0gJHtyZXN1bHQudW5pdH1cXG5gO1xuICAgICAgaWYgKHJlc3VsdC5taW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXBvcnQgKz0gYCAg5pyA55+t5pe26Ze0OiAke3Jlc3VsdC5taW4udG9GaXhlZCgyKX0gJHtyZXN1bHQudW5pdH1cXG5gO1xuICAgICAgICByZXBvcnQgKz0gYCAg5pyA6ZW/5pe26Ze0OiAke3Jlc3VsdC5tYXgudG9GaXhlZCgyKX0gJHtyZXN1bHQudW5pdH1cXG5gO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdC5pdGVyYXRpb25zKSB7XG4gICAgICAgIHJlcG9ydCArPSBgICDmtYvor5XmrKHmlbA6ICR7cmVzdWx0Lml0ZXJhdGlvbnN9XFxuYDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBcbiAgcmVwb3J0ICs9IGBcXG4keyc9Jy5yZXBlYXQoNTApfVxcbmA7XG4gIHJlcG9ydCArPSBg5rWL6K+V5a6M5oiQ5pe26Ze0OiAke25ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKX1cXG5gO1xuICBcbiAgcmV0dXJuIHJlcG9ydDtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU07RUFBRUE7QUFBWSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFDN0MsTUFBTUMsRUFBRSxHQUFHRCxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLE1BQU1FLElBQUksR0FBR0YsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUU1QkcsUUFBUSxDQUFDLG9CQUFvQixFQUFFLE1BQU07RUFDbkMsSUFBSUMsZUFBZSxHQUFHO0lBQ3BCQyxTQUFTLEVBQUUsSUFBSUMsSUFBSSxDQUFD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