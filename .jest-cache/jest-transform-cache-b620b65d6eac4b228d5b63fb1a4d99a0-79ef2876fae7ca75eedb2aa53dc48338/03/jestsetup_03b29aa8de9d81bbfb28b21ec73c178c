7fd341f2bf8f37715718f83dbf1c1251
// Mock Next.js router
_getJestObj().mock('next/router', () => ({
  useRouter: () => ({
    route: '/',
    pathname: '/',
    query: {},
    asPath: '/',
    push: jest.fn(),
    replace: jest.fn(),
    reload: jest.fn(),
    back: jest.fn(),
    prefetch: jest.fn(),
    beforePopState: jest.fn(),
    events: {
      on: jest.fn(),
      off: jest.fn(),
      emit: jest.fn()
    }
  })
}));

// Mock Next.js navigation
_getJestObj().mock('next/navigation', () => ({
  useRouter: () => ({
    push: jest.fn(),
    replace: jest.fn(),
    refresh: jest.fn(),
    back: jest.fn(),
    forward: jest.fn()
  }),
  usePathname: () => '/',
  useSearchParams: () => new URLSearchParams()
}));

// Mock window.matchMedia
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
// Jest setup file - Simplified version

// 全局测试配置
global.console = {
  ...console,
  // 在测试中静默某些日志
  log: jest.fn(),
  debug: jest.fn(),
  info: jest.fn(),
  warn: console.warn,
  error: console.error
};

// 模拟环境变量
process.env.NODE_ENV = 'test';
process.env.NEXT_PUBLIC_APP_URL = 'http://localhost:3000';

// 设置测试超时
jest.setTimeout(30000);

// 基础全局变量
global.fetch = jest.fn();
global.TextEncoder = TextEncoder;
global.TextDecoder = TextDecoder;
if (typeof window !== 'undefined') {
  Object.defineProperty(window, 'matchMedia', {
    writable: true,
    value: jest.fn().mockImplementation(query => ({
      matches: false,
      media: query,
      onchange: null,
      addListener: jest.fn(),
      removeListener: jest.fn(),
      addEventListener: jest.fn(),
      removeEventListener: jest.fn(),
      dispatchEvent: jest.fn()
    }))
  });
}

// Mock IntersectionObserver
global.IntersectionObserver = jest.fn().mockImplementation(() => ({
  observe: jest.fn(),
  unobserve: jest.fn(),
  disconnect: jest.fn()
}));

// Mock ResizeObserver
global.ResizeObserver = jest.fn().mockImplementation(() => ({
  observe: jest.fn(),
  unobserve: jest.fn(),
  disconnect: jest.fn()
}));

// Mock localStorage
const localStorageMock = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  removeItem: jest.fn(),
  clear: jest.fn()
};
if (typeof window !== 'undefined') {
  Object.defineProperty(window, 'localStorage', {
    value: localStorageMock
  });
}

// Mock sessionStorage
const sessionStorageMock = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  removeItem: jest.fn(),
  clear: jest.fn()
};
if (typeof window !== 'undefined') {
  Object.defineProperty(window, 'sessionStorage', {
    value: sessionStorageMock
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VSb3V0ZXIiLCJyb3V0ZSIsInBhdGhuYW1lIiwicXVlcnkiLCJhc1BhdGgiLCJwdXNoIiwiamVzdCIsImZuIiwicmVwbGFjZSIsInJlbG9hZCIsImJhY2siLCJwcmVmZXRjaCIsImJlZm9yZVBvcFN0YXRlIiwiZXZlbnRzIiwib24iLCJvZmYiLCJlbWl0IiwicmVmcmVzaCIsImZvcndhcmQiLCJ1c2VQYXRobmFtZSIsInVzZVNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInJlcXVpcmUiLCJnbG9iYWwiLCJjb25zb2xlIiwibG9nIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiTkVYVF9QVUJMSUNfQVBQX1VSTCIsInNldFRpbWVvdXQiLCJmZXRjaCIsIlRleHRFbmNvZGVyIiwiVGV4dERlY29kZXIiLCJ3aW5kb3ciLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndyaXRhYmxlIiwidmFsdWUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJtYXRjaGVzIiwibWVkaWEiLCJvbmNoYW5nZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsIm9ic2VydmUiLCJ1bm9ic2VydmUiLCJkaXNjb25uZWN0IiwiUmVzaXplT2JzZXJ2ZXIiLCJsb2NhbFN0b3JhZ2VNb2NrIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJzZXNzaW9uU3RvcmFnZU1vY2siXSwic291cmNlcyI6WyJqZXN0LnNldHVwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEplc3Qgc2V0dXAgZmlsZSAtIFNpbXBsaWZpZWQgdmVyc2lvblxuXG4vLyDlhajlsYDmtYvor5XphY3nva5cbmdsb2JhbC5jb25zb2xlID0ge1xuICAuLi5jb25zb2xlLFxuICAvLyDlnKjmtYvor5XkuK3pnZnpu5jmn5Dkupvml6Xlv5dcbiAgbG9nOiBqZXN0LmZuKCksXG4gIGRlYnVnOiBqZXN0LmZuKCksXG4gIGluZm86IGplc3QuZm4oKSxcbiAgd2FybjogY29uc29sZS53YXJuLFxuICBlcnJvcjogY29uc29sZS5lcnJvcixcbn07XG5cbi8vIOaooeaLn+eOr+Wig+WPmOmHj1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgPSAndGVzdCc7XG5wcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XG5cbi8vIOiuvue9rua1i+ivlei2heaXtlxuamVzdC5zZXRUaW1lb3V0KDMwMDAwKTtcblxuLy8g5Z+656GA5YWo5bGA5Y+Y6YePXG5nbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCk7XG5nbG9iYWwuVGV4dEVuY29kZXIgPSBUZXh0RW5jb2Rlcjtcbmdsb2JhbC5UZXh0RGVjb2RlciA9IFRleHREZWNvZGVyO1xuXG4vLyBNb2NrIE5leHQuanMgcm91dGVyXG5qZXN0Lm1vY2soJ25leHQvcm91dGVyJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiAoKSA9PiAoe1xuICAgIHJvdXRlOiAnLycsXG4gICAgcGF0aG5hbWU6ICcvJyxcbiAgICBxdWVyeToge30sXG4gICAgYXNQYXRoOiAnLycsXG4gICAgcHVzaDogamVzdC5mbigpLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICByZWxvYWQ6IGplc3QuZm4oKSxcbiAgICBiYWNrOiBqZXN0LmZuKCksXG4gICAgcHJlZmV0Y2g6IGplc3QuZm4oKSxcbiAgICBiZWZvcmVQb3BTdGF0ZTogamVzdC5mbigpLFxuICAgIGV2ZW50czoge1xuICAgICAgb246IGplc3QuZm4oKSxcbiAgICAgIG9mZjogamVzdC5mbigpLFxuICAgICAgZW1pdDogamVzdC5mbigpLFxuICAgIH0sXG4gIH0pLFxufSkpO1xuXG4vLyBNb2NrIE5leHQuanMgbmF2aWdhdGlvblxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXI6ICgpID0+ICh7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICByZWZyZXNoOiBqZXN0LmZuKCksXG4gICAgYmFjazogamVzdC5mbigpLFxuICAgIGZvcndhcmQ6IGplc3QuZm4oKSxcbiAgfSksXG4gIHVzZVBhdGhuYW1lOiAoKSA9PiAnLycsXG4gIHVzZVNlYXJjaFBhcmFtczogKCkgPT4gbmV3IFVSTFNlYXJjaFBhcmFtcygpLFxufSkpO1xuXG4vLyBNb2NrIHdpbmRvdy5tYXRjaE1lZGlhXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ21hdGNoTWVkaWEnLCB7XG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24ocXVlcnkgPT4gKHtcbiAgICAgIG1hdGNoZXM6IGZhbHNlLFxuICAgICAgbWVkaWE6IHF1ZXJ5LFxuICAgICAgb25jaGFuZ2U6IG51bGwsXG4gICAgICBhZGRMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgICAgcmVtb3ZlTGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IGplc3QuZm4oKSxcbiAgICB9KSksXG4gIH0pO1xufVxuXG4vLyBNb2NrIEludGVyc2VjdGlvbk9ic2VydmVyXG5nbG9iYWwuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gIG9ic2VydmU6IGplc3QuZm4oKSxcbiAgdW5vYnNlcnZlOiBqZXN0LmZuKCksXG4gIGRpc2Nvbm5lY3Q6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayBSZXNpemVPYnNlcnZlclxuZ2xvYmFsLlJlc2l6ZU9ic2VydmVyID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICBvYnNlcnZlOiBqZXN0LmZuKCksXG4gIHVub2JzZXJ2ZTogamVzdC5mbigpLFxuICBkaXNjb25uZWN0OiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgbG9jYWxTdG9yYWdlXG5jb25zdCBsb2NhbFN0b3JhZ2VNb2NrID0ge1xuICBnZXRJdGVtOiBqZXN0LmZuKCksXG4gIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICBjbGVhcjogamVzdC5mbigpLFxufTtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbG9jYWxTdG9yYWdlJywge1xuICAgIHZhbHVlOiBsb2NhbFN0b3JhZ2VNb2NrLFxuICB9KTtcbn1cblxuLy8gTW9jayBzZXNzaW9uU3RvcmFnZVxuY29uc3Qgc2Vzc2lvblN0b3JhZ2VNb2NrID0ge1xuICBnZXRJdGVtOiBqZXN0LmZuKCksXG4gIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICBjbGVhcjogamVzdC5mbigpLFxufTtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnc2Vzc2lvblN0b3JhZ2UnLCB7XG4gICAgdmFsdWU6IHNlc3Npb25TdG9yYWdlTW9jayxcbiAgfSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQXlCQTtBQUNBQSxXQUFBLEdBQUtDLElBQUksQ0FBQyxhQUFhLEVBQUUsT0FBTztFQUM5QkMsU0FBUyxFQUFFQSxDQUFBLE1BQU87SUFDaEJDLEtBQUssRUFBRSxHQUFHO0lBQ1ZDLFFBQVEsRUFBRSxHQUFHO0lBQ2JDLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDVEMs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