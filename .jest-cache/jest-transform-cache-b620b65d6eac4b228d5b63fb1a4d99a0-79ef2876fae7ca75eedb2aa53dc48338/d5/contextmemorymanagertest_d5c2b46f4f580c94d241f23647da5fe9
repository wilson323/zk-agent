36a38da1f8306cb8af3b7fba0741ea25
"use strict";
// @ts-nocheck
/**
 * 上下文内存管理器测试
 * 确保智能对话的上下文管理100%可靠
 */
Object.defineProperty(exports, "__esModule", { value: true });
const context_memory_manager_1 = require("@/lib/chat/context-memory-manager");
describe('ContextMemoryManager - 智能对话上下文内存管理', () => {
    let contextManager;
    beforeEach(() => {
        contextManager = new context_memory_manager_1.ContextMemoryManager();
    });
    afterEach(() => {
        jest.clearAllMocks();
        contextManager.clear();
    });
    describe('基础功能测试', () => {
        test('应该正确初始化上下文内存管理器', () => {
            expect(contextManager).toBeDefined();
            expect(contextManager).toBeInstanceOf(context_memory_manager_1.ContextMemoryManager);
        });
        test('应该正确设置默认配置', () => {
            const config = contextManager.getConfig();
            expect(config).toMatchObject({
                maxContextLength: expect.any(Number),
                maxMessages: expect.any(Number),
                compressionThreshold: expect.any(Number),
                retentionTime: expect.any(Number)
            });
        });
    });
    describe('消息存储测试', () => {
        test('应该正确存储单条消息', () => {
            const message = {
                id: 'msg-1',
                content: '你好',
                role: 'user',
                timestamp: Date.now()
            };
            contextManager.addMessage('session-1', message);
            const messages = contextManager.getMessages('session-1');
            expect(messages).toHaveLength(1);
            expect(messages[0]).toMatchObject(message);
        });
        test('应该正确存储多条消息', () => {
            const messages = [
                { id: 'msg-1', content: '你好', role: 'user', timestamp: Date.now() },
                { id: 'msg-2', content: '你好！有什么可以帮助你的吗？', role: 'assistant', timestamp: Date.now() + 1000 },
                { id: 'msg-3', content: '请介绍一下你的功能', role: 'user', timestamp: Date.now() + 2000 }
            ];
            messages.forEach(msg => contextManager.addMessage('session-1', msg));
            const storedMessages = contextManager.getMessages('session-1');
            expect(storedMessages).toHaveLength(3);
            expect(storedMessages).toEqual(messages);
        });
        test('应该按时间顺序存储消息', () => {
            const message1 = { id: 'msg-1', content: '第一条', role: 'user', timestamp: Date.now() + 2000 };
            const message2 = { id: 'msg-2', content: '第二条', role: 'user', timestamp: Date.now() + 1000 };
            const message3 = { id: 'msg-3', content: '第三条', role: 'user', timestamp: Date.now() + 3000 };
            contextManager.addMessage('session-1', message1);
            contextManager.addMessage('session-1', message2);
            contextManager.addMessage('session-1', message3);
            const messages = contextManager.getMessages('session-1');
            expect(messages[0].content).toBe('第二条');
            expect(messages[1].content).toBe('第一条');
            expect(messages[2].content).toBe('第三条');
        });
    });
    describe('上下文长度管理测试', () => {
        test('应该正确计算上下文长度', () => {
            const messages = [
                { id: 'msg-1', content: '短消息', role: 'user', timestamp: Date.now() },
                { id: 'msg-2', content: '这是一条比较长的消息内容，用于测试上下文长度计算', role: 'assistant', timestamp: Date.now() + 1000 }
            ];
            messages.forEach(msg => contextManager.addMessage('session-1', msg));
            const contextLength = contextManager.getContextLength('session-1');
            expect(contextLength).toBeGreaterThan(0);
            expect(contextLength).toBe(messages.reduce((total, msg) => total + msg.content.length, 0));
        });
        test('应该在超过最大长度时自动压缩', () => {
            // 设置较小的最大长度用于测试
            contextManager.updateConfig({ maxContextLength: 100 });
            const longMessages = Array.from({ length: 10 }, (_, i) => ({
                id: `msg-${i}`,
                content: `这是第${i}条很长的消息内容，用于测试自动压缩功能`,
                role: i % 2 === 0 ? 'user' : 'assistant',
                timestamp: Date.now() + i * 1000
            }));
            longMessages.forEach(msg => contextManager.addMessage('session-1', msg));
            const contextLength = contextManager.getContextLength('session-1');
            expect(contextLength).toBeLessThanOrEqual(100);
        });
    });
    describe('消息数量限制测试', () => {
        test('应该在超过最大消息数时移除旧消息', () => {
            // 设置较小的最大消息数用于测试
            contextManager.updateConfig({ maxMessages: 5 });
            const messages = Array.from({ length: 10 }, (_, i) => ({
                id: `msg-${i}`,
                content: `消息 ${i}`,
                role: i % 2 === 0 ? 'user' : 'assistant',
                timestamp: Date.now() + i * 1000
            }));
            messages.forEach(msg => contextManager.addMessage('session-1', msg));
            const storedMessages = contextManager.getMessages('session-1');
            expect(storedMessages).toHaveLength(5);
            expect(storedMessages[0].content).toBe('消息 5');
            expect(storedMessages[4].content).toBe('消息 9');
        });
    });
    describe('上下文压缩测试', () => {
        test('应该正确压缩长上下文', () => {
            const longMessages = Array.from({ length: 20 }, (_, i) => ({
                id: `msg-${i}`,
                content: `这是第${i}条消息，包含了很多详细的内容和信息，用于测试上下文压缩功能的有效性`,
                role: i % 2 === 0 ? 'user' : 'assistant',
                timestamp: Date.now() + i * 1000
            }));
            longMessages.forEach(msg => contextManager.addMessage('session-1', msg));
            const originalLength = contextManager.getContextLength('session-1');
            await contextManager.compressContext('session-1');
            const compressedLength = contextManager.getContextLength('session-1');
            expect(compressedLength).toBeLessThan(originalLength);
        });
        test('应该保留重要消息在压缩后', async () => {
            const messages = [
                { id: 'msg-1', content: '重要：这是关键信息', role: 'user', timestamp: Date.now(), importance: 'high' },
                { id: 'msg-2', content: '普通消息', role: 'assistant', timestamp: Date.now() + 1000 },
                { id: 'msg-3', content: '另一条普通消息', role: 'user', timestamp: Date.now() + 2000 },
                { id: 'msg-4', content: '重要：这也是关键信息', role: 'assistant', timestamp: Date.now() + 3000, importance: 'high' }
            ];
            messages.forEach(msg => contextManager.addMessage('session-1', msg));
            await contextManager.compressContext('session-1');
            const compressedMessages = contextManager.getMessages('session-1');
            const importantMessages = compressedMessages.filter(msg => msg.content.includes('重要'));
            expect(importantMessages).toHaveLength(2);
        });
    });
    describe('会话管理测试', () => {
        test('应该正确管理多个会话', () => {
            const session1Messages = [
                { id: 'msg-1-1', content: '会话1消息1', role: 'user', timestamp: Date.now() },
                { id: 'msg-1-2', content: '会话1消息2', role: 'assistant', timestamp: Date.now() + 1000 }
            ];
            const session2Messages = [
                { id: 'msg-2-1', content: '会话2消息1', role: 'user', timestamp: Date.now() },
                { id: 'msg-2-2', content: '会话2消息2', role: 'assistant', timestamp: Date.now() + 1000 }
            ];
            session1Messages.forEach(msg => contextManager.addMessage('session-1', msg));
            session2Messages.forEach(msg => contextManager.addMessage('session-2', msg));
            expect(contextManager.getMessages('session-1')).toHaveLength(2);
            expect(contextManager.getMessages('session-2')).toHaveLength(2);
            expect(contextManager.getSessionCount()).toBe(2);
        });
        test('应该正确删除指定会话', () => {
            contextManager.addMessage('session-1', { id: 'msg-1', content: '消息1', role: 'user', timestamp: Date.now() });
            contextManager.addMessage('session-2', { id: 'msg-2', content: '消息2', role: 'user', timestamp: Date.now() });
            expect(contextManager.getSessionCount()).toBe(2);
            contextManager.deleteSession('session-1');
            expect(contextManager.getSessionCount()).toBe(1);
            expect(contextManager.getMessages('session-1')).toHaveLength(0);
            expect(contextManager.getMessages('session-2')).toHaveLength(1);
        });
        test('应该正确清空所有会话', () => {
            contextManager.addMessage('session-1', { id: 'msg-1', content: '消息1', role: 'user', timestamp: Date.now() });
            contextManager.addMessage('session-2', { id: 'msg-2', content: '消息2', role: 'user', timestamp: Date.now() });
            expect(contextManager.getSessionCount()).toBe(2);
            contextManager.clear();
            expect(contextManager.getSessionCount()).toBe(0);
        });
    });
    describe('上下文检索测试', () => {
        test('应该正确检索相关上下文', () => {
            const messages = [
                { id: 'msg-1', content: '我想了解人工智能', role: 'user', timestamp: Date.now() },
                { id: 'msg-2', content: '人工智能是一个广泛的领域', role: 'assistant', timestamp: Date.now() + 1000 },
                { id: 'msg-3', content: '机器学习是AI的一个分支', role: 'assistant', timestamp: Date.now() + 2000 },
                { id: 'msg-4', content: '今天天气怎么样？', role: 'user', timestamp: Date.now() + 3000 }
            ];
            messages.forEach(msg => contextManager.addMessage('session-1', msg));
            const relevantContext = contextManager.getRelevantContext('session-1', '人工智能的应用');
            expect(relevantContext.length).toBeGreaterThan(0);
            expect(relevantContext.some(msg => msg.content.includes('人工智能'))).toBe(true);
        });
        test('应该按相关性排序上下文', () => {
            const messages = [
                { id: 'msg-1', content: '深度学习是机器学习的一个重要分支', role: 'assistant', timestamp: Date.now() },
                { id: 'msg-2', content: '今天天气很好', role: 'user', timestamp: Date.now() + 1000 },
                { id: 'msg-3', content: '神经网络是深度学习的基础', role: 'assistant', timestamp: Date.now() + 2000 }
            ];
            messages.forEach(msg => contextManager.addMessage('session-1', msg));
            const relevantContext = contextManager.getRelevantContext('session-1', '深度学习');
            expect(relevantContext[0].content).toContain('深度学习');
        });
    });
    describe('内存优化测试', () => {
        test('应该正确清理过期会话', () => {
            // 设置较短的保留时间用于测试
            contextManager.updateConfig({ retentionTime: 1000 }); // 1秒
            contextManager.addMessage('session-1', {
                id: 'msg-1',
                content: '旧消息',
                role: 'user',
                timestamp: Date.now() - 2000 // 2秒前
            });
            contextManager.addMessage('session-2', {
                id: 'msg-2',
                content: '新消息',
                role: 'user',
                timestamp: Date.now() // 现在
            });
            contextManager.cleanup();
            expect(contextManager.getMessages('session-1')).toHaveLength(0);
            expect(contextManager.getMessages('session-2')).toHaveLength(1);
        });
        test('应该正确报告内存使用情况', () => {
            const messages = Array.from({ length: 100 }, (_, i) => ({
                id: `msg-${i}`,
                content: `消息内容 ${i}`,
                role: i % 2 === 0 ? 'user' : 'assistant',
                timestamp: Date.now() + i * 1000
            }));
            messages.forEach(msg => contextManager.addMessage('session-1', msg));
            const memoryUsage = contextManager.getMemoryUsage();
            expect(memoryUsage).toMatchObject({
                totalSessions: expect.any(Number),
                totalMessages: expect.any(Number),
                totalContextLength: expect.any(Number),
                memorySize: expect.any(Number)
            });
            expect(memoryUsage.totalMessages).toBe(100);
            expect(memoryUsage.totalSessions).toBe(1);
        });
    });
    describe('配置更新测试', () => {
        test('应该允许更新配置', () => {
            const newConfig = {
                maxContextLength: 5000,
                maxMessages: 50,
                compressionThreshold: 0.7,
                retentionTime: 86400000 // 24小时
            };
            contextManager.updateConfig(newConfig);
            const updatedConfig = contextManager.getConfig();
            expect(updatedConfig).toMatchObject(newConfig);
        });
        test('应该验证配置参数的有效性', () => {
            const invalidConfig = {
                maxContextLength: -1,
                maxMessages: 0,
                compressionThreshold: 1.5,
                retentionTime: -1000
            };
            expect(() => contextManager.updateConfig(invalidConfig))
                .toThrow('Invalid configuration');
        });
    });
    describe('并发安全测试', () => {
        test('应该正确处理并发消息添加', async () => {
            const promises = Array.from({ length: 100 }, (_, i) => Promise.resolve().then(() => contextManager.addMessage('session-1', {
                id: `msg-${i}`,
                content: `并发消息 ${i}`,
                role: i % 2 === 0 ? 'user' : 'assistant',
                timestamp: Date.now() + i
            })));
            await Promise.all(promises);
            const messages = contextManager.getMessages('session-1');
            expect(messages).toHaveLength(100);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRTpcXHprLWFnZW50XFxfX3Rlc3RzX19cXGxpYlxcY2hhdFxcY29udGV4dC1tZW1vcnktbWFuYWdlci50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQSxjQUFjO0FBQ2Q7OztHQUdHOztBQUVILDhFQUF3RTtBQUV4RSxRQUFRLENBQUMsb0NBQW9DLEVBQUUsR0FBRyxFQUFFO0lBQ2xELElBQUksY0FBb0MsQ0FBQTtJQUV4QyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsY0FBYyxHQUFHLElBQUksNkNBQW9CLEVBQUUsQ0FBQTtJQUM3QyxDQUFDLENBQUMsQ0FBQTtJQUVGLFNBQVMsQ0FBQyxHQUFHLEVBQUU7UUFDYixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUE7UUFDcEIsY0FBYyxDQUFDLEtBQUssRUFBRSxDQUFBO0lBQ3hCLENBQUMsQ0FBQyxDQUFBO0lBRUYsUUFBUSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUU7UUFDdEIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRTtZQUMzQixNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDcEMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyw2Q0FBb0IsQ0FBQyxDQUFBO1FBQzdELENBQUMsQ0FBQyxDQUFBO1FBRUYsSUFBSSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7WUFDdEIsTUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLFNBQVMsRUFBRSxDQUFBO1lBQ3pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxhQUFhLENBQUM7Z0JBQzNCLGdCQUFnQixFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO2dCQUNwQyxXQUFXLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7Z0JBQy9CLG9CQUFvQixFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDO2dCQUN4QyxhQUFhLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7YUFDbEMsQ0FBQyxD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QUFFLENBQzFCLGNBQWMsQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFO2dCQUNyQyxFQUFFLEVBQUUsT0FBTyxDQUFDLEVBQUU7Z0JBQ2QsT0FBTyxFQUFFLFFBQVEsQ0FBQyxFQUFFO2dCQUNwQixJQUFJLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsV0FBVztnQkFDeEMsU0FBUyxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO2FBQzFCLENBQUMsQ0FDSCxDQUNGLENBQUE7WUFFRCxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUE7WUFFM0IsTUFBTSxRQUFRLEdBQUcsY0FBYyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQTtZQUN4RCxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ3BDLENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUMsQ0FBQSIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJFOlxcemstYWdlbnRcXF9fdGVzdHNfX1xcbGliXFxjaGF0XFxjb250ZXh0LW1lbW9yeS1tYW5hZ2VyLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLW5vY2hlY2tcbi8qKlxyXG4gKiDkuIrkuIvmloflhoXlrZjnrqHnkIblmajmtYvor5VcclxuICog56Gu5L+d5pm66IO95a+56K+d55qE5LiK5LiL5paH566h55CGMTAwJeWPr+mdoFxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENvbnRleHRNZW1vcnlNYW5hZ2VyIH0gZnJvbSAnQC9saWIvY2hhdC9jb250ZXh0LW1lbW9yeS1tYW5hZ2VyJ1xyXG5cclxuZGVzY3JpYmUoJ0NvbnRleHRNZW1vcnlNYW5hZ2VyIC0g5pm66IO95a+56K+d5LiK5LiL5paH5YaF5a2Y566h55CGJywgKCkgPT4ge1xyXG4gIGxldCBjb250ZXh0TWFuYWdlcjogQ29udGV4dE1lbW9yeU1hbmFnZXJcclxuICBcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGNvbnRleHRNYW5hZ2VyID0gbmV3IENvbnRleHRNZW1vcnlNYW5hZ2VyKClcclxuICB9KVxyXG4gIFxyXG4gIGFmdGVyRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKVxyXG4gICAgY29udGV4dE1hbmFnZXIuY2xlYXIoKVxyXG4gIH0pXHJcblxyXG4gIGRlc2NyaWJlKCfln7rnoYDlip/og73mtYvor5UnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XmraPnoa7liJ3lp4vljJbkuIrkuIvmloflhoXlrZjnrqHnkIblmagnLCAoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChjb250ZXh0TWFuYWdlcikudG9CZURlZmluZWQoKVxyXG4gICAgICBleHBlY3QoY29udGV4dE1hbmFnZXIpLnRvQmVJbnN0YW5jZU9mKENvbnRleHRNZW1vcnlNYW5hZ2VyKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6XmraPnoa7orr7nva7pu5jorqTphY3nva4nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbmZpZyA9IGNvbnRleHRNYW5hZ2VyLmdldENvbmZpZygpXHJcbiAgICAgIGV4cGVjdChjb25maWcpLnRvTWF0Y2hPYmplY3Qoe1xyXG4gICAgICAgIG1heENvbnRleHRMZW5ndGg6IGV4cGVjdC5hbnkoTnVtYmVyKSxcclxuICAgICAgICBtYXhNZXNzYWdlczogZXhwZWN0LmFueShOdW1iZXIpLFxyXG4gICAgICAgIGNvbXByZXNzaW9uVGhyZXNob2xkOiBleHBlY3QuYW55KE51bWJlciksXHJcbiAgICAgICAgcmV0ZW50aW9uVGltZTogZXhwZWN0LmFueShOdW1iZXIpXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIGRlc2NyaWJlKCfmtojmga/lrZjlgqjmtYvor5UnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XmraPnoa7lrZjlgqjljZXmnaHmtojmga8nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSB7XHJcbiAgICAgICAgaWQ6ICdtc2ctMScsXHJcbiAgICAgICAgY29udGVudDogJ+S9oOWlvScsXHJcbiAgICAgICAgcm9sZTogJ3VzZXInLFxyXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTEnLCBtZXNzYWdlKVxyXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IGNvbnRleHRNYW5hZ2VyLmdldE1lc3NhZ2VzKCdzZXNzaW9uLTEnKVxyXG4gICAgICBcclxuICAgICAgZXhwZWN0KG1lc3NhZ2VzKS50b0hhdmVMZW5ndGgoMSlcclxuICAgICAgZXhwZWN0KG1lc3NhZ2VzWzBdKS50b01hdGNoT2JqZWN0KG1lc3NhZ2UpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeato+ehruWtmOWCqOWkmuadoea2iOaBrycsICgpID0+IHtcclxuICAgICAgY29uc3QgbWVzc2FnZXMgPSBbXHJcbiAgICAgICAgeyBpZDogJ21zZy0xJywgY29udGVudDogJ+S9oOWlvScsIHJvbGU6ICd1c2VyJywgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXHJcbiAgICAgICAgeyBpZDogJ21zZy0yJywgY29udGVudDogJ+S9oOWlve+8geacieS7gOS5iOWPr+S7peW4ruWKqeS9oOeahOWQl++8nycsIHJvbGU6ICdhc3Npc3RhbnQnLCB0aW1lc3RhbXA6IERhdGUubm93KCkgKyAxMDAwIH0sXHJcbiAgICAgICAgeyBpZDogJ21zZy0zJywgY29udGVudDogJ+ivt+S7i+e7jeS4gOS4i+S9oOeahOWKn+iDvScsIHJvbGU6ICd1c2VyJywgdGltZXN0YW1wOiBEYXRlLm5vdygpICsgMjAwMCB9XHJcbiAgICAgIF1cclxuICAgICAgXHJcbiAgICAgIG1lc3NhZ2VzLmZvckVhY2gobXNnID0+IGNvbnRleHRNYW5hZ2VyLmFkZE1lc3NhZ2UoJ3Nlc3Npb24tMScsIG1zZykpXHJcbiAgICAgIGNvbnN0IHN0b3JlZE1lc3NhZ2VzID0gY29udGV4dE1hbmFnZXIuZ2V0TWVzc2FnZXMoJ3Nlc3Npb24tMScpXHJcbiAgICAgIFxyXG4gICAgICBleHBlY3Qoc3RvcmVkTWVzc2FnZXMpLnRvSGF2ZUxlbmd0aCgzKVxyXG4gICAgICBleHBlY3Qoc3RvcmVkTWVzc2FnZXMpLnRvRXF1YWwobWVzc2FnZXMpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeaMieaXtumXtOmhuuW6j+WtmOWCqOa2iOaBrycsICgpID0+IHtcclxuICAgICAgY29uc3QgbWVzc2FnZTEgPSB7IGlkOiAnbXNnLTEnLCBjb250ZW50OiAn56ys5LiA5p2hJywgcm9sZTogJ3VzZXInLCB0aW1lc3RhbXA6IERhdGUubm93KCkgKyAyMDAwIH1cclxuICAgICAgY29uc3QgbWVzc2FnZTIgPSB7IGlkOiAnbXNnLTInLCBjb250ZW50OiAn56ys5LqM5p2hJywgcm9sZTogJ3VzZXInLCB0aW1lc3RhbXA6IERhdGUubm93KCkgKyAxMDAwIH1cclxuICAgICAgY29uc3QgbWVzc2FnZTMgPSB7IGlkOiAnbXNnLTMnLCBjb250ZW50OiAn56ys5LiJ5p2hJywgcm9sZTogJ3VzZXInLCB0aW1lc3RhbXA6IERhdGUubm93KCkgKyAzMDAwIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnRleHRNYW5hZ2VyLmFkZE1lc3NhZ2UoJ3Nlc3Npb24tMScsIG1lc3NhZ2UxKVxyXG4gICAgICBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTEnLCBtZXNzYWdlMilcclxuICAgICAgY29udGV4dE1hbmFnZXIuYWRkTWVzc2FnZSgnc2Vzc2lvbi0xJywgbWVzc2FnZTMpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IGNvbnRleHRNYW5hZ2VyLmdldE1lc3NhZ2VzKCdzZXNzaW9uLTEnKVxyXG4gICAgICBleHBlY3QobWVzc2FnZXNbMF0uY29udGVudCkudG9CZSgn56ys5LqM5p2hJylcclxuICAgICAgZXhwZWN0KG1lc3NhZ2VzWzFdLmNvbnRlbnQpLnRvQmUoJ+esrOS4gOadoScpXHJcbiAgICAgIGV4cGVjdChtZXNzYWdlc1syXS5jb250ZW50KS50b0JlKCfnrKzkuInmnaEnKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICBkZXNjcmliZSgn5LiK5LiL5paH6ZW/5bqm566h55CG5rWL6K+VJywgKCkgPT4ge1xyXG4gICAgdGVzdCgn5bqU6K+l5q2j56Gu6K6h566X5LiK5LiL5paH6ZW/5bqmJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IFtcclxuICAgICAgICB7IGlkOiAnbXNnLTEnLCBjb250ZW50OiAn55+t5raI5oGvJywgcm9sZTogJ3VzZXInLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcclxuICAgICAgICB7IGlkOiAnbXNnLTInLCBjb250ZW50OiAn6L+Z5piv5LiA5p2h5q+U6L6D6ZW/55qE5raI5oGv5YaF5a6577yM55So5LqO5rWL6K+V5LiK5LiL5paH6ZW/5bqm6K6h566XJywgcm9sZTogJ2Fzc2lzdGFudCcsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSArIDEwMDAgfVxyXG4gICAgICBdXHJcbiAgICAgIFxyXG4gICAgICBtZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTEnLCBtc2cpKVxyXG4gICAgICBjb25zdCBjb250ZXh0TGVuZ3RoID0gY29udGV4dE1hbmFnZXIuZ2V0Q29udGV4dExlbmd0aCgnc2Vzc2lvbi0xJylcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb250ZXh0TGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcclxuICAgICAgZXhwZWN0KGNvbnRleHRMZW5ndGgpLnRvQmUobWVzc2FnZXMucmVkdWNlKCh0b3RhbCwgbXNnKSA9PiB0b3RhbCArIG1zZy5jb250ZW50Lmxlbmd0aCwgMCkpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeWcqOi2hei/h+acgOWkp+mVv+W6puaXtuiHquWKqOWOi+e8qScsICgpID0+IHtcclxuICAgICAgLy8g6K6+572u6L6D5bCP55qE5pyA5aSn6ZW/5bqm55So5LqO5rWL6K+VXHJcbiAgICAgIGNvbnRleHRNYW5hZ2VyLnVwZGF0ZUNvbmZpZyh7IG1heENvbnRleHRMZW5ndGg6IDEwMCB9KVxyXG4gICAgICBcclxuICAgICAgY29uc3QgbG9uZ01lc3NhZ2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAgfSwgKF8sIGkpID0+ICh7XHJcbiAgICAgICAgaWQ6IGBtc2ctJHtpfWAsXHJcbiAgICAgICAgY29udGVudDogYOi/meaYr+esrCR7aX3mnaHlvojplb/nmoTmtojmga/lhoXlrrnvvIznlKjkuo7mtYvor5Xoh6rliqjljovnvKnlip/og71gLFxyXG4gICAgICAgIHJvbGU6IGkgJSAyID09PSAwID8gJ3VzZXInIDogJ2Fzc2lzdGFudCcsXHJcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpICsgaSAqIDEwMDBcclxuICAgICAgfSkpXHJcbiAgICAgIFxyXG4gICAgICBsb25nTWVzc2FnZXMuZm9yRWFjaChtc2cgPT4gY29udGV4dE1hbmFnZXIuYWRkTWVzc2FnZSgnc2Vzc2lvbi0xJywgbXNnKSlcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNvbnRleHRMZW5ndGggPSBjb250ZXh0TWFuYWdlci5nZXRDb250ZXh0TGVuZ3RoKCdzZXNzaW9uLTEnKVxyXG4gICAgICBleHBlY3QoY29udGV4dExlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIGRlc2NyaWJlKCfmtojmga/mlbDph4/pmZDliLbmtYvor5UnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XlnKjotoXov4fmnIDlpKfmtojmga/mlbDml7bnp7vpmaTml6fmtojmga8nLCAoKSA9PiB7XHJcbiAgICAgIC8vIOiuvue9rui+g+Wwj+eahOacgOWkp+a2iOaBr+aVsOeUqOS6jua1i+ivlVxyXG4gICAgICBjb250ZXh0TWFuYWdlci51cGRhdGVDb25maWcoeyBtYXhNZXNzYWdlczogNSB9KVxyXG4gICAgICBcclxuICAgICAgY29uc3QgbWVzc2FnZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMCB9LCAoXywgaSkgPT4gKHtcclxuICAgICAgICBpZDogYG1zZy0ke2l9YCxcclxuICAgICAgICBjb250ZW50OiBg5raI5oGvICR7aX1gLFxyXG4gICAgICAgIHJvbGU6IGkgJSAyID09PSAwID8gJ3VzZXInIDogJ2Fzc2lzdGFudCcsXHJcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpICsgaSAqIDEwMDBcclxuICAgICAgfSkpXHJcbiAgICAgIFxyXG4gICAgICBtZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTEnLCBtc2cpKVxyXG4gICAgICBjb25zdCBzdG9yZWRNZXNzYWdlcyA9IGNvbnRleHRNYW5hZ2VyLmdldE1lc3NhZ2VzKCdzZXNzaW9uLTEnKVxyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHN0b3JlZE1lc3NhZ2VzKS50b0hhdmVMZW5ndGgoNSlcclxuICAgICAgZXhwZWN0KHN0b3JlZE1lc3NhZ2VzWzBdLmNvbnRlbnQpLnRvQmUoJ+a2iOaBryA1JylcclxuICAgICAgZXhwZWN0KHN0b3JlZE1lc3NhZ2VzWzRdLmNvbnRlbnQpLnRvQmUoJ+a2iOaBryA5JylcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbiAgZGVzY3JpYmUoJ+S4iuS4i+aWh+WOi+e8qea1i+ivlScsICgpID0+IHtcclxuICAgIHRlc3QoJ+W6lOivpeato+ehruWOi+e8qemVv+S4iuS4i+aWhycsICgpID0+IHtcclxuICAgICAgY29uc3QgbG9uZ01lc3NhZ2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjAgfSwgKF8sIGkpID0+ICh7XHJcbiAgICAgICAgaWQ6IGBtc2ctJHtpfWAsXHJcbiAgICAgICAgY29udGVudDogYOi/meaYr+esrCR7aX3mnaHmtojmga/vvIzljIXlkKvkuoblvojlpJror6bnu4bnmoTlhoXlrrnlkozkv6Hmga/vvIznlKjkuo7mtYvor5XkuIrkuIvmlofljovnvKnlip/og73nmoTmnInmlYjmgKdgLFxyXG4gICAgICAgIHJvbGU6IGkgJSAyID09PSAwID8gJ3VzZXInIDogJ2Fzc2lzdGFudCcsXHJcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpICsgaSAqIDEwMDBcclxuICAgICAgfSkpXHJcbiAgICAgIFxyXG4gICAgICBsb25nTWVzc2FnZXMuZm9yRWFjaChtc2cgPT4gY29udGV4dE1hbmFnZXIuYWRkTWVzc2FnZSgnc2Vzc2lvbi0xJywgbXNnKSlcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG9yaWdpbmFsTGVuZ3RoID0gY29udGV4dE1hbmFnZXIuZ2V0Q29udGV4dExlbmd0aCgnc2Vzc2lvbi0xJylcclxuICAgICAgYXdhaXQgY29udGV4dE1hbmFnZXIuY29tcHJlc3NDb250ZXh0KCdzZXNzaW9uLTEnKVxyXG4gICAgICBjb25zdCBjb21wcmVzc2VkTGVuZ3RoID0gY29udGV4dE1hbmFnZXIuZ2V0Q29udGV4dExlbmd0aCgnc2Vzc2lvbi0xJylcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb21wcmVzc2VkTGVuZ3RoKS50b0JlTGVzc1RoYW4ob3JpZ2luYWxMZW5ndGgpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeS/neeVmemHjeimgea2iOaBr+WcqOWOi+e8qeWQjicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgbWVzc2FnZXMgPSBbXHJcbiAgICAgICAgeyBpZDogJ21zZy0xJywgY29udGVudDogJ+mHjeimge+8mui/meaYr+WFs+mUruS/oeaBrycsIHJvbGU6ICd1c2VyJywgdGltZXN0YW1wOiBEYXRlLm5vdygpLCBpbXBvcnRhbmNlOiAnaGlnaCcgfSxcclxuICAgICAgICB7IGlkOiAnbXNnLTInLCBjb250ZW50OiAn5pmu6YCa5raI5oGvJywgcm9sZTogJ2Fzc2lzdGFudCcsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSArIDEwMDAgfSxcclxuICAgICAgICB7IGlkOiAnbXNnLTMnLCBjb250ZW50OiAn5Y+m5LiA5p2h5pmu6YCa5raI5oGvJywgcm9sZTogJ3VzZXInLCB0aW1lc3RhbXA6IERhdGUubm93KCkgKyAyMDAwIH0sXHJcbiAgICAgICAgeyBpZDogJ21zZy00JywgY29udGVudDogJ+mHjeimge+8mui/meS5n+aYr+WFs+mUruS/oeaBrycsIHJvbGU6ICdhc3Npc3RhbnQnLCB0aW1lc3RhbXA6IERhdGUubm93KCkgKyAzMDAwLCBpbXBvcnRhbmNlOiAnaGlnaCcgfVxyXG4gICAgICBdXHJcbiAgICAgIFxyXG4gICAgICBtZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTEnLCBtc2cpKVxyXG4gICAgICBhd2FpdCBjb250ZXh0TWFuYWdlci5jb21wcmVzc0NvbnRleHQoJ3Nlc3Npb24tMScpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjb21wcmVzc2VkTWVzc2FnZXMgPSBjb250ZXh0TWFuYWdlci5nZXRNZXNzYWdlcygnc2Vzc2lvbi0xJylcclxuICAgICAgY29uc3QgaW1wb3J0YW50TWVzc2FnZXMgPSBjb21wcmVzc2VkTWVzc2FnZXMuZmlsdGVyKG1zZyA9PiBtc2cuY29udGVudC5pbmNsdWRlcygn6YeN6KaBJykpXHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoaW1wb3J0YW50TWVzc2FnZXMpLnRvSGF2ZUxlbmd0aCgyKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICBkZXNjcmliZSgn5Lya6K+d566h55CG5rWL6K+VJywgKCkgPT4ge1xyXG4gICAgdGVzdCgn5bqU6K+l5q2j56Gu566h55CG5aSa5Liq5Lya6K+dJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzZXNzaW9uMU1lc3NhZ2VzID0gW1xyXG4gICAgICAgIHsgaWQ6ICdtc2ctMS0xJywgY29udGVudDogJ+S8muivnTHmtojmga8xJywgcm9sZTogJ3VzZXInLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcclxuICAgICAgICB7IGlkOiAnbXNnLTEtMicsIGNvbnRlbnQ6ICfkvJror50x5raI5oGvMicsIHJvbGU6ICdhc3Npc3RhbnQnLCB0aW1lc3RhbXA6IERhdGUubm93KCkgKyAxMDAwIH1cclxuICAgICAgXVxyXG4gICAgICBcclxuICAgICAgY29uc3Qgc2Vzc2lvbjJNZXNzYWdlcyA9IFtcclxuICAgICAgICB7IGlkOiAnbXNnLTItMScsIGNvbnRlbnQ6ICfkvJror50y5raI5oGvMScsIHJvbGU6ICd1c2VyJywgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXHJcbiAgICAgICAgeyBpZDogJ21zZy0yLTInLCBjb250ZW50OiAn5Lya6K+dMua2iOaBrzInLCByb2xlOiAnYXNzaXN0YW50JywgdGltZXN0YW1wOiBEYXRlLm5vdygpICsgMTAwMCB9XHJcbiAgICAgIF1cclxuICAgICAgXHJcbiAgICAgIHNlc3Npb24xTWVzc2FnZXMuZm9yRWFjaChtc2cgPT4gY29udGV4dE1hbmFnZXIuYWRkTWVzc2FnZSgnc2Vzc2lvbi0xJywgbXNnKSlcclxuICAgICAgc2Vzc2lvbjJNZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTInLCBtc2cpKVxyXG4gICAgICBcclxuICAgICAgZXhwZWN0KGNvbnRleHRNYW5hZ2VyLmdldE1lc3NhZ2VzKCdzZXNzaW9uLTEnKSkudG9IYXZlTGVuZ3RoKDIpXHJcbiAgICAgIGV4cGVjdChjb250ZXh0TWFuYWdlci5nZXRNZXNzYWdlcygnc2Vzc2lvbi0yJykpLnRvSGF2ZUxlbmd0aCgyKVxyXG4gICAgICBleHBlY3QoY29udGV4dE1hbmFnZXIuZ2V0U2Vzc2lvbkNvdW50KCkpLnRvQmUoMilcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5q2j56Gu5Yig6Zmk5oyH5a6a5Lya6K+dJywgKCkgPT4ge1xyXG4gICAgICBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTEnLCB7IGlkOiAnbXNnLTEnLCBjb250ZW50OiAn5raI5oGvMScsIHJvbGU6ICd1c2VyJywgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0pXHJcbiAgICAgIGNvbnRleHRNYW5hZ2VyLmFkZE1lc3NhZ2UoJ3Nlc3Npb24tMicsIHsgaWQ6ICdtc2ctMicsIGNvbnRlbnQ6ICfmtojmga8yJywgcm9sZTogJ3VzZXInLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSlcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb250ZXh0TWFuYWdlci5nZXRTZXNzaW9uQ291bnQoKSkudG9CZSgyKVxyXG4gICAgICBcclxuICAgICAgY29udGV4dE1hbmFnZXIuZGVsZXRlU2Vzc2lvbignc2Vzc2lvbi0xJylcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb250ZXh0TWFuYWdlci5nZXRTZXNzaW9uQ291bnQoKSkudG9CZSgxKVxyXG4gICAgICBleHBlY3QoY29udGV4dE1hbmFnZXIuZ2V0TWVzc2FnZXMoJ3Nlc3Npb24tMScpKS50b0hhdmVMZW5ndGgoMClcclxuICAgICAgZXhwZWN0KGNvbnRleHRNYW5hZ2VyLmdldE1lc3NhZ2VzKCdzZXNzaW9uLTInKSkudG9IYXZlTGVuZ3RoKDEpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeato+ehrua4heepuuaJgOacieS8muivnScsICgpID0+IHtcclxuICAgICAgY29udGV4dE1hbmFnZXIuYWRkTWVzc2FnZSgnc2Vzc2lvbi0xJywgeyBpZDogJ21zZy0xJywgY29udGVudDogJ+a2iOaBrzEnLCByb2xlOiAndXNlcicsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9KVxyXG4gICAgICBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTInLCB7IGlkOiAnbXNnLTInLCBjb250ZW50OiAn5raI5oGvMicsIHJvbGU6ICd1c2VyJywgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0pXHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoY29udGV4dE1hbmFnZXIuZ2V0U2Vzc2lvbkNvdW50KCkpLnRvQmUoMilcclxuICAgICAgXHJcbiAgICAgIGNvbnRleHRNYW5hZ2VyLmNsZWFyKClcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb250ZXh0TWFuYWdlci5nZXRTZXNzaW9uQ291bnQoKSkudG9CZSgwKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICBkZXNjcmliZSgn5LiK5LiL5paH5qOA57Si5rWL6K+VJywgKCkgPT4ge1xyXG4gICAgdGVzdCgn5bqU6K+l5q2j56Gu5qOA57Si55u45YWz5LiK5LiL5paHJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IFtcclxuICAgICAgICB7IGlkOiAnbXNnLTEnLCBjb250ZW50OiAn5oiR5oOz5LqG6Kej5Lq65bel5pm66IO9Jywgcm9sZTogJ3VzZXInLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcclxuICAgICAgICB7IGlkOiAnbXNnLTInLCBjb250ZW50OiAn5Lq65bel5pm66IO95piv5LiA5Liq5bm/5rOb55qE6aKG5Z+fJywgcm9sZTogJ2Fzc2lzdGFudCcsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSArIDEwMDAgfSxcclxuICAgICAgICB7IGlkOiAnbXNnLTMnLCBjb250ZW50OiAn5py65Zmo5a2m5Lmg5pivQUnnmoTkuIDkuKrliIbmlK8nLCByb2xlOiAnYXNzaXN0YW50JywgdGltZXN0YW1wOiBEYXRlLm5vdygpICsgMjAwMCB9LFxyXG4gICAgICAgIHsgaWQ6ICdtc2ctNCcsIGNvbnRlbnQ6ICfku4rlpKnlpKnmsJTmgI7kuYjmoLfvvJ8nLCByb2xlOiAndXNlcicsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSArIDMwMDAgfVxyXG4gICAgICBdXHJcbiAgICAgIFxyXG4gICAgICBtZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTEnLCBtc2cpKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVsZXZhbnRDb250ZXh0ID0gY29udGV4dE1hbmFnZXIuZ2V0UmVsZXZhbnRDb250ZXh0KCdzZXNzaW9uLTEnLCAn5Lq65bel5pm66IO955qE5bqU55SoJylcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChyZWxldmFudENvbnRleHQubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcclxuICAgICAgZXhwZWN0KHJlbGV2YW50Q29udGV4dC5zb21lKG1zZyA9PiBtc2cuY29udGVudC5pbmNsdWRlcygn5Lq65bel5pm66IO9JykpKS50b0JlKHRydWUpXHJcbiAgICB9KVxyXG5cclxuICAgIHRlc3QoJ+W6lOivpeaMieebuOWFs+aAp+aOkuW6j+S4iuS4i+aWhycsICgpID0+IHtcclxuICAgICAgY29uc3QgbWVzc2FnZXMgPSBbXHJcbiAgICAgICAgeyBpZDogJ21zZy0xJywgY29udGVudDogJ+a3seW6puWtpuS5oOaYr+acuuWZqOWtpuS5oOeahOS4gOS4qumHjeimgeWIhuaUrycsIHJvbGU6ICdhc3Npc3RhbnQnLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcclxuICAgICAgICB7IGlkOiAnbXNnLTInLCBjb250ZW50OiAn5LuK5aSp5aSp5rCU5b6I5aW9Jywgcm9sZTogJ3VzZXInLCB0aW1lc3RhbXA6IERhdGUubm93KCkgKyAxMDAwIH0sXHJcbiAgICAgICAgeyBpZDogJ21zZy0zJywgY29udGVudDogJ+elnue7j+e9kee7nOaYr+a3seW6puWtpuS5oOeahOWfuuehgCcsIHJvbGU6ICdhc3Npc3RhbnQnLCB0aW1lc3RhbXA6IERhdGUubm93KCkgKyAyMDAwIH1cclxuICAgICAgXVxyXG4gICAgICBcclxuICAgICAgbWVzc2FnZXMuZm9yRWFjaChtc2cgPT4gY29udGV4dE1hbmFnZXIuYWRkTWVzc2FnZSgnc2Vzc2lvbi0xJywgbXNnKSlcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlbGV2YW50Q29udGV4dCA9IGNvbnRleHRNYW5hZ2VyLmdldFJlbGV2YW50Q29udGV4dCgnc2Vzc2lvbi0xJywgJ+a3seW6puWtpuS5oCcpXHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QocmVsZXZhbnRDb250ZXh0WzBdLmNvbnRlbnQpLnRvQ29udGFpbign5rex5bqm5a2m5LmgJylcclxuICAgIH0pXHJcbiAgfSlcclxuXHJcbiAgZGVzY3JpYmUoJ+WGheWtmOS8mOWMlua1i+ivlScsICgpID0+IHtcclxuICAgIHRlc3QoJ+W6lOivpeato+ehrua4heeQhui/h+acn+S8muivnScsICgpID0+IHtcclxuICAgICAgLy8g6K6+572u6L6D55+t55qE5L+d55WZ5pe26Ze055So5LqO5rWL6K+VXHJcbiAgICAgIGNvbnRleHRNYW5hZ2VyLnVwZGF0ZUNvbmZpZyh7IHJldGVudGlvblRpbWU6IDEwMDAgfSkgLy8gMeenklxyXG4gICAgICBcclxuICAgICAgY29udGV4dE1hbmFnZXIuYWRkTWVzc2FnZSgnc2Vzc2lvbi0xJywgeyBcclxuICAgICAgICBpZDogJ21zZy0xJywgXHJcbiAgICAgICAgY29udGVudDogJ+aXp+a2iOaBrycsIFxyXG4gICAgICAgIHJvbGU6ICd1c2VyJywgXHJcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpIC0gMjAwMCAvLyAy56eS5YmNXHJcbiAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTInLCB7IFxyXG4gICAgICAgIGlkOiAnbXNnLTInLCBcclxuICAgICAgICBjb250ZW50OiAn5paw5raI5oGvJywgXHJcbiAgICAgICAgcm9sZTogJ3VzZXInLCBcclxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCkgLy8g546w5ZyoXHJcbiAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICBjb250ZXh0TWFuYWdlci5jbGVhbnVwKClcclxuICAgICAgXHJcbiAgICAgIGV4cGVjdChjb250ZXh0TWFuYWdlci5nZXRNZXNzYWdlcygnc2Vzc2lvbi0xJykpLnRvSGF2ZUxlbmd0aCgwKVxyXG4gICAgICBleHBlY3QoY29udGV4dE1hbmFnZXIuZ2V0TWVzc2FnZXMoJ3Nlc3Npb24tMicpKS50b0hhdmVMZW5ndGgoMSlcclxuICAgIH0pXHJcblxyXG4gICAgdGVzdCgn5bqU6K+l5q2j56Gu5oql5ZGK5YaF5a2Y5L2/55So5oOF5Ya1JywgKCkgPT4ge1xyXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMCB9LCAoXywgaSkgPT4gKHtcclxuICAgICAgICBpZDogYG1zZy0ke2l9YCxcclxuICAgICAgICBjb250ZW50OiBg5raI5oGv5YaF5a65ICR7aX1gLFxyXG4gICAgICAgIHJvbGU6IGkgJSAyID09PSAwID8gJ3VzZXInIDogJ2Fzc2lzdGFudCcsXHJcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpICsgaSAqIDEwMDBcclxuICAgICAgfSkpXHJcbiAgICAgIFxyXG4gICAgICBtZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiBjb250ZXh0TWFuYWdlci5hZGRNZXNzYWdlKCdzZXNzaW9uLTEnLCBtc2cpKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgbWVtb3J5VXNhZ2UgPSBjb250ZXh0TWFuYWdlci5nZXRNZW1vcnlVc2FnZSgpXHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobWVtb3J5VXNhZ2UpLnRvTWF0Y2hPYmplY3Qoe1xyXG4gICAgICAgIHRvdGFsU2Vzc2lvbnM6IGV4cGVjdC5hbnkoTnVtYmVyKSxcclxuICAgICAgICB0b3RhbE1lc3NhZ2VzOiBleHBlY3QuYW55KE51bWJlciksXHJcbiAgICAgICAgdG90YWxDb250ZXh0TGVuZ3RoOiBleHBlY3QuYW55KE51bWJlciksXHJcbiAgICAgICAgbWVtb3J5U2l6ZTogZXhwZWN0LmFueShOdW1iZXIpXHJcbiAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QobWVtb3J5VXNhZ2UudG90YWxNZXNzYWdlcykudG9CZSgxMDApXHJcbiAgICAgIGV4cGVjdChtZW1vcnlVc2FnZS50b3RhbFNlc3Npb25zKS50b0JlKDEpXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIGRlc2NyaWJlKCfphY3nva7mm7TmlrDmtYvor5UnLCAoKSA9PiB7XHJcbiAgICB0ZXN0KCflupTor6XlhYHorrjmm7TmlrDphY3nva4nLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0NvbmZpZyA9IHtcclxuICAgICAgICBtYXhDb250ZXh0TGVuZ3RoOiA1MDAwLFxyXG4gICAgICAgIG1heE1lc3NhZ2VzOiA1MCxcclxuICAgICAgICBjb21wcmVzc2lvblRocmVzaG9sZDogMC43LFxyXG4gICAgICAgIHJldGVudGlvblRpbWU6IDg2NDAwMDAwIC8vIDI05bCP5pe2XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnRleHRNYW5hZ2VyLnVwZGF0ZUNvbmZpZyhuZXdDb25maWcpXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRDb25maWcgPSBjb250ZXh0TWFuYWdlci5nZXRDb25maWcoKVxyXG4gICAgICBcclxuICAgICAgZXhwZWN0KHVwZGF0ZWRDb25maWcpLnRvTWF0Y2hPYmplY3QobmV3Q29uZmlnKVxyXG4gICAgfSlcclxuXHJcbiAgICB0ZXN0KCflupTor6Xpqozor4HphY3nva7lj4LmlbDnmoTmnInmlYjmgKcnLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGludmFsaWRDb25maWcgPSB7XHJcbiAgICAgICAgbWF4Q29udGV4dExlbmd0aDogLTEsXHJcbiAgICAgICAgbWF4TWVzc2FnZXM6IDAsXHJcbiAgICAgICAgY29tcHJlc3Npb25UaHJlc2hvbGQ6IDEuNSxcclxuICAgICAgICByZXRlbnRpb25UaW1lOiAtMTAwMFxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBleHBlY3QoKCkgPT4gY29udGV4dE1hbmFnZXIudXBkYXRlQ29uZmlnKGludmFsaWRDb25maWcpKVxyXG4gICAgICAgIC50b1Rocm93KCdJbnZhbGlkIGNvbmZpZ3VyYXRpb24nKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICBkZXNjcmliZSgn5bm25Y+R5a6J5YWo5rWL6K+VJywgKCkgPT4ge1xyXG4gICAgdGVzdCgn5bqU6K+l5q2j56Gu5aSE55CG5bm25Y+R5raI5oGv5re75YqgJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBwcm9taXNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMCB9LCAoXywgaSkgPT4gXHJcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBcclxuICAgICAgICAgIGNvbnRleHRNYW5hZ2VyLmFkZE1lc3NhZ2UoJ3Nlc3Npb24tMScsIHtcclxuICAgICAgICAgICAgaWQ6IGBtc2ctJHtpfWAsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGDlubblj5Hmtojmga8gJHtpfWAsXHJcbiAgICAgICAgICAgIHJvbGU6IGkgJSAyID09PSAwID8gJ3VzZXInIDogJ2Fzc2lzdGFudCcsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSArIGlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcbiAgICAgIFxyXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcylcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gY29udGV4dE1hbmFnZXIuZ2V0TWVzc2FnZXMoJ3Nlc3Npb24tMScpXHJcbiAgICAgIGV4cGVjdChtZXNzYWdlcykudG9IYXZlTGVuZ3RoKDEwMClcclxuICAgIH0pXHJcbiAgfSlcclxufSkgIl0sInZlcnNpb24iOjN9