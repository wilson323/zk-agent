8049dc71802946a295c2d89b7f0b7b22
"use strict";

/* istanbul ignore next */
function cov_nzllgh60e() {
  var path = "E:\\zk-agent\\components\\chat\\enhanced-chat-message.tsx";
  var hash = "af88bed6187a9efc0f11f444e55202f927da709e";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "E:\\zk-agent\\components\\chat\\enhanced-chat-message.tsx",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 2,
          column: 62
        }
      },
      "1": {
        start: {
          line: 3,
          column: 22
        },
        end: {
          line: 3,
          column: 50
        }
      },
      "2": {
        start: {
          line: 4,
          column: 17
        },
        end: {
          line: 4,
          column: 50
        }
      },
      "3": {
        start: {
          line: 5,
          column: 23
        },
        end: {
          line: 5,
          column: 46
        }
      },
      "4": {
        start: {
          line: 6,
          column: 32
        },
        end: {
          line: 6,
          column: 85
        }
      },
      "5": {
        start: {
          line: 7,
          column: 31
        },
        end: {
          line: 7,
          column: 81
        }
      },
      "6": {
        start: {
          line: 8,
          column: 28
        },
        end: {
          line: 11,
          column: 1
        }
      },
      "7": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 10,
          column: 528
        }
      },
      "8": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 12,
          column: 38
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 28
          },
          end: {
            line: 8,
            column: 29
          }
        },
        loc: {
          start: {
            line: 8,
            column: 45
          },
          end: {
            line: 11,
            column: 1
          }
        },
        line: 8
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 9,
            column: 145
          },
          end: {
            line: 9,
            column: 228
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 9,
            column: 171
          },
          end: {
            line: 9,
            column: 198
          }
        }, {
          start: {
            line: 9,
            column: 201
          },
          end: {
            line: 9,
            column: 228
          }
        }],
        line: 9
      },
      "1": {
        loc: {
          start: {
            line: 10,
            column: 279
          },
          end: {
            line: 10,
            column: 318
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 10,
            column: 305
          },
          end: {
            line: 10,
            column: 309
          }
        }, {
          start: {
            line: 10,
            column: 312
          },
          end: {
            line: 10,
            column: 318
          }
        }],
        line: 10
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    f: {
      "0": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0]
    },
    inputSourceMap: {
      file: "E:\\zk-agent\\components\\chat\\enhanced-chat-message.tsx",
      mappings: ";;;AAEA,mDAA+C;AAC/C,+CAAqC;AAErC,sFAAgF;AAChF,kFAA4E;AAU5E,MAAM,mBAAmB,GAAuC,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE;IAC9E,OAAO,CACL,iCAAK,SAAS,EAAC,eAAe,aAC5B,gCACE,SAAS,EAAE,kBAAkB,OAAO,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC,2BAA2B,CAAC,CAAC,CAAC,2BAA2B,EAAE,YAEjH,OAAO,CAAC,OAAO,GACZ,EAEN,iCAAK,SAAS,EAAC,8BAA8B,aAC3C,uBAAC,yCAAkB,IACjB,MAAM,EAAE,OAAO,CAAC,EAAE,EAClB,QAAQ,EAAC,SAAS,EAClB,MAAM,EAAC,cAAc,CAAC,wBAAwB;0BAC9C,OAAO,EAAC,SAAS,EACjB,SAAS,EAAE,IAAI,GACf,EAEF,uBAAC,2CAAmB,IAClB,SAAS,EAAE,OAAO,CAAC,EAAE,EACrB,WAAW,EAAC,cAAc,EAC1B,YAAY,EAAE,YAAY,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,EAC/D,kBAAkB,EAAE,MAAM,OAAO,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,MAAM,YAEvE,uBAAC,eAAM,IAAC,OAAO,EAAC,OAAO,EAAC,IAAI,EAAC,IAAI,EAAC,SAAS,EAAC,UAAU,YACpD,uBAAC,qBAAM,IAAC,SAAS,EAAC,SAAS,GAAG,GACvB,GACW,IAClB,IACF,CACP,CAAA;AACH,CAAC,CAAA;AAED,kBAAe,mBAAmB,CAAA",
      names: [],
      sources: ["E:\\zk-agent\\components\\chat\\enhanced-chat-message.tsx"],
      sourcesContent: ["// @ts-nocheck\nimport type React from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Share2 } from \"lucide-react\"\n\nimport { EnhancedShareDialog } from \"@/components/sharing/enhanced-share-dialog\"\nimport { EnhancedLikeButton } from \"@/components/likes/enhanced-like-button\"\n\ninterface EnhancedChatMessageProps {\n  message: {\n    id: string\n    role: \"user\" | \"assistant\"\n    content: string\n  }\n}\n\nconst EnhancedChatMessage: React.FC<EnhancedChatMessageProps> = ({ message }) => {\n  return (\n    <div className=\"flex flex-col\">\n      <div\n        className={`rounded-md p-2 ${message.role === \"user\" ? \"bg-blue-100 text-blue-800\" : \"bg-gray-100 text-gray-800\"}`}\n      >\n        {message.content}\n      </div>\n\n      <div className=\"flex items-center gap-2 mt-2\">\n        <EnhancedLikeButton\n          itemId={message.id}\n          itemType=\"message\"\n          userId=\"current-user\" // Get from auth context\n          variant=\"compact\"\n          showStats={true}\n        />\n\n        <EnhancedShareDialog\n          contentId={message.id}\n          contentType=\"conversation\"\n          contentTitle={`AI\u5BF9\u8BDD\u6D88\u606F - ${message.content.substring(0, 50)}...`}\n          contentDescription={`\u6765\u81EA ${message.role === \"user\" ? \"\u7528\u6237\" : \"AI\u52A9\u624B\"} \u7684\u6D88\u606F`}\n        >\n          <Button variant=\"ghost\" size=\"sm\" className=\"h-8 px-2\">\n            <Share2 className=\"h-3 w-3\" />\n          </Button>\n        </EnhancedShareDialog>\n      </div>\n    </div>\n  )\n}\n\nexport default EnhancedChatMessage\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "af88bed6187a9efc0f11f444e55202f927da709e"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_nzllgh60e = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_nzllgh60e();
cov_nzllgh60e().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
const jsx_runtime_1 =
/* istanbul ignore next */
(cov_nzllgh60e().s[1]++, require("react/jsx-runtime"));
const button_1 =
/* istanbul ignore next */
(cov_nzllgh60e().s[2]++, require("@/components/ui/button"));
const lucide_react_1 =
/* istanbul ignore next */
(cov_nzllgh60e().s[3]++, require("lucide-react"));
const enhanced_share_dialog_1 =
/* istanbul ignore next */
(cov_nzllgh60e().s[4]++, require("@/components/sharing/enhanced-share-dialog"));
const enhanced_like_button_1 =
/* istanbul ignore next */
(cov_nzllgh60e().s[5]++, require("@/components/likes/enhanced-like-button"));
/* istanbul ignore next */
cov_nzllgh60e().s[6]++;
const EnhancedChatMessage = ({
  message
}) => {
  /* istanbul ignore next */
  cov_nzllgh60e().f[0]++;
  cov_nzllgh60e().s[7]++;
  return (0, jsx_runtime_1.jsxs)("div", {
    className: "flex flex-col",
    children: [(0, jsx_runtime_1.jsx)("div", {
      className: `rounded-md p-2 ${message.role === "user" ?
      /* istanbul ignore next */
      (cov_nzllgh60e().b[0][0]++, "bg-blue-100 text-blue-800") :
      /* istanbul ignore next */
      (cov_nzllgh60e().b[0][1]++, "bg-gray-100 text-gray-800")}`,
      children: message.content
    }), (0, jsx_runtime_1.jsxs)("div", {
      className: "flex items-center gap-2 mt-2",
      children: [(0, jsx_runtime_1.jsx)(enhanced_like_button_1.EnhancedLikeButton, {
        itemId: message.id,
        itemType: "message",
        userId: "current-user" // Get from auth context
        ,
        variant: "compact",
        showStats: true
      }), (0, jsx_runtime_1.jsx)(enhanced_share_dialog_1.EnhancedShareDialog, {
        contentId: message.id,
        contentType: "conversation",
        contentTitle: `AI对话消息 - ${message.content.substring(0, 50)}...`,
        contentDescription: `来自 ${message.role === "user" ?
        /* istanbul ignore next */
        (cov_nzllgh60e().b[1][0]++, "用户") :
        /* istanbul ignore next */
        (cov_nzllgh60e().b[1][1]++, "AI助手")} 的消息`,
        children: (0, jsx_runtime_1.jsx)(button_1.Button, {
          variant: "ghost",
          size: "sm",
          className: "h-8 px-2",
          children: (0, jsx_runtime_1.jsx)(lucide_react_1.Share2, {
            className: "h-3 w-3"
          })
        })
      })]
    })]
  });
};
/* istanbul ignore next */
cov_nzllgh60e().s[8]++;
exports.default = EnhancedChatMessage;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJidXR0b25fMSIsImNvdl9uemxsZ2g2MGUiLCJzIiwicmVxdWlyZSIsImx1Y2lkZV9yZWFjdF8xIiwiZW5oYW5jZWRfc2hhcmVfZGlhbG9nXzEiLCJlbmhhbmNlZF9saWtlX2J1dHRvbl8xIiwiRW5oYW5jZWRDaGF0TWVzc2FnZSIsIm1lc3NhZ2UiLCJmIiwianN4X3J1bnRpbWVfMSIsImpzeHMiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsImpzeCIsInJvbGUiLCJiIiwiY29udGVudCIsIkVuaGFuY2VkTGlrZUJ1dHRvbiIsIml0ZW1JZCIsImlkIiwiaXRlbVR5cGUiLCJ1c2VySWQiLCJ2YXJpYW50Iiwic2hvd1N0YXRzIiwiRW5oYW5jZWRTaGFyZURpYWxvZyIsImNvbnRlbnRJZCIsImNvbnRlbnRUeXBlIiwiY29udGVudFRpdGxlIiwic3Vic3RyaW5nIiwiY29udGVudERlc2NyaXB0aW9uIiwiQnV0dG9uIiwic2l6ZSIsIlNoYXJlMiIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZXMiOlsiRTpcXHprLWFnZW50XFxjb21wb25lbnRzXFxjaGF0XFxlbmhhbmNlZC1jaGF0LW1lc3NhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1ub2NoZWNrXG5pbXBvcnQgdHlwZSBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgU2hhcmUyIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5cbmltcG9ydCB7IEVuaGFuY2VkU2hhcmVEaWFsb2cgfSBmcm9tIFwiQC9jb21wb25lbnRzL3NoYXJpbmcvZW5oYW5jZWQtc2hhcmUtZGlhbG9nXCJcbmltcG9ydCB7IEVuaGFuY2VkTGlrZUJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvbGlrZXMvZW5oYW5jZWQtbGlrZS1idXR0b25cIlxuXG5pbnRlcmZhY2UgRW5oYW5jZWRDaGF0TWVzc2FnZVByb3BzIHtcbiAgbWVzc2FnZToge1xuICAgIGlkOiBzdHJpbmdcbiAgICByb2xlOiBcInVzZXJcIiB8IFwiYXNzaXN0YW50XCJcbiAgICBjb250ZW50OiBzdHJpbmdcbiAgfVxufVxuXG5jb25zdCBFbmhhbmNlZENoYXRNZXNzYWdlOiBSZWFjdC5GQzxFbmhhbmNlZENoYXRNZXNzYWdlUHJvcHM+ID0gKHsgbWVzc2FnZSB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQtbWQgcC0yICR7bWVzc2FnZS5yb2xlID09PSBcInVzZXJcIiA/IFwiYmctYmx1ZS0xMDAgdGV4dC1ibHVlLTgwMFwiIDogXCJiZy1ncmF5LTEwMCB0ZXh0LWdyYXktODAwXCJ9YH1cbiAgICAgID5cbiAgICAgICAge21lc3NhZ2UuY29udGVudH1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG10LTJcIj5cbiAgICAgICAgPEVuaGFuY2VkTGlrZUJ1dHRvblxuICAgICAgICAgIGl0ZW1JZD17bWVzc2FnZS5pZH1cbiAgICAgICAgICBpdGVtVHlwZT1cIm1lc3NhZ2VcIlxuICAgICAgICAgIHVzZXJJZD1cImN1cnJlbnQtdXNlclwiIC8vIEdldCBmcm9tIGF1dGggY29udGV4dFxuICAgICAgICAgIHZhcmlhbnQ9XCJjb21wYWN0XCJcbiAgICAgICAgICBzaG93U3RhdHM9e3RydWV9XG4gICAgICAgIC8+XG5cbiAgICAgICAgPEVuaGFuY2VkU2hhcmVEaWFsb2dcbiAgICAgICAgICBjb250ZW50SWQ9e21lc3NhZ2UuaWR9XG4gICAgICAgICAgY29udGVudFR5cGU9XCJjb252ZXJzYXRpb25cIlxuICAgICAgICAgIGNvbnRlbnRUaXRsZT17YEFJ5a+56K+d5raI5oGvIC0gJHttZXNzYWdlLmNvbnRlbnQuc3Vic3RyaW5nKDAsIDUwKX0uLi5gfVxuICAgICAgICAgIGNvbnRlbnREZXNjcmlwdGlvbj17YOadpeiHqiAke21lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIgPyBcIueUqOaIt1wiIDogXCJBSeWKqeaJi1wifSDnmoTmtojmga9gfVxuICAgICAgICA+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJoLTggcHgtMlwiPlxuICAgICAgICAgICAgPFNoYXJlMiBjbGFzc05hbWU9XCJoLTMgdy0zXCIgLz5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9FbmhhbmNlZFNoYXJlRGlhbG9nPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRW5oYW5jZWRDaGF0TWVzc2FnZVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxNQUFBQSxRQUFBO0FBQUE7QUFBQSxDQUFBQyxhQUFBLEdBQUFDLENBQUEsT0FBQUMsT0FBQTtBQUNBLE1BQUFDLGNBQUE7QUFBQTtBQUFBLENBQUFILGFBQUEsR0FBQUMsQ0FBQSxPQUFBQyxPQUFBO0FBRUEsTUFBQUUsdUJBQUE7QUFBQTtBQUFBLENBQUFKLGFBQUEsR0FBQUMsQ0FBQSxPQUFBQyxPQUFBO0FBQ0EsTUFBQUcsc0JBQUE7QUFBQTtBQUFBLENBQUFMLGFBQUEsR0FBQUMsQ0FBQSxPQUFBQyxPQUFBO0FBQTRFO0FBQUFGLGFBQUEsR0FBQUMsQ0FBQTtBQVU1RSxNQUFNSyxtQkFBbUIsR0FBdUNBLENBQUM7RUFBRUM7QUFBTyxDQUFFLEtBQUk7RUFBQTtFQUFBUCxhQUFBLEdBQUFRLENBQUE7RUFBQVIsYUFBQSxHQUFBQyxDQUFBO0VBQzlFLE9BQ0UsSUFBQVEsYUFBQSxDQUFBQyxJQUFBO0lBQUtDLFNBQVMsRUFBQyxlQUFlO0lBQUFDLFFBQUEsR0FDNUIsSUFBQUgsYUFBQSxDQUFBSSxHQUFBO01BQ0VGLFNBQVMsRUFBRSxrQkFBa0JKLE9BQU8sQ0FBQ08sSUFBSSxLQUFLLE1BQU07TUFBQTtNQUFBLENBQUFkLGFBQUEsR0FBQWUsQ0FBQSxVQUFHLDJCQUEyQjtNQUFBO01BQUEsQ0FBQWYsYUFBQSxHQUFBZSxDQUFBLFVBQUcsMkJBQTJCLEdBQUU7TUFBQUgsUUFBQSxFQUVqSEwsT0FBTyxDQUFDUztJQUFPLEVBQ1osRUFFTixJQUFBUCxhQUFBLENBQUFDLElBQUE7TUFBS0MsU0FBUyxFQUFDLDhCQUE4QjtNQUFBQyxRQUFBLEdBQzNDLElBQUFILGFBQUEsQ0FBQUksR0FBQSxFQUFDUixzQkFBQSxDQUFBWSxrQkFBa0I7UUFDakJDLE1BQU0sRUFBRVgsT0FBTyxDQUFDWSxFQUFFO1FBQ2xCQyxRQUFRLEVBQUMsU0FBUztRQUNsQkMsTUFBTSxFQUFDLGNBQWMsQ0FBQztRQUFBO1FBQ3RCQyxPQUFPLEVBQUMsU0FBUztRQUNqQkMsU0FBUyxFQUFFO01BQUksRUFDZixFQUVGLElBQUFkLGFBQUEsQ0FBQUksR0FBQSxFQUFDVCx1QkFBQSxDQUFBb0IsbUJBQW1CO1FBQ2xCQyxTQUFTLEVBQUVsQixPQUFPLENBQUNZLEVBQUU7UUFDckJPLFdBQVcsRUFBQyxjQUFjO1FBQzFCQyxZQUFZLEVBQUUsWUFBWXBCLE9BQU8sQ0FBQ1MsT0FBTyxDQUFDWSxTQUFTLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLO1FBQy9EQyxrQkFBa0IsRUFBRSxNQUFNdEIsT0FBTyxDQUFDTyxJQUFJLEtBQUssTUFBTTtRQUFBO1FBQUEsQ0FBQWQsYUFBQSxHQUFBZSxDQUFBLFVBQUcsSUFBSTtRQUFBO1FBQUEsQ0FBQWYsYUFBQSxHQUFBZSxDQUFBLFVBQUcsTUFBTSxPQUFNO1FBQUFILFFBQUEsRUFFdkUsSUFBQUgsYUFBQSxDQUFBSSxHQUFBLEVBQUNkLFFBQUEsQ0FBQStCLE1BQU07VUFBQ1IsT0FBTyxFQUFDLE9BQU87VUFBQ1MsSUFBSSxFQUFDLElBQUk7VUFBQ3BCLFNBQVMsRUFBQyxVQUFVO1VBQUFDLFFBQUEsRUFDcEQsSUFBQUgsYUFBQSxDQUFBSSxHQUFBLEVBQUNWLGNBQUEsQ0FBQTZCLE1BQU07WUFBQ3JCLFNBQVMsRUFBQztVQUFTO1FBQUc7TUFDdkIsRUFDVztJQUFBLEVBQ2xCO0VBQUEsRUFDRjtBQUVWLENBQUM7QUFBQTtBQUFBWCxhQUFBLEdBQUFDLENBQUE7QUFFRGdDLE9BQUEsQ0FBQUMsT0FBQSxHQUFlNUIsbUJBQW1CIiwiaWdub3JlTGlzdCI6W119