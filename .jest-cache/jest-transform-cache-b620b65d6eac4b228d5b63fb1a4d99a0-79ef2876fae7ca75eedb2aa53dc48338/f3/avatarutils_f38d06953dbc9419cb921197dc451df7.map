{"version":3,"names":["cov_2h8n5r9xgw","actualCoverage","s","exports","generateAvatarColor","getContrastTextColor","name","f","defaultColor","themeColors","b","hash","i","length","charCodeAt","index","Math","abs","bgColor","color","replace","r","Number","parseInt","substring","g","yiq"],"sources":["E:\\zk-agent\\lib\\utils\\avatar-utils.ts"],"sourcesContent":["// @ts-nocheck\n/**\n * 根据智能体名称生成一致的头像颜色\n * 这确保了同一个智能体总是获得相同的颜色\n */\nexport function generateAvatarColor(name: string): string {\n  // 默认主题色\n  const defaultColor = \"#6cb33f\"\n\n  // 预定义的主题色，与系统主题相协调\n  const themeColors = [\n    \"#6cb33f\", // 默认绿色（主题色）\n    \"#4CAF50\", // 绿色变种\n    \"#2196F3\", // 蓝色\n    \"#3F51B5\", // 靛蓝色\n    \"#9C27B0\", // 紫色\n    \"#E91E63\", // 粉色\n    \"#F44336\", // 红色\n    \"#FF9800\", // 橙色\n    \"#FFEB3B\", // 黄色\n    \"#795548\", // 棕色\n    \"#607D8B\", // 蓝灰色\n    \"#9E9E9E\", // 灰色\n  ]\n\n  if (!name) {return defaultColor}\n\n  // 使用简单的哈希算法将名称映射到颜色\n  let hash = 0\n  for (let i = 0; i < name.length; i++) {\n    hash = name.charCodeAt(i) + ((hash << 5) - hash)\n  }\n\n  // 将哈希值映射到颜色数组的索引\n  const index = Math.abs(hash) % themeColors.length\n  return themeColors[index]\n}\n\n/**\n * 根据背景色生成适合的文本颜色（黑色或白色）\n * 确保文本在背景上有足够的对比度\n */\nexport function getContrastTextColor(bgColor: string): string {\n  // 移除可能的 # 前缀\n  const color = bgColor.replace(\"#\", \"\")\n\n  // 将十六进制颜色转换为 RGB\n  const r = Number.parseInt(color.substring(0, 2), 16)\n  const g = Number.parseInt(color.substring(2, 4), 16)\n  const b = Number.parseInt(color.substring(4, 6), 16)\n\n  // 计算亮度 (YIQ 公式)\n  const yiq = (r * 299 + g * 587 + b * 114) / 1000\n\n  // 亮度大于 128 返回黑色，否则返回白色\n  return yiq >= 128 ? \"#000000\" : \"#ffffff\"\n}\n"],"mappings":"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","ignoreList":[]}