9060fd4f5c3b8f2ba80fe9fa6e22c015
/**
 * @file Performance Benchmark Tests
 * @description 性能基准测试
 */

const {
  performance
} = require('perf_hooks');
describe('Performance Benchmarks', () => {
  test('API响应时间应小于100ms', async () => {
    const start = performance.now();

    // 模拟API调用
    await new Promise(resolve => setTimeout(resolve, 50));
    const end = performance.now();
    const duration = end - start;
    expect(duration).toBeLessThan(100);
  });
  test('内存使用应在合理范围内', () => {
    const memUsage = process.memoryUsage();
    const heapUsedMB = memUsage.heapUsed / 1024 / 1024;

    // 堆内存使用应小于100MB
    expect(heapUsedMB).toBeLessThan(100);
  });
  test('Bundle大小应符合要求', () => {
    // 模拟bundle大小检查
    const bundleSize = 250 * 1024; // 250KB
    const maxSize = 300 * 1024; // 300KB

    expect(bundleSize).toBeLessThan(maxSize);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwZXJmb3JtYW5jZSIsInJlcXVpcmUiLCJkZXNjcmliZSIsInRlc3QiLCJzdGFydCIsIm5vdyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImVuZCIsImR1cmF0aW9uIiwiZXhwZWN0IiwidG9CZUxlc3NUaGFuIiwibWVtVXNhZ2UiLCJwcm9jZXNzIiwibWVtb3J5VXNhZ2UiLCJoZWFwVXNlZE1CIiwiaGVhcFVzZWQiLCJidW5kbGVTaXplIiwibWF4U2l6ZSJdLCJzb3VyY2VzIjpbImJlbmNobWFyay50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgUGVyZm9ybWFuY2UgQmVuY2htYXJrIFRlc3RzXG4gKiBAZGVzY3JpcHRpb24g5oCn6IO95Z+65YeG5rWL6K+VXG4gKi9cblxuY29uc3QgeyBwZXJmb3JtYW5jZSB9ID0gcmVxdWlyZSgncGVyZl9ob29rcycpO1xuXG5kZXNjcmliZSgnUGVyZm9ybWFuY2UgQmVuY2htYXJrcycsICgpID0+IHtcbiAgdGVzdCgnQVBJ5ZON5bqU5pe26Ze05bqU5bCP5LqOMTAwbXMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBcbiAgICAvLyDmqKHmi59BUEnosIPnlKhcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTApKTtcbiAgICBcbiAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IGVuZCAtIHN0YXJ0O1xuICAgIFxuICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDEwMCk7XG4gIH0pO1xuICBcbiAgdGVzdCgn5YaF5a2Y5L2/55So5bqU5Zyo5ZCI55CG6IyD5Zu05YaFJywgKCkgPT4ge1xuICAgIGNvbnN0IG1lbVVzYWdlID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpO1xuICAgIGNvbnN0IGhlYXBVc2VkTUIgPSBtZW1Vc2FnZS5oZWFwVXNlZCAvIDEwMjQgLyAxMDI0O1xuICAgIFxuICAgIC8vIOWghuWGheWtmOS9v+eUqOW6lOWwj+S6jjEwME1CXG4gICAgZXhwZWN0KGhlYXBVc2VkTUIpLnRvQmVMZXNzVGhhbigxMDApO1xuICB9KTtcbiAgXG4gIHRlc3QoJ0J1bmRsZeWkp+Wwj+W6lOespuWQiOimgeaxgicsICgpID0+IHtcbiAgICAvLyDmqKHmi59idW5kbGXlpKflsI/mo4Dmn6VcbiAgICBjb25zdCBidW5kbGVTaXplID0gMjUwICogMTAyNDsgLy8gMjUwS0JcbiAgICBjb25zdCBtYXhTaXplID0gMzAwICogMTAyNDsgLy8gMzAwS0JcbiAgICBcbiAgICBleHBlY3QoYnVuZGxlU2l6ZSkudG9CZUxlc3NUaGFuKG1heFNpemUpO1xuICB9KTtcbn0pOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTTtFQUFFQTtBQUFZLENBQUMsR0FBR0MsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUU3Q0MsUUFBUSxDQUFDLHdCQUF3QixFQUFFLE1BQU07RUFDdkNDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxZQUFZO0lBQ2xDLE1BQU1DLEtBQUssR0FBR0osV0FBVyxDQUFDSyxHQUFHLENBQUMsQ0FBQzs7SUFFL0I7SUFDQSxNQUFNLElBQUlDLE9BQU8sQ0FBQ0MsT0FBTyxJQUFJQyxVQUFVLENBQUNELE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVyRCxNQUFNRSxHQUFHLEdBQUdULFdBQVcsQ0FBQ0ssR0FBRyxDQUFDLENBQUM7SUFDN0IsTUFBTUssUUFBUSxHQUFHRCxHQUFHLEdBQUdMLEtBQUs7SUFFNUJPLE1BQU0sQ0FBQ0QsUUFBUSxDQUFDLENBQUNFLFlBQVksQ0FBQyxHQUFHLENBQUM7RUFDcEMsQ0FBQyxDQUFDO0VBRUZULElBQUksQ0FBQyxhQUFhLEVBQUUsTUFBTTtJQUN4QixNQUFNVSxRQUFRLEdBQUdDLE9BQU8sQ0FBQ0MsV0FBVyxDQUFDLENBQUM7SUFDdEMsTUFBTUMsVUFBVSxHQUFHSCxRQUFRLENBQUNJLFFBQVEsR0FBRyxJQUFJLEdBQUcsSUFBSTs7SUFFbEQ7SUFDQU4sTUFBTSxDQUFDSyxVQUFVLENBQUMsQ0FBQ0osWUFBWSxDQUFDLEdBQUcsQ0FBQztFQUN0QyxDQUFDLENBQUM7RUFFRlQsSUFBSSxDQUFDLGVBQWUsRUFBRSxNQUFNO0lBQzFCO0lBQ0EsTUFBTWUsVUFBVSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUMvQixNQUFNQyxPQUFPLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxDQUFDOztJQUU1QlIsTUFBTSxDQUFDTyxVQUFVLENBQUMsQ0FBQ04sWUFBWSxDQUFDTyxPQUFPLENBQUM7RUFDMUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119