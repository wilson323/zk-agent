{"version":3,"names":["cov_uev05cmm5","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","exports","useDIService","useDIInitialization","react_1","require","container_1","initialization_1","serviceId","result","setResult","useState","service","isInitialized","isDIInitialized","status","getDIInitializationStatus","error","useEffect","checkAndGetService","initialized","serviceInstance","getService","err","Error","interval","setInterval","currentStatus","clearInterval","state","setState","checkStatus","currentInitialized"],"sources":["E:\\zk-agent\\lib\\hooks\\use-di.ts"],"sourcesContent":["/**\r\n * @file 依赖注入钩子\r\n * @description 提供在React组件中使用依赖注入的钩子\r\n * @author ZK-Agent Team\r\n * @date 2024-12-20\r\n */\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { getService, ServiceIdentifier } from '../di/container';\r\nimport { isDIInitialized, getDIInitializationStatus } from '../di/initialization';\r\nimport { DIInitializationStatus } from '../di/initialization';\r\n\r\n/**\r\n * 使用依赖注入服务的钩子返回类型\r\n */\r\nexport type UseDIServiceResult<T> = {\r\n  service: T | null;        // 服务实例，如果DI未初始化则为null\r\n  isInitialized: boolean;   // DI系统是否已初始化\r\n  status: DIInitializationStatus; // DI系统初始化状态\r\n  error: Error | null;      // 获取服务时的错误\r\n};\r\n\r\n/**\r\n * 使用依赖注入服务的钩子\r\n * @param serviceId 服务标识符\r\n * @returns 包含服务实例和状态的对象\r\n * \r\n * @example\r\n * // 在组件中使用\r\n * const { service: logger, isInitialized } = useDIService<ILogger>(TYPES.Logger);\r\n * \r\n * // 使用服务（确保检查是否已初始化）\r\n * useEffect(() => {\r\n *   if (isInitialized && logger) {\r\n *     logger.info('组件已挂载');\r\n *   }\r\n * }, [isInitialized, logger]);\r\n */\r\nexport function useDIService<T>(serviceId: ServiceIdentifier): UseDIServiceResult<T> {\r\n  const [result, setResult] = useState<UseDIServiceResult<T>>({\r\n    service: null,\r\n    isInitialized: isDIInitialized(),\r\n    status: getDIInitializationStatus(),\r\n    error: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    // 检查DI系统状态的函数\r\n    const checkAndGetService = () => {\r\n      const initialized = isDIInitialized();\r\n      const status = getDIInitializationStatus();\r\n      \r\n      if (initialized) {\r\n        try {\r\n          // 尝试获取服务\r\n          const serviceInstance = getService<T>(serviceId);\r\n          setResult({\r\n            service: serviceInstance,\r\n            isInitialized: true,\r\n            status,\r\n            error: null\r\n          });\r\n        } catch (err) {\r\n          // 处理获取服务时的错误\r\n          setResult({\r\n            service: null,\r\n            isInitialized: true,\r\n            status,\r\n            error: err instanceof Error ? err : new Error('获取服务失败')\r\n          });\r\n        }\r\n      } else {\r\n        // DI系统尚未初始化\r\n        setResult({\r\n          service: null,\r\n          isInitialized: false,\r\n          status,\r\n          error: null\r\n        });\r\n      }\r\n    };\r\n\r\n    // 立即检查一次\r\n    checkAndGetService();\r\n    \r\n    // 如果DI系统尚未初始化，设置轮询检查\r\n    if (!result.isInitialized) {\r\n      const interval = setInterval(() => {\r\n        const currentStatus = getDIInitializationStatus();\r\n        \r\n        // 如果状态已更改，重新检查服务\r\n        if (currentStatus !== result.status) {\r\n          checkAndGetService();\r\n        }\r\n        \r\n        // 如果已初始化，停止轮询\r\n        if (isDIInitialized()) {\r\n          clearInterval(interval);\r\n          checkAndGetService();\r\n        }\r\n      }, 500);\r\n      \r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [serviceId, result.status, result.isInitialized]);\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * 等待DI系统初始化的钩子\r\n * @returns DI系统的初始化状态\r\n * \r\n * @example\r\n * // 在组件中使用\r\n * const { isInitialized, status } = useDIInitialization();\r\n * \r\n * if (!isInitialized) {\r\n *   return <div>正在初始化依赖注入系统...</div>;\r\n * }\r\n */\r\nexport function useDIInitialization() {\r\n  const [state, setState] = useState({\r\n    isInitialized: isDIInitialized(),\r\n    status: getDIInitializationStatus()\r\n  });\r\n\r\n  useEffect(() => {\r\n    // 如果已初始化，不需要设置轮询\r\n    if (state.isInitialized) return;\r\n\r\n    // 检查状态的函数\r\n    const checkStatus = () => {\r\n      const currentInitialized = isDIInitialized();\r\n      const currentStatus = getDIInitializationStatus();\r\n      \r\n      if (currentInitialized !== state.isInitialized || currentStatus !== state.status) {\r\n        setState({\r\n          isInitialized: currentInitialized,\r\n          status: currentStatus\r\n        });\r\n      }\r\n      \r\n      return currentInitialized;\r\n    };\r\n\r\n    // 设置轮询检查\r\n    const interval = setInterval(() => {\r\n      if (checkStatus()) {\r\n        clearInterval(interval);\r\n      }\r\n    }, 500);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [state.isInitialized, state.status]);\r\n\r\n  return state;\r\n}\r\n"],"mappings":";;AAAA;;;;;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAA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","ignoreList":[]}