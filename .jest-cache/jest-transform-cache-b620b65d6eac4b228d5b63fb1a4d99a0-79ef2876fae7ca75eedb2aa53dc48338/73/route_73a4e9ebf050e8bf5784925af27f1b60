bea90169d995f2ca8c8f50d2ff665f10
"use strict";

/**
 * @file admin\users\route.ts
 * @description Migrated API route with global error handling
 * @author ZK-Agent Team
 * @date 2025-06-25
 */
/* istanbul ignore next */
function cov_2kn6i57vld() {
  var path = "E:\\zk-agent\\app\\api\\admin\\users\\route.ts";
  var hash = "c0bd76f359c3d360c162c7f0c131cf9aad6906fc";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "E:\\zk-agent\\app\\api\\admin\\users\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 8,
          column: 0
        },
        end: {
          line: 8,
          column: 62
        }
      },
      "1": {
        start: {
          line: 9,
          column: 0
        },
        end: {
          line: 9,
          column: 36
        }
      },
      "2": {
        start: {
          line: 10,
          column: 28
        },
        end: {
          line: 10,
          column: 83
        }
      },
      "3": {
        start: {
          line: 11,
          column: 21
        },
        end: {
          line: 11,
          column: 64
        }
      },
      "4": {
        start: {
          line: 12,
          column: 15
        },
        end: {
          line: 12,
          column: 48
        }
      },
      "5": {
        start: {
          line: 13,
          column: 14
        },
        end: {
          line: 13,
          column: 28
        }
      },
      "6": {
        start: {
          line: 14,
          column: 23
        },
        end: {
          line: 14,
          column: 71
        }
      },
      "7": {
        start: {
          line: 15,
          column: 24
        },
        end: {
          line: 15,
          column: 73
        }
      },
      "8": {
        start: {
          line: 16,
          column: 21
        },
        end: {
          line: 16,
          column: 63
        }
      },
      "9": {
        start: {
          line: 17,
          column: 0
        },
        end: {
          line: 68,
          column: 3
        }
      },
      "10": {
        start: {
          line: 18,
          column: 4
        },
        end: {
          line: 67,
          column: 5
        }
      },
      "11": {
        start: {
          line: 19,
          column: 28
        },
        end: {
          line: 19,
          column: 65
        }
      },
      "12": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 22,
          column: 9
        }
      },
      "13": {
        start: {
          line: 21,
          column: 12
        },
        end: {
          line: 21,
          column: 109
        }
      },
      "14": {
        start: {
          line: 23,
          column: 33
        },
        end: {
          line: 23,
          column: 49
        }
      },
      "15": {
        start: {
          line: 24,
          column: 33
        },
        end: {
          line: 24,
          column: 91
        }
      },
      "16": {
        start: {
          line: 25,
          column: 8
        },
        end: {
          line: 27,
          column: 9
        }
      },
      "17": {
        start: {
          line: 26,
          column: 12
        },
        end: {
          line: 26,
          column: 156
        }
      },
      "18": {
        start: {
          line: 28,
          column: 54
        },
        end: {
          line: 28,
          column: 75
        }
      },
      "19": {
        start: {
          line: 29,
          column: 24
        },
        end: {
          line: 29,
          column: 45
        }
      },
      "20": {
        start: {
          line: 30,
          column: 25
        },
        end: {
          line: 30,
          column: 47
        }
      },
      "21": {
        start: {
          line: 31,
          column: 21
        },
        end: {
          line: 31,
          column: 45
        }
      },
      "22": {
        start: {
          line: 33,
          column: 22
        },
        end: {
          line: 33,
          column: 24
        }
      },
      "23": {
        start: {
          line: 34,
          column: 8
        },
        end: {
          line: 39,
          column: 9
        }
      },
      "24": {
        start: {
          line: 35,
          column: 12
        },
        end: {
          line: 38,
          column: 14
        }
      },
      "25": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 42,
          column: 9
        }
      },
      "26": {
        start: {
          line: 41,
          column: 12
        },
        end: {
          line: 41,
          column: 30
        }
      },
      "27": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 45,
          column: 9
        }
      },
      "28": {
        start: {
          line: 44,
          column: 12
        },
        end: {
          line: 44,
          column: 34
        }
      },
      "29": {
        start: {
          line: 46,
          column: 38
        },
        end: {
          line: 50,
          column: 10
        }
      },
      "30": {
        start: {
          line: 51,
          column: 22
        },
        end: {
          line: 51,
          column: 38
        }
      },
      "31": {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 63,
          column: 11
        }
      },
      "32": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 66,
          column: 116
        }
      },
      "33": {
        start: {
          line: 69,
          column: 0
        },
        end: {
          line: 99,
          column: 3
        }
      },
      "34": {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 98,
          column: 5
        }
      },
      "35": {
        start: {
          line: 71,
          column: 28
        },
        end: {
          line: 71,
          column: 65
        }
      },
      "36": {
        start: {
          line: 72,
          column: 8
        },
        end: {
          line: 74,
          column: 9
        }
      },
      "37": {
        start: {
          line: 73,
          column: 12
        },
        end: {
          line: 73,
          column: 114
        }
      },
      "38": {
        start: {
          line: 75,
          column: 38
        },
        end: {
          line: 75,
          column: 51
        }
      },
      "39": {
        start: {
          line: 76,
          column: 24
        },
        end: {
          line: 76,
          column: 83
        }
      },
      "40": {
        start: {
          line: 77,
          column: 8
        },
        end: {
          line: 88,
          column: 9
        }
      },
      "41": {
        start: {
          line: 78,
          column: 12
        },
        end: {
          line: 87,
          column: 15
        }
      },
      "42": {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 94,
          column: 11
        }
      },
      "43": {
        start: {
          line: 97,
          column: 8
        },
        end: {
          line: 97,
          column: 114
        }
      },
      "44": {
        start: {
          line: 101,
          column: 23
        },
        end: {
          line: 107,
          column: 2
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 17,
            column: 103
          },
          end: {
            line: 17,
            column: 104
          }
        },
        loc: {
          start: {
            line: 17,
            column: 154
          },
          end: {
            line: 68,
            column: 1
          }
        },
        line: 17
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 69,
            column: 105
          },
          end: {
            line: 69,
            column: 106
          }
        },
        loc: {
          start: {
            line: 69,
            column: 139
          },
          end: {
            line: 99,
            column: 1
          }
        },
        line: 69
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 20,
            column: 8
          },
          end: {
            line: 22,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 20,
            column: 8
          },
          end: {
            line: 22,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 20
      },
      "1": {
        loc: {
          start: {
            line: 20,
            column: 12
          },
          end: {
            line: 20,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 20,
            column: 12
          },
          end: {
            line: 20,
            column: 24
          }
        }, {
          start: {
            line: 20,
            column: 28
          },
          end: {
            line: 20,
            column: 59
          }
        }],
        line: 20
      },
      "2": {
        loc: {
          start: {
            line: 25,
            column: 8
          },
          end: {
            line: 27,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 25,
            column: 8
          },
          end: {
            line: 27,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 25
      },
      "3": {
        loc: {
          start: {
            line: 26,
            column: 92
          },
          end: {
            line: 26,
            column: 143
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 26,
            column: 92
          },
          end: {
            line: 26,
            column: 133
          }
        }, {
          start: {
            line: 26,
            column: 137
          },
          end: {
            line: 26,
            column: 143
          }
        }],
        line: 26
      },
      "4": {
        loc: {
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 34,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 34
      },
      "5": {
        loc: {
          start: {
            line: 40,
            column: 8
          },
          end: {
            line: 42,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 40,
            column: 8
          },
          end: {
            line: 42,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 40
      },
      "6": {
        loc: {
          start: {
            line: 43,
            column: 8
          },
          end: {
            line: 45,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 43,
            column: 8
          },
          end: {
            line: 45,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 43
      },
      "7": {
        loc: {
          start: {
            line: 72,
            column: 8
          },
          end: {
            line: 74,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 72,
            column: 8
          },
          end: {
            line: 74,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 72
      },
      "8": {
        loc: {
          start: {
            line: 72,
            column: 12
          },
          end: {
            line: 72,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 72,
            column: 12
          },
          end: {
            line: 72,
            column: 24
          }
        }, {
          start: {
            line: 72,
            column: 28
          },
          end: {
            line: 72,
            column: 59
          }
        }],
        line: 72
      },
      "9": {
        loc: {
          start: {
            line: 77,
            column: 8
          },
          end: {
            line: 88,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 77,
            column: 8
          },
          end: {
            line: 88,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 77
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0]
    },
    inputSourceMap: {
      file: "E:\\zk-agent\\app\\api\\admin\\users\\route.ts",
      mappings: "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",
      names: [],
      sources: ["E:\\zk-agent\\app\\api\\admin\\users\\route.ts"],
      sourcesContent: ["/**\n * @file admin\\users\\route.ts\n * @description Migrated API route with global error handling\n * @author ZK-Agent Team\n * @date 2025-06-25\n */\n\nimport { NextRequest } from 'next/server';\nimport { createApiRoute, RouteConfigs } from '../../../../lib/middleware/api-route-wrapper';\nimport { ApiResponseWrapper } from '../../../../lib/utils/api-helper';\nimport { ErrorCode } from '../../../../types/core';\nimport { z } from 'zod';\nimport { getUsers, createUser } from '../../../../lib/services/user-service';\nimport { createUsageStats } from '../../../../lib/services/stats-service';\nimport { getCurrentUser } from '../../../../lib/auth/middleware';\n\nexport const GET = createApiRoute(\n  RouteConfigs.protectedGet(),\n  async (req: NextRequest, { validatedQuery: validatedQuery }) => {\n    try {\n      const currentUser = getCurrentUser(req);\n      if (!currentUser || currentUser['role'] !== 'admin') {\n        return ApiResponseWrapper.error(ErrorCode.AUTHORIZATION_ERROR, '\u6743\u9650\u4E0D\u8DB3', null);\n      }\n\n      const { searchParams } = new URL(req.url);\n  const validationResult = getUsersSchema.safeParse(Object.fromEntries(searchParams));\n\n  if (!validationResult.success) {\n        return ApiResponseWrapper.error(\n          ErrorCode.VALIDATION_ERROR,\n          validationResult.error.errors[0]?.message || '\u9A8C\u8BC1\u5931\u8D25',\n          null,\n          400\n        );\n      }\n\n      const { page, limit, search, role, status } = validationResult.data;\n      const pageNum = Number.parseInt(page);\n      const limitNum = Number.parseInt(limit);\n      const skip = (pageNum - 1) * limitNum;\n\n      // \u6784\u5EFA\u67E5\u8BE2\u6761\u4EF6\n      const where: any = {};\n      if (search) {\n        where.OR = [\n          { name: { contains: search, mode: 'insensitive' } },\n          { email: { contains: search, mode: 'insensitive' } },\n        ];\n      }\n      if (role) {\n        where.role = role;\n      }\n      if (status) {\n        where.status = status;\n      }\n\n      const { users, pagination } = await getUsers({\n        where,\n        skip: skip,\n        limit: limitNum,\n      });\n      const total = pagination.total;\n\n      return ApiResponseWrapper.success({\n        success: true,\n        data: {\n          users,\n          pagination: {\n            page: pageNum,\n            limit: limitNum,\n            total,\n            pages: Math.ceil(total / limitNum),\n          },\n        },\n      });\n    } catch (error) {\n      return ApiResponseWrapper.error(ErrorCode.INTERNAL_SERVER_ERROR,\n        '\u83B7\u53D6\u7528\u6237\u5217\u8868\u5931\u8D25',\n        null,\n        500\n      );\n    }\n  }\n);\n\nexport const POST = createApiRoute(\n  RouteConfigs.protectedPost(),\n  async (req: NextRequest, { validatedBody }) => {\n    try {\n      const currentUser = getCurrentUser(req);\n      if (!currentUser || currentUser['role'] !== 'admin') {\n        return ApiResponseWrapper.error(ErrorCode.AUTHORIZATION_ERROR, '\u6743\u9650\u4E0D\u8DB3', null, 403);\n      }\n\n      const { email, name, role } = validatedBody;\n\n      const newUser = await createUser({ email, name, role });\n\n      if (newUser) {\n        await createUsageStats({\n          userId: currentUser.userId,\n          agentType: 'admin',\n          action: 'create_user',\n          metadata: {\n            targetUserId: newUser.id,\n            targetUserEmail: newUser.email,\n          },\n          req,\n        });\n      }\n\n      // The logging logic is expected to be moved into the createUser service\n\n      return ApiResponseWrapper.success({\n        success: true,\n        data: newUser,\n        message: '\u7528\u6237\u521B\u5EFA\u6210\u529F',\n      });\n    } catch (error) {\n      return ApiResponseWrapper.error(ErrorCode.INTERNAL_SERVER_ERROR, '\u521B\u5EFA\u7528\u6237\u5931\u8D25', null, 500);\n    }\n  }\n);\n\n// Schema for getting users\nconst getUsersSchema = z.object({\n  page: z.string().default('1'),\n  limit: z.string().default('10'),\n  search: z.string().optional(),\n  role: z.enum(['USER', 'ADMIN']).optional(),\n  status: z.enum(['ACTIVE', 'INACTIVE', 'SUSPENDED', 'DELETED']).optional(),\n});\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "c0bd76f359c3d360c162c7f0c131cf9aad6906fc"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2kn6i57vld = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2kn6i57vld();
cov_2kn6i57vld().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_2kn6i57vld().s[1]++;
exports.POST = exports.GET = void 0;
const api_route_wrapper_1 =
/* istanbul ignore next */
(cov_2kn6i57vld().s[2]++, require("../../../../lib/middleware/api-route-wrapper"));
const api_helper_1 =
/* istanbul ignore next */
(cov_2kn6i57vld().s[3]++, require("../../../../lib/utils/api-helper"));
const core_1 =
/* istanbul ignore next */
(cov_2kn6i57vld().s[4]++, require("../../../../types/core"));
const zod_1 =
/* istanbul ignore next */
(cov_2kn6i57vld().s[5]++, require("zod"));
const user_service_1 =
/* istanbul ignore next */
(cov_2kn6i57vld().s[6]++, require("../../../../lib/services/user-service"));
const stats_service_1 =
/* istanbul ignore next */
(cov_2kn6i57vld().s[7]++, require("../../../../lib/services/stats-service"));
const middleware_1 =
/* istanbul ignore next */
(cov_2kn6i57vld().s[8]++, require("../../../../lib/auth/middleware"));
/* istanbul ignore next */
cov_2kn6i57vld().s[9]++;
exports.GET = (0, api_route_wrapper_1.createApiRoute)(api_route_wrapper_1.RouteConfigs.protectedGet(), async (req, {
  validatedQuery: validatedQuery
}) => {
  /* istanbul ignore next */
  cov_2kn6i57vld().f[0]++;
  cov_2kn6i57vld().s[10]++;
  try {
    const currentUser =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[11]++, (0, middleware_1.getCurrentUser)(req));
    /* istanbul ignore next */
    cov_2kn6i57vld().s[12]++;
    if (
    /* istanbul ignore next */
    (cov_2kn6i57vld().b[1][0]++, !currentUser) ||
    /* istanbul ignore next */
    (cov_2kn6i57vld().b[1][1]++, currentUser['role'] !== 'admin')) {
      /* istanbul ignore next */
      cov_2kn6i57vld().b[0][0]++;
      cov_2kn6i57vld().s[13]++;
      return api_helper_1.ApiResponseWrapper.error(core_1.ErrorCode.AUTHORIZATION_ERROR, '权限不足', null);
    } else
    /* istanbul ignore next */
    {
      cov_2kn6i57vld().b[0][1]++;
    }
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[14]++, new URL(req.url));
    const validationResult =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[15]++, getUsersSchema.safeParse(Object.fromEntries(searchParams)));
    /* istanbul ignore next */
    cov_2kn6i57vld().s[16]++;
    if (!validationResult.success) {
      /* istanbul ignore next */
      cov_2kn6i57vld().b[2][0]++;
      cov_2kn6i57vld().s[17]++;
      return api_helper_1.ApiResponseWrapper.error(core_1.ErrorCode.VALIDATION_ERROR,
      /* istanbul ignore next */
      (cov_2kn6i57vld().b[3][0]++, validationResult.error.errors[0]?.message) ||
      /* istanbul ignore next */
      (cov_2kn6i57vld().b[3][1]++, '验证失败'), null, 400);
    } else
    /* istanbul ignore next */
    {
      cov_2kn6i57vld().b[2][1]++;
    }
    const {
      page,
      limit,
      search,
      role,
      status
    } =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[18]++, validationResult.data);
    const pageNum =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[19]++, Number.parseInt(page));
    const limitNum =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[20]++, Number.parseInt(limit));
    const skip =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[21]++, (pageNum - 1) * limitNum);
    // 构建查询条件
    const where =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[22]++, {});
    /* istanbul ignore next */
    cov_2kn6i57vld().s[23]++;
    if (search) {
      /* istanbul ignore next */
      cov_2kn6i57vld().b[4][0]++;
      cov_2kn6i57vld().s[24]++;
      where.OR = [{
        name: {
          contains: search,
          mode: 'insensitive'
        }
      }, {
        email: {
          contains: search,
          mode: 'insensitive'
        }
      }];
    } else
    /* istanbul ignore next */
    {
      cov_2kn6i57vld().b[4][1]++;
    }
    cov_2kn6i57vld().s[25]++;
    if (role) {
      /* istanbul ignore next */
      cov_2kn6i57vld().b[5][0]++;
      cov_2kn6i57vld().s[26]++;
      where.role = role;
    } else
    /* istanbul ignore next */
    {
      cov_2kn6i57vld().b[5][1]++;
    }
    cov_2kn6i57vld().s[27]++;
    if (status) {
      /* istanbul ignore next */
      cov_2kn6i57vld().b[6][0]++;
      cov_2kn6i57vld().s[28]++;
      where.status = status;
    } else
    /* istanbul ignore next */
    {
      cov_2kn6i57vld().b[6][1]++;
    }
    const {
      users,
      pagination
    } =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[29]++, await (0, user_service_1.getUsers)({
      where,
      skip: skip,
      limit: limitNum
    }));
    const total =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[30]++, pagination.total);
    /* istanbul ignore next */
    cov_2kn6i57vld().s[31]++;
    return api_helper_1.ApiResponseWrapper.success({
      success: true,
      data: {
        users,
        pagination: {
          page: pageNum,
          limit: limitNum,
          total,
          pages: Math.ceil(total / limitNum)
        }
      }
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2kn6i57vld().s[32]++;
    return api_helper_1.ApiResponseWrapper.error(core_1.ErrorCode.INTERNAL_SERVER_ERROR, '获取用户列表失败', null, 500);
  }
});
/* istanbul ignore next */
cov_2kn6i57vld().s[33]++;
exports.POST = (0, api_route_wrapper_1.createApiRoute)(api_route_wrapper_1.RouteConfigs.protectedPost(), async (req, {
  validatedBody
}) => {
  /* istanbul ignore next */
  cov_2kn6i57vld().f[1]++;
  cov_2kn6i57vld().s[34]++;
  try {
    const currentUser =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[35]++, (0, middleware_1.getCurrentUser)(req));
    /* istanbul ignore next */
    cov_2kn6i57vld().s[36]++;
    if (
    /* istanbul ignore next */
    (cov_2kn6i57vld().b[8][0]++, !currentUser) ||
    /* istanbul ignore next */
    (cov_2kn6i57vld().b[8][1]++, currentUser['role'] !== 'admin')) {
      /* istanbul ignore next */
      cov_2kn6i57vld().b[7][0]++;
      cov_2kn6i57vld().s[37]++;
      return api_helper_1.ApiResponseWrapper.error(core_1.ErrorCode.AUTHORIZATION_ERROR, '权限不足', null, 403);
    } else
    /* istanbul ignore next */
    {
      cov_2kn6i57vld().b[7][1]++;
    }
    const {
      email,
      name,
      role
    } =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[38]++, validatedBody);
    const newUser =
    /* istanbul ignore next */
    (cov_2kn6i57vld().s[39]++, await (0, user_service_1.createUser)({
      email,
      name,
      role
    }));
    /* istanbul ignore next */
    cov_2kn6i57vld().s[40]++;
    if (newUser) {
      /* istanbul ignore next */
      cov_2kn6i57vld().b[9][0]++;
      cov_2kn6i57vld().s[41]++;
      await (0, stats_service_1.createUsageStats)({
        userId: currentUser.userId,
        agentType: 'admin',
        action: 'create_user',
        metadata: {
          targetUserId: newUser.id,
          targetUserEmail: newUser.email
        },
        req
      });
    } else
    /* istanbul ignore next */
    {
      cov_2kn6i57vld().b[9][1]++;
    }
    // The logging logic is expected to be moved into the createUser service
    cov_2kn6i57vld().s[42]++;
    return api_helper_1.ApiResponseWrapper.success({
      success: true,
      data: newUser,
      message: '用户创建成功'
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2kn6i57vld().s[43]++;
    return api_helper_1.ApiResponseWrapper.error(core_1.ErrorCode.INTERNAL_SERVER_ERROR, '创建用户失败', null, 500);
  }
});
// Schema for getting users
const getUsersSchema =
/* istanbul ignore next */
(cov_2kn6i57vld().s[44]++, zod_1.z.object({
  page: zod_1.z.string().default('1'),
  limit: zod_1.z.string().default('10'),
  search: zod_1.z.string().optional(),
  role: zod_1.z.enum(['USER', 'ADMIN']).optional(),
  status: zod_1.z.enum(['ACTIVE', 'INACTIVE', 'SUSPENDED', 'DELETED']).optional()
}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmtuNmk1N3ZsZCIsInBhdGgiLCJoYXNoIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJnY3YiLCJjb3ZlcmFnZURhdGEiLCJzdGF0ZW1lbnRNYXAiLCJzdGFydCIsImxpbmUiLCJjb2x1bW4iLCJlbmQiLCJmbk1hcCIsIm5hbWUiLCJkZWNsIiwibG9jIiwiYnJhbmNoTWFwIiwidHlwZSIsImxvY2F0aW9ucyIsInVuZGVmaW5lZCIsInMiLCJmIiwiYiIsImlucHV0U291cmNlTWFwIiwiZmlsZSIsIm1hcHBpbmdzIiwibmFtZXMiLCJzb3VyY2VzIiwic291cmNlc0NvbnRlbnQiLCJ2ZXJzaW9uIiwiX2NvdmVyYWdlU2NoZW1hIiwiY292ZXJhZ2UiLCJhY3R1YWxDb3ZlcmFnZSIsImFwaV9yb3V0ZV93cmFwcGVyXzEiLCJyZXF1aXJlIiwiYXBpX2hlbHBlcl8xIiwiY29yZV8xIiwiem9kXzEiLCJ1c2VyX3NlcnZpY2VfMSIsInN0YXRzX3NlcnZpY2VfMSIsIm1pZGRsZXdhcmVfMSIsImV4cG9ydHMiLCJHRVQiLCJjcmVhdGVBcGlSb3V0ZSIsIlJvdXRlQ29uZmlncyIsInByb3RlY3RlZEdldCIsInJlcSIsInZhbGlkYXRlZFF1ZXJ5IiwiY3VycmVudFVzZXIiLCJnZXRDdXJyZW50VXNlciIsIkFwaVJlc3BvbnNlV3JhcHBlciIsImVycm9yIiwiRXJyb3JDb2RlIiwiQVVUSE9SSVpBVElPTl9FUlJPUiIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInZhbGlkYXRpb25SZXN1bHQiLCJnZXRVc2Vyc1NjaGVtYSIsInNhZmVQYXJzZSIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwic3VjY2VzcyIsIlZBTElEQVRJT05fRVJST1IiLCJlcnJvcnMiLCJtZXNzYWdlIiwicGFnZSIsImxpbWl0Iiwic2VhcmNoIiwicm9sZSIsInN0YXR1cyIsImRhdGEiLCJwYWdlTnVtIiwiTnVtYmVyIiwicGFyc2VJbnQiLCJsaW1pdE51bSIsInNraXAiLCJ3aGVyZSIsIk9SIiwiY29udGFpbnMiLCJtb2RlIiwiZW1haWwiLCJ1c2VycyIsInBhZ2luYXRpb24iLCJnZXRVc2VycyIsInRvdGFsIiwicGFnZXMiLCJNYXRoIiwiY2VpbCIsIklOVEVSTkFMX1NFUlZFUl9FUlJPUiIsIlBPU1QiLCJwcm90ZWN0ZWRQb3N0IiwidmFsaWRhdGVkQm9keSIsIm5ld1VzZXIiLCJjcmVhdGVVc2VyIiwiY3JlYXRlVXNhZ2VTdGF0cyIsInVzZXJJZCIsImFnZW50VHlwZSIsImFjdGlvbiIsIm1ldGFkYXRhIiwidGFyZ2V0VXNlcklkIiwiaWQiLCJ0YXJnZXRVc2VyRW1haWwiLCJ6Iiwib2JqZWN0Iiwic3RyaW5nIiwiZGVmYXVsdCIsIm9wdGlvbmFsIiwiZW51bSJdLCJzb3VyY2VzIjpbIkU6XFx6ay1hZ2VudFxcYXBwXFxhcGlcXGFkbWluXFx1c2Vyc1xccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBhZG1pblxcdXNlcnNcXHJvdXRlLnRzXG4gKiBAZGVzY3JpcHRpb24gTWlncmF0ZWQgQVBJIHJvdXRlIHdpdGggZ2xvYmFsIGVycm9yIGhhbmRsaW5nXG4gKiBAYXV0aG9yIFpLLUFnZW50IFRlYW1cbiAqIEBkYXRlIDIwMjUtMDYtMjVcbiAqL1xuXG5pbXBvcnQgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGNyZWF0ZUFwaVJvdXRlLCBSb3V0ZUNvbmZpZ3MgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvbWlkZGxld2FyZS9hcGktcm91dGUtd3JhcHBlcic7XG5pbXBvcnQgeyBBcGlSZXNwb25zZVdyYXBwZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvdXRpbHMvYXBpLWhlbHBlcic7XG5pbXBvcnQgeyBFcnJvckNvZGUgfSBmcm9tICcuLi8uLi8uLi8uLi90eXBlcy9jb3JlJztcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnO1xuaW1wb3J0IHsgZ2V0VXNlcnMsIGNyZWF0ZVVzZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvc2VydmljZXMvdXNlci1zZXJ2aWNlJztcbmltcG9ydCB7IGNyZWF0ZVVzYWdlU3RhdHMgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvc2VydmljZXMvc3RhdHMtc2VydmljZSc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VXNlciB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9hdXRoL21pZGRsZXdhcmUnO1xuXG5leHBvcnQgY29uc3QgR0VUID0gY3JlYXRlQXBpUm91dGUoXG4gIFJvdXRlQ29uZmlncy5wcm90ZWN0ZWRHZXQoKSxcbiAgYXN5bmMgKHJlcTogTmV4dFJlcXVlc3QsIHsgdmFsaWRhdGVkUXVlcnk6IHZhbGlkYXRlZFF1ZXJ5IH0pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBnZXRDdXJyZW50VXNlcihyZXEpO1xuICAgICAgaWYgKCFjdXJyZW50VXNlciB8fCBjdXJyZW50VXNlclsncm9sZSddICE9PSAnYWRtaW4nKSB7XG4gICAgICAgIHJldHVybiBBcGlSZXNwb25zZVdyYXBwZXIuZXJyb3IoRXJyb3JDb2RlLkFVVEhPUklaQVRJT05fRVJST1IsICfmnYPpmZDkuI3otrMnLCBudWxsKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxLnVybCk7XG4gIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBnZXRVc2Vyc1NjaGVtYS5zYWZlUGFyc2UoT2JqZWN0LmZyb21FbnRyaWVzKHNlYXJjaFBhcmFtcykpO1xuXG4gIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiBBcGlSZXNwb25zZVdyYXBwZXIuZXJyb3IoXG4gICAgICAgICAgRXJyb3JDb2RlLlZBTElEQVRJT05fRVJST1IsXG4gICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5lcnJvci5lcnJvcnNbMF0/Lm1lc3NhZ2UgfHwgJ+mqjOivgeWksei0pScsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICA0MDBcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBwYWdlLCBsaW1pdCwgc2VhcmNoLCByb2xlLCBzdGF0dXMgfSA9IHZhbGlkYXRpb25SZXN1bHQuZGF0YTtcbiAgICAgIGNvbnN0IHBhZ2VOdW0gPSBOdW1iZXIucGFyc2VJbnQocGFnZSk7XG4gICAgICBjb25zdCBsaW1pdE51bSA9IE51bWJlci5wYXJzZUludChsaW1pdCk7XG4gICAgICBjb25zdCBza2lwID0gKHBhZ2VOdW0gLSAxKSAqIGxpbWl0TnVtO1xuXG4gICAgICAvLyDmnoTlu7rmn6Xor6LmnaHku7ZcbiAgICAgIGNvbnN0IHdoZXJlOiBhbnkgPSB7fTtcbiAgICAgIGlmIChzZWFyY2gpIHtcbiAgICAgICAgd2hlcmUuT1IgPSBbXG4gICAgICAgICAgeyBuYW1lOiB7IGNvbnRhaW5zOiBzZWFyY2gsIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgICAgIHsgZW1haWw6IHsgY29udGFpbnM6IHNlYXJjaCwgbW9kZTogJ2luc2Vuc2l0aXZlJyB9IH0sXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICBpZiAocm9sZSkge1xuICAgICAgICB3aGVyZS5yb2xlID0gcm9sZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgd2hlcmUuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IHVzZXJzLCBwYWdpbmF0aW9uIH0gPSBhd2FpdCBnZXRVc2Vycyh7XG4gICAgICAgIHdoZXJlLFxuICAgICAgICBza2lwOiBza2lwLFxuICAgICAgICBsaW1pdDogbGltaXROdW0sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHRvdGFsID0gcGFnaW5hdGlvbi50b3RhbDtcblxuICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlV3JhcHBlci5zdWNjZXNzKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVzZXJzLFxuICAgICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICAgIHBhZ2U6IHBhZ2VOdW0sXG4gICAgICAgICAgICBsaW1pdDogbGltaXROdW0sXG4gICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICAgIHBhZ2VzOiBNYXRoLmNlaWwodG90YWwgLyBsaW1pdE51bSksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gQXBpUmVzcG9uc2VXcmFwcGVyLmVycm9yKEVycm9yQ29kZS5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG4gICAgICAgICfojrflj5bnlKjmiLfliJfooajlpLHotKUnLFxuICAgICAgICBudWxsLFxuICAgICAgICA1MDBcbiAgICAgICk7XG4gICAgfVxuICB9XG4pO1xuXG5leHBvcnQgY29uc3QgUE9TVCA9IGNyZWF0ZUFwaVJvdXRlKFxuICBSb3V0ZUNvbmZpZ3MucHJvdGVjdGVkUG9zdCgpLFxuICBhc3luYyAocmVxOiBOZXh0UmVxdWVzdCwgeyB2YWxpZGF0ZWRCb2R5IH0pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBnZXRDdXJyZW50VXNlcihyZXEpO1xuICAgICAgaWYgKCFjdXJyZW50VXNlciB8fCBjdXJyZW50VXNlclsncm9sZSddICE9PSAnYWRtaW4nKSB7XG4gICAgICAgIHJldHVybiBBcGlSZXNwb25zZVdyYXBwZXIuZXJyb3IoRXJyb3JDb2RlLkFVVEhPUklaQVRJT05fRVJST1IsICfmnYPpmZDkuI3otrMnLCBudWxsLCA0MDMpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGVtYWlsLCBuYW1lLCByb2xlIH0gPSB2YWxpZGF0ZWRCb2R5O1xuXG4gICAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgY3JlYXRlVXNlcih7IGVtYWlsLCBuYW1lLCByb2xlIH0pO1xuXG4gICAgICBpZiAobmV3VXNlcikge1xuICAgICAgICBhd2FpdCBjcmVhdGVVc2FnZVN0YXRzKHtcbiAgICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLnVzZXJJZCxcbiAgICAgICAgICBhZ2VudFR5cGU6ICdhZG1pbicsXG4gICAgICAgICAgYWN0aW9uOiAnY3JlYXRlX3VzZXInLFxuICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICB0YXJnZXRVc2VySWQ6IG5ld1VzZXIuaWQsXG4gICAgICAgICAgICB0YXJnZXRVc2VyRW1haWw6IG5ld1VzZXIuZW1haWwsXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXEsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgbG9nZ2luZyBsb2dpYyBpcyBleHBlY3RlZCB0byBiZSBtb3ZlZCBpbnRvIHRoZSBjcmVhdGVVc2VyIHNlcnZpY2VcblxuICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlV3JhcHBlci5zdWNjZXNzKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbmV3VXNlcixcbiAgICAgICAgbWVzc2FnZTogJ+eUqOaIt+WIm+W7uuaIkOWKnycsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlV3JhcHBlci5lcnJvcihFcnJvckNvZGUuSU5URVJOQUxfU0VSVkVSX0VSUk9SLCAn5Yib5bu655So5oi35aSx6LSlJywgbnVsbCwgNTAwKTtcbiAgICB9XG4gIH1cbik7XG5cbi8vIFNjaGVtYSBmb3IgZ2V0dGluZyB1c2Vyc1xuY29uc3QgZ2V0VXNlcnNTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHBhZ2U6IHouc3RyaW5nKCkuZGVmYXVsdCgnMScpLFxuICBsaW1pdDogei5zdHJpbmcoKS5kZWZhdWx0KCcxMCcpLFxuICBzZWFyY2g6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcm9sZTogei5lbnVtKFsnVVNFUicsICdBRE1JTiddKS5vcHRpb25hbCgpLFxuICBzdGF0dXM6IHouZW51bShbJ0FDVElWRScsICdJTkFDVElWRScsICdTVVNQRU5ERUQnLCAnREVMRVRFRCddKS5vcHRpb25hbCgpLFxufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7OztBQUFBO0FBQUEsU0FBQUEsZUFBQTtFQUFBLElBQUFDLElBQUE7RUFBQSxJQUFBQyxJQUFBO0VBQUEsSUFBQUMsTUFBQSxPQUFBQyxRQUFBO0VBQUEsSUFBQUMsR0FBQTtFQUFBLElBQUFDLFlBQUE7SUFBQUwsSUFBQTtJQUFBTSxZQUFBO01BQUE7UUFBQUMsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO0lBQUE7SUFBQUUsS0FBQTtNQUFBO1FBQUFDLElBQUE7UUFBQUMsSUFBQTtVQUFBTixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBSyxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFJLElBQUE7UUFBQUMsSUFBQTtVQUFBTixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBSyxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtJQUFBO0lBQUFPLFNBQUE7TUFBQTtRQUFBRCxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7VUFBQVIsR0FBQTtZQUFBRixJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1FBQUE7UUFBQVYsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1VBQUFSLEdBQUE7WUFBQUYsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtRQUFBO1FBQUFWLElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtVQUFBUixHQUFBO1lBQUFGLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7UUFBQTtRQUFBVixJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7VUFBQVIsR0FBQTtZQUFBRixJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1FBQUE7UUFBQVYsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1VBQUFSLEdBQUE7WUFBQUYsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtRQUFBO1FBQUFWLElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtVQUFBUixHQUFBO1lBQUFGLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7UUFBQTtRQUFBVixJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7VUFBQVIsR0FBQTtZQUFBRixJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1FBQUE7UUFBQVYsSUFBQTtNQUFBO0lBQUE7SUFBQVcsQ0FBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtJQUFBO0lBQUFDLENBQUE7TUFBQTtNQUFBO0lBQUE7SUFBQUMsQ0FBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO0lBQUE7SUFBQUMsY0FBQTtNQUFBQyxJQUFBO01BQUFDLFFBQUE7TUFBQUMsS0FB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