d58b08e6a80d2f80f27fb52893489aab
// Mock Next.js router
_getJestObj().mock('next/router', () => ({
  useRouter: () => ({
    route: '/',
    pathname: '/',
    query: {},
    asPath: '/',
    push: jest.fn(),
    replace: jest.fn(),
    reload: jest.fn(),
    back: jest.fn(),
    prefetch: jest.fn(),
    beforePopState: jest.fn(),
    events: {
      on: jest.fn(),
      off: jest.fn(),
      emit: jest.fn()
    }
  })
}));

// Mock Next.js navigation
_getJestObj().mock('next/navigation', () => ({
  useRouter: () => ({
    push: jest.fn(),
    replace: jest.fn(),
    refresh: jest.fn(),
    back: jest.fn(),
    forward: jest.fn()
  }),
  usePathname: () => '/',
  useSearchParams: () => new URLSearchParams()
}));

// Mock window.matchMedia
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
// Jest setup file - Simplified version

// 全局测试配置
global.console = {
  ...console,
  // 在测试中静默某些日志
  log: jest.fn(),
  debug: jest.fn(),
  info: jest.fn(),
  warn: console.warn,
  error: console.error
};

// 模拟环境变量
process.env.NODE_ENV = 'test';
process.env.NEXT_PUBLIC_APP_URL = 'http://localhost:3000';

// 设置测试超时
jest.setTimeout(30000);

// 基础全局变量
global.fetch = jest.fn();
global.TextEncoder = TextEncoder;
global.TextDecoder = TextDecoder;
if (typeof window !== 'undefined') {
  Object.defineProperty(window, 'matchMedia', {
    writable: true,
    value: jest.fn().mockImplementation(query => ({
      matches: false,
      media: query,
      onchange: null,
      addListener: jest.fn(),
      removeListener: jest.fn(),
      addEventListener: jest.fn(),
      removeEventListener: jest.fn(),
      dispatchEvent: jest.fn()
    }))
  });
}

// Mock IntersectionObserver
global.IntersectionObserver = jest.fn().mockImplementation(() => ({
  observe: jest.fn(),
  unobserve: jest.fn(),
  disconnect: jest.fn()
}));

// Mock ResizeObserver
global.ResizeObserver = jest.fn().mockImplementation(() => ({
  observe: jest.fn(),
  unobserve: jest.fn(),
  disconnect: jest.fn()
}));

// Mock localStorage
const localStorageMock = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  removeItem: jest.fn(),
  clear: jest.fn()
};
Object.defineProperty(window, 'localStorage', {
  value: localStorageMock
});

// Mock sessionStorage
const sessionStorageMock = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  removeItem: jest.fn(),
  clear: jest.fn()
};
Object.defineProperty(window, 'sessionStorage', {
  value: sessionStorageMock
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VSb3V0ZXIiLCJyb3V0ZSIsInBhdGhuYW1lIiwicXVlcnkiLCJhc1BhdGgiLCJwdXNoIiwiamVzdCIsImZuIiwicmVwbGFjZSIsInJlbG9hZCIsImJhY2siLCJwcmVmZXRjaCIsImJlZm9yZVBvcFN0YXRlIiwiZXZlbnRzIiwib24iLCJvZmYiLCJlbWl0IiwicmVmcmVzaCIsImZvcndhcmQiLCJ1c2VQYXRobmFtZSIsInVzZVNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInJlcXVpcmUiLCJnbG9iYWwiLCJjb25zb2xlIiwibG9nIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiTkVYVF9QVUJMSUNfQVBQX1VSTCIsInNldFRpbWVvdXQiLCJmZXRjaCIsIlRleHRFbmNvZGVyIiwiVGV4dERlY29kZXIiLCJ3aW5kb3ciLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndyaXRhYmxlIiwidmFsdWUiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJtYXRjaGVzIiwibWVkaWEiLCJvbmNoYW5nZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsIm9ic2VydmUiLCJ1bm9ic2VydmUiLCJkaXNjb25uZWN0IiwiUmVzaXplT2JzZXJ2ZXIiLCJsb2NhbFN0b3JhZ2VNb2NrIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJzZXNzaW9uU3RvcmFnZU1vY2siXSwic291cmNlcyI6WyJqZXN0LnNldHVwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEplc3Qgc2V0dXAgZmlsZSAtIFNpbXBsaWZpZWQgdmVyc2lvblxuXG4vLyDlhajlsYDmtYvor5XphY3nva5cbmdsb2JhbC5jb25zb2xlID0ge1xuICAuLi5jb25zb2xlLFxuICAvLyDlnKjmtYvor5XkuK3pnZnpu5jmn5Dkupvml6Xlv5dcbiAgbG9nOiBqZXN0LmZuKCksXG4gIGRlYnVnOiBqZXN0LmZuKCksXG4gIGluZm86IGplc3QuZm4oKSxcbiAgd2FybjogY29uc29sZS53YXJuLFxuICBlcnJvcjogY29uc29sZS5lcnJvcixcbn07XG5cbi8vIOaooeaLn+eOr+Wig+WPmOmHj1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgPSAndGVzdCc7XG5wcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCc7XG5cbi8vIOiuvue9rua1i+ivlei2heaXtlxuamVzdC5zZXRUaW1lb3V0KDMwMDAwKTtcblxuLy8g5Z+656GA5YWo5bGA5Y+Y6YePXG5nbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCk7XG5nbG9iYWwuVGV4dEVuY29kZXIgPSBUZXh0RW5jb2Rlcjtcbmdsb2JhbC5UZXh0RGVjb2RlciA9IFRleHREZWNvZGVyO1xuXG4vLyBNb2NrIE5leHQuanMgcm91dGVyXG5qZXN0Lm1vY2soJ25leHQvcm91dGVyJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiAoKSA9PiAoe1xuICAgIHJvdXRlOiAnLycsXG4gICAgcGF0aG5hbWU6ICcvJyxcbiAgICBxdWVyeToge30sXG4gICAgYXNQYXRoOiAnLycsXG4gICAgcHVzaDogamVzdC5mbigpLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICByZWxvYWQ6IGplc3QuZm4oKSxcbiAgICBiYWNrOiBqZXN0LmZuKCksXG4gICAgcHJlZmV0Y2g6IGplc3QuZm4oKSxcbiAgICBiZWZvcmVQb3BTdGF0ZTogamVzdC5mbigpLFxuICAgIGV2ZW50czoge1xuICAgICAgb246IGplc3QuZm4oKSxcbiAgICAgIG9mZjogamVzdC5mbigpLFxuICAgICAgZW1pdDogamVzdC5mbigpLFxuICAgIH0sXG4gIH0pLFxufSkpO1xuXG4vLyBNb2NrIE5leHQuanMgbmF2aWdhdGlvblxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXI6ICgpID0+ICh7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICByZWZyZXNoOiBqZXN0LmZuKCksXG4gICAgYmFjazogamVzdC5mbigpLFxuICAgIGZvcndhcmQ6IGplc3QuZm4oKSxcbiAgfSksXG4gIHVzZVBhdGhuYW1lOiAoKSA9PiAnLycsXG4gIHVzZVNlYXJjaFBhcmFtczogKCkgPT4gbmV3IFVSTFNlYXJjaFBhcmFtcygpLFxufSkpO1xuXG4vLyBNb2NrIHdpbmRvdy5tYXRjaE1lZGlhXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ21hdGNoTWVkaWEnLCB7XG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgdmFsdWU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24ocXVlcnkgPT4gKHtcbiAgICAgIG1hdGNoZXM6IGZhbHNlLFxuICAgICAgbWVkaWE6IHF1ZXJ5LFxuICAgICAgb25jaGFuZ2U6IG51bGwsXG4gICAgICBhZGRMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgICAgcmVtb3ZlTGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IGplc3QuZm4oKSxcbiAgICB9KSksXG4gIH0pO1xufVxuXG4vLyBNb2NrIEludGVyc2VjdGlvbk9ic2VydmVyXG5nbG9iYWwuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gIG9ic2VydmU6IGplc3QuZm4oKSxcbiAgdW5vYnNlcnZlOiBqZXN0LmZuKCksXG4gIGRpc2Nvbm5lY3Q6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayBSZXNpemVPYnNlcnZlclxuZ2xvYmFsLlJlc2l6ZU9ic2VydmVyID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICBvYnNlcnZlOiBqZXN0LmZuKCksXG4gIHVub2JzZXJ2ZTogamVzdC5mbigpLFxuICBkaXNjb25uZWN0OiBqZXN0LmZuKCksXG59KSk7XG5cbi8vIE1vY2sgbG9jYWxTdG9yYWdlXG5jb25zdCBsb2NhbFN0b3JhZ2VNb2NrID0ge1xuICBnZXRJdGVtOiBqZXN0LmZuKCksXG4gIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICBjbGVhcjogamVzdC5mbigpLFxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdsb2NhbFN0b3JhZ2UnLCB7XG4gIHZhbHVlOiBsb2NhbFN0b3JhZ2VNb2NrLFxufSk7XG5cbi8vIE1vY2sgc2Vzc2lvblN0b3JhZ2VcbmNvbnN0IHNlc3Npb25TdG9yYWdlTW9jayA9IHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgY2xlYXI6IGplc3QuZm4oKSxcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnc2Vzc2lvblN0b3JhZ2UnLCB7XG4gIHZhbHVlOiBzZXNzaW9uU3RvcmFnZU1vY2ssXG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBeUJBO0FBQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGFBQWEsRUFBRSxPQUFPO0VBQzlCQyxTQUFTLEVBQUVBLENBQUEsTUFBTztJQUNoQkMsS0FBSyxFQUFFLEdBQUc7SUFDVkMsUUFBUSxFQUFFLEdBQUc7SUFDYkMsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNUQyxNQUFNLEVBQUUsR0FBRztJQUNYQyxJQUFJLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDZkMsT0FBTyxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FB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