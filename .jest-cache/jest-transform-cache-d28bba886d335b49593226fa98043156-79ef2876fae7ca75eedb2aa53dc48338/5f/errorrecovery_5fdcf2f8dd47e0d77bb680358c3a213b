7f78dd6a28cf1d5deec8bfffdbc13ac7
/**
 * @file Database Error Recovery System
 * @description 数据库错误恢复和故障转移系统
 * @author ZK-Agent Team
 * @date 2024-12-19
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    CircuitBreakerState: function() {
        return CircuitBreakerState;
    },
    DatabaseErrorRecovery: function() {
        return DatabaseErrorRecovery;
    },
    ErrorType: function() {
        return ErrorType;
    },
    RecoveryStrategy: function() {
        return RecoveryStrategy;
    },
    // 默认导出错误恢复系统
    default: function() {
        return _default;
    },
    errorRecovery: function() {
        return errorRecovery;
    },
    getErrorStatistics: function() {
        return getErrorStatistics;
    },
    getRecoveryHistory: function() {
        return getRecoveryHistory;
    },
    getRecoveryStatistics: function() {
        return getRecoveryStatistics;
    },
    resetCircuitBreaker: function() {
        return resetCircuitBreaker;
    },
    updateRecoveryConfiguration: function() {
        return updateRecoveryConfiguration;
    }
});
const _events = require("events");
const _enhancedconnection = require("./enhanced-connection");
const _monitoring = require("./monitoring");
const _pooloptimizer = require("./pool-optimizer");
var ErrorType = /*#__PURE__*/ function(ErrorType) {
    ErrorType["CONNECTION_TIMEOUT"] = "connection_timeout";
    ErrorType["CONNECTION_REFUSED"] = "connection_refused";
    ErrorType["AUTHENTICATION_FAILED"] = "authentication_failed";
    ErrorType["DATABASE_UNAVAILABLE"] = "database_unavailable";
    ErrorType["QUERY_TIMEOUT"] = "query_timeout";
    ErrorType["DEADLOCK"] = "deadlock";
    ErrorType["CONSTRAINT_VIOLATION"] = "constraint_violation";
    ErrorType["DISK_FULL"] = "disk_full";
    ErrorType["MEMORY_EXHAUSTED"] = "memory_exhausted";
    ErrorType["NETWORK_ERROR"] = "network_error";
    ErrorType["UNKNOWN"] = "unknown";
    return ErrorType;
}({});
var RecoveryStrategy = /*#__PURE__*/ function(RecoveryStrategy) {
    RecoveryStrategy["RETRY"] = "retry";
    RecoveryStrategy["RECONNECT"] = "reconnect";
    RecoveryStrategy["FAILOVER"] = "failover";
    RecoveryStrategy["CIRCUIT_BREAKER"] = "circuit_breaker";
    RecoveryStrategy["GRACEFUL_DEGRADATION"] = "graceful_degradation";
    RecoveryStrategy["EMERGENCY_SHUTDOWN"] = "emergency_shutdown";
    return RecoveryStrategy;
}({});
var CircuitBreakerState = /*#__PURE__*/ function(CircuitBreakerState) {
    CircuitBreakerState["CLOSED"] = "closed";
    CircuitBreakerState["OPEN"] = "open";
    CircuitBreakerState["HALF_OPEN"] = "half_open";
    return CircuitBreakerState;
}({});
class DatabaseErrorRecovery extends _events.EventEmitter {
    constructor(config, maxHistorySize = 1000){
        super(), this.recoveryHistory = [], this.errorCounts = new Map(), this.circuitBreakerState = "closed", this.circuitBreakerOpenTime = null, this.isRecovering = false, this.healthCheckInterval = null, this.lastErrorTime = null, this.consecutiveFailures = 0;
        this.maxHistorySize = maxHistorySize;
        // 默认恢复配置
        this.configuration = {
            maxRetryAttempts: parseInt(process.env.DB_MAX_RETRY_ATTEMPTS || '3'),
            retryDelayMs: parseInt(process.env.DB_RETRY_DELAY || '1000'),
            exponentialBackoff: process.env.DB_EXPONENTIAL_BACKOFF === 'true',
            circuitBreakerThreshold: parseInt(process.env.DB_CIRCUIT_BREAKER_THRESHOLD || '5'),
            circuitBreakerTimeoutMs: parseInt(process.env.DB_CIRCUIT_BREAKER_TIMEOUT || '60000'),
            failoverEnabled: process.env.DB_FAILOVER_ENABLED === 'true',
            gracefulDegradationEnabled: process.env.DB_GRACEFUL_DEGRADATION === 'true',
            emergencyShutdownThreshold: parseInt(process.env.DB_EMERGENCY_SHUTDOWN_THRESHOLD || '10'),
            healthCheckIntervalMs: parseInt(process.env.DB_HEALTH_CHECK_INTERVAL || '30000'),
            recoveryTimeoutMs: parseInt(process.env.DB_RECOVERY_TIMEOUT || '300000'),
            ...config
        };
        // 初始化错误计数
        Object.values(ErrorType).forEach((errorType)=>{
            this.errorCounts.set(errorType, 0);
        });
        // 设置事件监听器
        this.setupEventListeners();
        // 启动健康检查
        this.startHealthCheck();
    }
    /**
   * 设置事件监听器
   */ setupEventListeners() {
        // 监听数据库错误事件
        _enhancedconnection.enhancedDb.on('error', (error)=>{
            this.handleDatabaseError(error);
        });
        // 监听连接断开事件
        _enhancedconnection.enhancedDb.on('disconnected', (error)=>{
            if (error) {
                this.handleDatabaseError(error);
            }
        });
        // 监听监控告警
        _monitoring.databaseMonitor.on('alert', (alert)=>{
            if (alert.level === _monitoring.AlertLevel.CRITICAL || alert.level === _monitoring.AlertLevel.ERROR) {
                this.handleMonitoringAlert(alert);
            }
        });
    }
    /**
   * 处理数据库错误
   */ async handleDatabaseError(error) {
        try {
            console.error('Database error detected:', error.message);
            // 分析错误
            const analysis = this.analyzeError(error);
            // 更新错误计数
            this.updateErrorCounts(analysis.errorType);
            // 检查熔断器状态
            this.updateCircuitBreakerState(analysis);
            // 如果熔断器开启，直接返回
            if (this.circuitBreakerState === "open") {
                console.warn('Circuit breaker is open, skipping recovery attempt');
                return;
            }
            // 执行恢复策略
            if (analysis.isRecoverable && !this.isRecovering) {
                await this.executeRecoveryStrategy(analysis);
            } else if (!analysis.isRecoverable) {
                console.error('Error is not recoverable, manual intervention required');
                this.emit('unrecoverableError', {
                    error,
                    analysis
                });
            }
        } catch (recoveryError) {
            console.error('Error during error recovery:', recoveryError);
        }
    }
    /**
   * 处理监控告警
   */ async handleMonitoringAlert(alert) {
        console.warn('Monitoring alert received:', alert.message);
        // 根据告警类型决定恢复策略
        if (alert.message.includes('连接') || alert.message.includes('connection')) {
            const fakeError = new Error(`Monitoring alert: ${alert.message}`);
            await this.handleDatabaseError(fakeError);
        }
    }
    /**
   * 分析错误
   */ analyzeError(error) {
        const errorMessage = error.message.toLowerCase();
        const stats = _enhancedconnection.enhancedDb.getStats();
        const memUsage = process.memoryUsage();
        let errorType = "unknown";
        let severity = 'medium';
        let isRecoverable = true;
        let recommendedStrategy = "retry";
        let estimatedRecoveryTime = 5000;
        let requiresManualIntervention = false;
        // 错误类型识别
        if (errorMessage.includes('timeout') || errorMessage.includes('超时')) {
            errorType = "connection_timeout";
            severity = 'medium';
            recommendedStrategy = "retry";
            estimatedRecoveryTime = 10000;
        } else if (errorMessage.includes('refused') || errorMessage.includes('拒绝')) {
            errorType = "connection_refused";
            severity = 'high';
            recommendedStrategy = "reconnect";
            estimatedRecoveryTime = 15000;
        } else if (errorMessage.includes('authentication') || errorMessage.includes('认证')) {
            errorType = "authentication_failed";
            severity = 'critical';
            isRecoverable = false;
            requiresManualIntervention = true;
            recommendedStrategy = "emergency_shutdown";
        } else if (errorMessage.includes('unavailable') || errorMessage.includes('不可用')) {
            errorType = "database_unavailable";
            severity = 'critical';
            recommendedStrategy = "failover";
            estimatedRecoveryTime = 30000;
        } else if (errorMessage.includes('deadlock') || errorMessage.includes('死锁')) {
            errorType = "deadlock";
            severity = 'medium';
            recommendedStrategy = "retry";
            estimatedRecoveryTime = 2000;
        } else if (errorMessage.includes('constraint') || errorMessage.includes('约束')) {
            errorType = "constraint_violation";
            severity = 'low';
            isRecoverable = false;
            requiresManualIntervention = true;
        } else if (errorMessage.includes('disk') || errorMessage.includes('磁盘')) {
            errorType = "disk_full";
            severity = 'critical';
            isRecoverable = false;
            requiresManualIntervention = true;
            recommendedStrategy = "emergency_shutdown";
        } else if (errorMessage.includes('memory') || errorMessage.includes('内存')) {
            errorType = "memory_exhausted";
            severity = 'high';
            recommendedStrategy = "graceful_degradation";
            estimatedRecoveryTime = 20000;
        } else if (errorMessage.includes('network') || errorMessage.includes('网络')) {
            errorType = "network_error";
            severity = 'high';
            recommendedStrategy = "reconnect";
            estimatedRecoveryTime = 15000;
        }
        // 根据连续失败次数调整严重性
        if (this.consecutiveFailures > 3) {
            severity = 'critical';
            if (this.consecutiveFailures > 5) {
                recommendedStrategy = "circuit_breaker";
            }
        }
        return {
            errorType,
            severity,
            isRecoverable,
            recommendedStrategy,
            estimatedRecoveryTime,
            requiresManualIntervention,
            context: {
                connectionState: stats.state,
                recentErrors: this.getRecentErrorCount(),
                systemLoad: this.getSystemLoad(),
                availableMemory: (memUsage.heapTotal - memUsage.heapUsed) / 1024 / 1024 // MB
            }
        };
    }
    /**
   * 更新错误计数
   */ updateErrorCounts(errorType) {
        const currentCount = this.errorCounts.get(errorType) || 0;
        this.errorCounts.set(errorType, currentCount + 1);
        this.lastErrorTime = new Date();
        this.consecutiveFailures++;
    }
    /**
   * 更新熔断器状态
   */ updateCircuitBreakerState(analysis) {
        const recentErrors = this.getRecentErrorCount();
        switch(this.circuitBreakerState){
            case "closed":
                if (recentErrors >= this.configuration.circuitBreakerThreshold) {
                    this.circuitBreakerState = "open";
                    this.circuitBreakerOpenTime = new Date();
                    console.warn('Circuit breaker opened due to high error rate');
                    this.emit('circuitBreakerOpened', {
                        recentErrors,
                        threshold: this.configuration.circuitBreakerThreshold
                    });
                }
                break;
            case "open":
                if (this.circuitBreakerOpenTime && Date.now() - this.circuitBreakerOpenTime.getTime() > this.configuration.circuitBreakerTimeoutMs) {
                    this.circuitBreakerState = "half_open";
                    console.info('Circuit breaker moved to half-open state');
                    this.emit('circuitBreakerHalfOpen');
                }
                break;
            case "half_open":
                if (analysis.severity === 'critical' || analysis.severity === 'high') {
                    this.circuitBreakerState = "open";
                    this.circuitBreakerOpenTime = new Date();
                    console.warn('Circuit breaker reopened due to continued errors');
                    this.emit('circuitBreakerReopened');
                }
                break;
        }
    }
    /**
   * 执行恢复策略
   */ async executeRecoveryStrategy(analysis) {
        this.isRecovering = true;
        const startTime = Date.now();
        let attempts = 0;
        let success = false;
        let lastError;
        const beforeMetrics = _enhancedconnection.enhancedDb.getStats();
        try {
            console.log(`Executing recovery strategy: ${analysis.recommendedStrategy}`);
            switch(analysis.recommendedStrategy){
                case "retry":
                    ({ success, attempts, lastError } = await this.executeRetryStrategy());
                    break;
                case "reconnect":
                    ({ success, attempts, lastError } = await this.executeReconnectStrategy());
                    break;
                case "failover":
                    ({ success, attempts, lastError } = await this.executeFailoverStrategy());
                    break;
                case "circuit_breaker":
                    ({ success, attempts, lastError } = await this.executeCircuitBreakerStrategy());
                    break;
                case "graceful_degradation":
                    ({ success, attempts, lastError } = await this.executeGracefulDegradationStrategy());
                    break;
                case "emergency_shutdown":
                    ({ success, attempts, lastError } = await this.executeEmergencyShutdownStrategy());
                    break;
                default:
                    throw new Error(`Unknown recovery strategy: ${analysis.recommendedStrategy}`);
            }
        } catch (error) {
            lastError = error instanceof Error ? error.message : String(error);
            console.error('Recovery strategy execution failed:', lastError);
        }
        const afterMetrics = _enhancedconnection.enhancedDb.getStats();
        const duration = Date.now() - startTime;
        // 记录恢复结果
        const result = {
            timestamp: new Date(),
            errorType: analysis.errorType,
            strategy: analysis.recommendedStrategy,
            success,
            duration,
            attemptsCount: attempts,
            error: lastError,
            metrics: {
                beforeRecovery: beforeMetrics,
                afterRecovery: afterMetrics
            }
        };
        this.addRecoveryResult(result);
        if (success) {
            this.consecutiveFailures = 0;
            if (this.circuitBreakerState === "half_open") {
                this.circuitBreakerState = "closed";
                console.info('Circuit breaker closed after successful recovery');
                this.emit('circuitBreakerClosed');
            }
        }
        this.emit('recoveryCompleted', result);
        this.isRecovering = false;
    }
    /**
   * 执行重试策略
   */ async executeRetryStrategy() {
        let attempts = 0;
        let lastError;
        for(let i = 0; i < this.configuration.maxRetryAttempts; i++){
            attempts++;
            try {
                // 等待重试延迟
                const delay = this.configuration.exponentialBackoff ? this.configuration.retryDelayMs * Math.pow(2, i) : this.configuration.retryDelayMs;
                await this.sleep(delay);
                // 尝试执行健康检查
                const isHealthy = await _enhancedconnection.enhancedDb.performHealthCheck();
                if (isHealthy) {
                    console.log(`Retry strategy succeeded on attempt ${attempts}`);
                    return {
                        success: true,
                        attempts
                    };
                }
            } catch (error) {
                lastError = error instanceof Error ? error.message : String(error);
                console.warn(`Retry attempt ${attempts} failed:`, lastError);
            }
        }
        return {
            success: false,
            attempts,
            lastError
        };
    }
    /**
   * 执行重连策略
   */ async executeReconnectStrategy() {
        let attempts = 0;
        let lastError;
        try {
            attempts++;
            console.log('Attempting database reconnection...');
            // 断开现有连接
            await _enhancedconnection.enhancedDb.disconnect();
            // 等待一段时间
            await this.sleep(this.configuration.retryDelayMs);
            // 重新连接
            await _enhancedconnection.enhancedDb.connect();
            // 验证连接
            const isHealthy = await _enhancedconnection.enhancedDb.performHealthCheck();
            if (isHealthy) {
                console.log('Database reconnection successful');
                return {
                    success: true,
                    attempts
                };
            }
        } catch (error) {
            lastError = error instanceof Error ? error.message : String(error);
            console.error('Database reconnection failed:', lastError);
        }
        return {
            success: false,
            attempts,
            lastError
        };
    }
    /**
   * 执行故障转移策略
   */ async executeFailoverStrategy() {
        let attempts = 0;
        let lastError;
        if (!this.configuration.failoverEnabled) {
            return {
                success: false,
                attempts: 0,
                lastError: 'Failover is not enabled'
            };
        }
        try {
            attempts++;
            console.log('Attempting database failover...');
            // 这里应该实现实际的故障转移逻辑
            // 例如：切换到备用数据库、使用只读副本等
            // 模拟故障转移
            await this.sleep(5000);
            console.log('Failover strategy executed (simulated)');
            return {
                success: true,
                attempts
            };
        } catch (error) {
            lastError = error instanceof Error ? error.message : String(error);
            console.error('Failover strategy failed:', lastError);
        }
        return {
            success: false,
            attempts,
            lastError
        };
    }
    /**
   * 执行熔断器策略
   */ async executeCircuitBreakerStrategy() {
        console.log('Circuit breaker strategy activated');
        this.circuitBreakerState = "open";
        this.circuitBreakerOpenTime = new Date();
        // 触发连接池优化
        if (_pooloptimizer.poolOptimizer) {
            _pooloptimizer.poolOptimizer.emit('emergencyOptimization', 'Circuit breaker activated');
        }
        return {
            success: true,
            attempts: 1
        };
    }
    /**
   * 执行优雅降级策略
   */ async executeGracefulDegradationStrategy() {
        if (!this.configuration.gracefulDegradationEnabled) {
            return {
                success: false,
                attempts: 0,
                lastError: 'Graceful degradation is not enabled'
            };
        }
        try {
            console.log('Executing graceful degradation strategy...');
            // 这里应该实现优雅降级逻辑
            // 例如：启用缓存模式、限制功能、使用备用数据源等
            // 模拟优雅降级
            await this.sleep(2000);
            console.log('Graceful degradation activated');
            this.emit('gracefulDegradationActivated');
            return {
                success: true,
                attempts: 1
            };
        } catch (error) {
            const lastError = error instanceof Error ? error.message : String(error);
            console.error('Graceful degradation failed:', lastError);
            return {
                success: false,
                attempts: 1,
                lastError
            };
        }
    }
    /**
   * 执行紧急关闭策略
   */ async executeEmergencyShutdownStrategy() {
        try {
            console.error('Executing emergency shutdown strategy...');
            // 发送紧急告警
            this.emit('emergencyShutdown', {
                reason: 'Critical database error requiring manual intervention',
                timestamp: new Date()
            });
            // 优雅关闭数据库连接
            await _enhancedconnection.enhancedDb.gracefulShutdown();
            console.error('Emergency shutdown completed');
            return {
                success: true,
                attempts: 1
            };
        } catch (error) {
            const lastError = error instanceof Error ? error.message : String(error);
            console.error('Emergency shutdown failed:', lastError);
            return {
                success: false,
                attempts: 1,
                lastError
            };
        }
    }
    /**
   * 启动健康检查
   */ startHealthCheck() {
        this.healthCheckInterval = setInterval(async ()=>{
            try {
                if (this.circuitBreakerState === "half_open") {
                    const isHealthy = await _enhancedconnection.enhancedDb.performHealthCheck();
                    if (isHealthy) {
                        this.circuitBreakerState = "closed";
                        console.info('Circuit breaker closed after successful health check');
                        this.emit('circuitBreakerClosed');
                    }
                }
            } catch (error) {
                console.error('Health check failed:', error);
            }
        }, this.configuration.healthCheckIntervalMs);
    }
    /**
   * 停止健康检查
   */ stopHealthCheck() {
        if (this.healthCheckInterval) {
            clearInterval(this.healthCheckInterval);
            this.healthCheckInterval = null;
        }
    }
    /**
   * 获取最近错误数量
   */ getRecentErrorCount(timeWindowMs = 300000) {
        const cutoffTime = Date.now() - timeWindowMs;
        return this.recoveryHistory.filter((result)=>result.timestamp.getTime() > cutoffTime && !result.success).length;
    }
    /**
   * 获取系统负载
   */ getSystemLoad() {
        // 简单的系统负载计算
        const cpuUsage = process.cpuUsage();
        return (cpuUsage.user + cpuUsage.system) / 1000000 // 转换为秒
        ;
    }
    /**
   * 睡眠函数
   */ sleep(ms) {
        return new Promise((resolve)=>setTimeout(resolve, ms));
    }
    /**
   * 添加恢复结果到历史
   */ addRecoveryResult(result) {
        this.recoveryHistory.push(result);
        // 限制历史记录大小
        if (this.recoveryHistory.length > this.maxHistorySize) {
            this.recoveryHistory = this.recoveryHistory.slice(-this.maxHistorySize);
        }
    }
    /**
   * 获取恢复历史
   */ getRecoveryHistory(limit) {
        if (limit) {
            return this.recoveryHistory.slice(-limit);
        }
        return [
            ...this.recoveryHistory
        ];
    }
    /**
   * 获取错误统计
   */ getErrorStatistics() {
        const errorsByType = {};
        Object.values(ErrorType).forEach((errorType)=>{
            errorsByType[errorType] = this.errorCounts.get(errorType) || 0;
        });
        return {
            totalErrors: Array.from(this.errorCounts.values()).reduce((sum, count)=>sum + count, 0),
            errorsByType,
            recentErrors: this.getRecentErrorCount(),
            consecutiveFailures: this.consecutiveFailures,
            lastErrorTime: this.lastErrorTime,
            circuitBreakerState: this.circuitBreakerState
        };
    }
    /**
   * 获取恢复统计
   */ getRecoveryStatistics() {
        const total = this.recoveryHistory.length;
        const successful = this.recoveryHistory.filter((r)=>r.success).length;
        const failed = total - successful;
        const strategiesUsed = {};
        Object.values(RecoveryStrategy).forEach((strategy)=>{
            strategiesUsed[strategy] = this.recoveryHistory.filter((r)=>r.strategy === strategy).length;
        });
        const avgRecoveryTime = total > 0 ? this.recoveryHistory.reduce((sum, r)=>sum + r.duration, 0) / total : 0;
        return {
            totalRecoveries: total,
            successfulRecoveries: successful,
            failedRecoveries: failed,
            successRate: total > 0 ? successful / total * 100 : 0,
            averageRecoveryTime: avgRecoveryTime,
            strategiesUsed
        };
    }
    /**
   * 更新配置
   */ updateConfiguration(config) {
        this.configuration = {
            ...this.configuration,
            ...config
        };
        console.log('Error recovery configuration updated:', config);
    }
    /**
   * 重置熔断器
   */ resetCircuitBreaker() {
        this.circuitBreakerState = "closed";
        this.circuitBreakerOpenTime = null;
        console.log('Circuit breaker reset to closed state');
        this.emit('circuitBreakerReset');
    }
    /**
   * 清除历史数据
   */ clearHistory() {
        this.recoveryHistory = [];
        this.errorCounts.clear();
        Object.values(ErrorType).forEach((errorType)=>{
            this.errorCounts.set(errorType, 0);
        });
        this.consecutiveFailures = 0;
        this.lastErrorTime = null;
        console.log('Error recovery history cleared');
    }
    /**
   * 销毁恢复系统
   */ destroy() {
        this.stopHealthCheck();
        this.removeAllListeners();
        console.log('Database error recovery system destroyed');
    }
}
const errorRecovery = new DatabaseErrorRecovery();
// 监听关键事件
errorRecovery.on('emergencyShutdown', (data)=>{
    console.error('EMERGENCY SHUTDOWN TRIGGERED:', data);
// 这里可以集成外部告警系统
});
errorRecovery.on('circuitBreakerOpened', (data)=>{
    console.warn('CIRCUIT BREAKER OPENED:', data);
// 这里可以发送告警通知
});
errorRecovery.on('unrecoverableError', (data)=>{
    console.error('UNRECOVERABLE ERROR DETECTED:', data);
// 这里可以发送紧急通知
});
const getErrorStatistics = ()=>errorRecovery.getErrorStatistics();
const getRecoveryStatistics = ()=>errorRecovery.getRecoveryStatistics();
const getRecoveryHistory = (limit)=>errorRecovery.getRecoveryHistory(limit);
const resetCircuitBreaker = ()=>errorRecovery.resetCircuitBreaker();
const updateRecoveryConfiguration = (config)=>errorRecovery.updateConfiguration(config);
const _default = errorRecovery;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFx6ay1hZ2VudFxcbGliXFxkYXRhYmFzZVxcZXJyb3ItcmVjb3ZlcnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZSBEYXRhYmFzZSBFcnJvciBSZWNvdmVyeSBTeXN0ZW1cbiAqIEBkZXNjcmlwdGlvbiDmlbDmja7lupPplJnor6/mgaLlpI3lkozmlYXpmpzovaznp7vns7vnu59cbiAqIEBhdXRob3IgWkstQWdlbnQgVGVhbVxuICogQGRhdGUgMjAyNC0xMi0xOVxuICovXG5cbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50cydcbmltcG9ydCB7IGVuaGFuY2VkRGIsIENvbm5lY3Rpb25TdGF0ZSB9IGZyb20gJy4vZW5oYW5jZWQtY29ubmVjdGlvbidcbmltcG9ydCB7IGRhdGFiYXNlTW9uaXRvciwgQWxlcnRMZXZlbCB9IGZyb20gJy4vbW9uaXRvcmluZydcbmltcG9ydCB7IHBvb2xPcHRpbWl6ZXIgfSBmcm9tICcuL3Bvb2wtb3B0aW1pemVyJ1xuXG4vLyDplJnor6/nsbvlnotcbmV4cG9ydCBlbnVtIEVycm9yVHlwZSB7XG4gIENPTk5FQ1RJT05fVElNRU9VVCA9ICdjb25uZWN0aW9uX3RpbWVvdXQnLFxuICBDT05ORUNUSU9OX1JFRlVTRUQgPSAnY29ubmVjdGlvbl9yZWZ1c2VkJyxcbiAgQVVUSEVOVElDQVRJT05fRkFJTEVEID0gJ2F1dGhlbnRpY2F0aW9uX2ZhaWxlZCcsXG4gIERBVEFCQVNFX1VOQVZBSUxBQkxFID0gJ2RhdGFiYXNlX3VuYXZhaWxhYmxlJyxcbiAgUVVFUllfVElNRU9VVCA9ICdxdWVyeV90aW1lb3V0JyxcbiAgREVBRExPQ0sgPSAnZGVhZGxvY2snLFxuICBDT05TVFJBSU5UX1ZJT0xBVElPTiA9ICdjb25zdHJhaW50X3Zpb2xhdGlvbicsXG4gIERJU0tfRlVMTCA9ICdkaXNrX2Z1bGwnLFxuICBNRU1PUllfRVhIQVVTVEVEID0gJ21lbW9yeV9leGhhdXN0ZWQnLFxuICBORVRXT1JLX0VSUk9SID0gJ25ldHdvcmtfZXJyb3InLFxuICBVTktOT1dOID0gJ3Vua25vd24nXG59XG5cbi8vIOaBouWkjeetlueVpVxuZXhwb3J0IGVudW0gUmVjb3ZlcnlTdHJhdGVneSB7XG4gIFJFVFJZID0gJ3JldHJ5JyxcbiAgUkVDT05ORUNUID0gJ3JlY29ubmVjdCcsXG4gIEZBSUxPVkVSID0gJ2ZhaWxvdmVyJyxcbiAgQ0lSQ1VJVF9CUkVBS0VSID0gJ2NpcmN1aXRfYnJlYWtlcicsXG4gIEdSQUNFRlVMX0RFR1JBREFUSU9OID0gJ2dyYWNlZnVsX2RlZ3JhZGF0aW9uJyxcbiAgRU1FUkdFTkNZX1NIVVRET1dOID0gJ2VtZXJnZW5jeV9zaHV0ZG93bidcbn1cblxuLy8g6ZSZ6K+v5YiG5p6Q57uT5p6cXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yQW5hbHlzaXMge1xuICBlcnJvclR5cGU6IEVycm9yVHlwZVxuICBzZXZlcml0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICdjcml0aWNhbCdcbiAgaXNSZWNvdmVyYWJsZTogYm9vbGVhblxuICByZWNvbW1lbmRlZFN0cmF0ZWd5OiBSZWNvdmVyeVN0cmF0ZWd5XG4gIGVzdGltYXRlZFJlY292ZXJ5VGltZTogbnVtYmVyIC8vIOavq+enklxuICByZXF1aXJlc01hbnVhbEludGVydmVudGlvbjogYm9vbGVhblxuICBjb250ZXh0OiB7XG4gICAgY29ubmVjdGlvblN0YXRlOiBDb25uZWN0aW9uU3RhdGVcbiAgICByZWNlbnRFcnJvcnM6IG51bWJlclxuICAgIHN5c3RlbUxvYWQ6IG51bWJlclxuICAgIGF2YWlsYWJsZU1lbW9yeTogbnVtYmVyXG4gIH1cbn1cblxuLy8g5oGi5aSN5pON5L2c57uT5p6cXG5leHBvcnQgaW50ZXJmYWNlIFJlY292ZXJ5UmVzdWx0IHtcbiAgdGltZXN0YW1wOiBEYXRlXG4gIGVycm9yVHlwZTogRXJyb3JUeXBlXG4gIHN0cmF0ZWd5OiBSZWNvdmVyeVN0cmF0ZWd5XG4gIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgZHVyYXRpb246IG51bWJlciAvLyDmr6vnp5JcbiAgYXR0ZW1wdHNDb3VudDogbnVtYmVyXG4gIGVycm9yPzogc3RyaW5nXG4gIG1ldHJpY3M6IHtcbiAgICBiZWZvcmVSZWNvdmVyeTogYW55XG4gICAgYWZ0ZXJSZWNvdmVyeTogYW55XG4gIH1cbn1cblxuLy8g5oGi5aSN6YWN572uXG5leHBvcnQgaW50ZXJmYWNlIFJlY292ZXJ5Q29uZmlndXJhdGlvbiB7XG4gIG1heFJldHJ5QXR0ZW1wdHM6IG51bWJlclxuICByZXRyeURlbGF5TXM6IG51bWJlclxuICBleHBvbmVudGlhbEJhY2tvZmY6IGJvb2xlYW5cbiAgY2lyY3VpdEJyZWFrZXJUaHJlc2hvbGQ6IG51bWJlclxuICBjaXJjdWl0QnJlYWtlclRpbWVvdXRNczogbnVtYmVyXG4gIGZhaWxvdmVyRW5hYmxlZDogYm9vbGVhblxuICBncmFjZWZ1bERlZ3JhZGF0aW9uRW5hYmxlZDogYm9vbGVhblxuICBlbWVyZ2VuY3lTaHV0ZG93blRocmVzaG9sZDogbnVtYmVyXG4gIGhlYWx0aENoZWNrSW50ZXJ2YWxNczogbnVtYmVyXG4gIHJlY292ZXJ5VGltZW91dE1zOiBudW1iZXJcbn1cblxuLy8g54aU5pat5Zmo54q25oCBXG5leHBvcnQgZW51bSBDaXJjdWl0QnJlYWtlclN0YXRlIHtcbiAgQ0xPU0VEID0gJ2Nsb3NlZCcsXG4gIE9QRU4gPSAnb3BlbicsXG4gIEhBTEZfT1BFTiA9ICdoYWxmX29wZW4nXG59XG5cbi8qKlxuICog5pWw5o2u5bqT6ZSZ6K+v5oGi5aSN57O757ufXG4gKi9cbmV4cG9ydCBjbGFzcyBEYXRhYmFzZUVycm9yUmVjb3ZlcnkgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICBwcml2YXRlIHJlY292ZXJ5SGlzdG9yeTogUmVjb3ZlcnlSZXN1bHRbXSA9IFtdXG4gIHByaXZhdGUgZXJyb3JDb3VudHM6IE1hcDxFcnJvclR5cGUsIG51bWJlcj4gPSBuZXcgTWFwKClcbiAgcHJpdmF0ZSBjaXJjdWl0QnJlYWtlclN0YXRlOiBDaXJjdWl0QnJlYWtlclN0YXRlID0gQ2lyY3VpdEJyZWFrZXJTdGF0ZS5DTE9TRURcbiAgcHJpdmF0ZSBjaXJjdWl0QnJlYWtlck9wZW5UaW1lOiBEYXRlIHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBjb25maWd1cmF0aW9uOiBSZWNvdmVyeUNvbmZpZ3VyYXRpb25cbiAgcHJpdmF0ZSBpc1JlY292ZXJpbmc6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIGhlYWx0aENoZWNrSW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBtYXhIaXN0b3J5U2l6ZTogbnVtYmVyXG4gIHByaXZhdGUgbGFzdEVycm9yVGltZTogRGF0ZSB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgY29uc2VjdXRpdmVGYWlsdXJlczogbnVtYmVyID0gMFxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbmZpZz86IFBhcnRpYWw8UmVjb3ZlcnlDb25maWd1cmF0aW9uPixcbiAgICBtYXhIaXN0b3J5U2l6ZTogbnVtYmVyID0gMTAwMFxuICApIHtcbiAgICBzdXBlcigpXG5cbiAgICB0aGlzLm1heEhpc3RvcnlTaXplID0gbWF4SGlzdG9yeVNpemVcbiAgICBcbiAgICAvLyDpu5jorqTmgaLlpI3phY3nva5cbiAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSB7XG4gICAgICBtYXhSZXRyeUF0dGVtcHRzOiBwYXJzZUludChwcm9jZXNzLmVudi5EQl9NQVhfUkVUUllfQVRURU1QVFMgfHwgJzMnKSxcbiAgICAgIHJldHJ5RGVsYXlNczogcGFyc2VJbnQocHJvY2Vzcy5lbnYuREJfUkVUUllfREVMQVkgfHwgJzEwMDAnKSxcbiAgICAgIGV4cG9uZW50aWFsQmFja29mZjogcHJvY2Vzcy5lbnYuREJfRVhQT05FTlRJQUxfQkFDS09GRiA9PT0gJ3RydWUnLFxuICAgICAgY2lyY3VpdEJyZWFrZXJUaHJlc2hvbGQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkRCX0NJUkNVSVRfQlJFQUtFUl9USFJFU0hPTEQgfHwgJzUnKSxcbiAgICAgIGNpcmN1aXRCcmVha2VyVGltZW91dE1zOiBwYXJzZUludChwcm9jZXNzLmVudi5EQl9DSVJDVUlUX0JSRUFLRVJfVElNRU9VVCB8fCAnNjAwMDAnKSxcbiAgICAgIGZhaWxvdmVyRW5hYmxlZDogcHJvY2Vzcy5lbnYuREJfRkFJTE9WRVJfRU5BQkxFRCA9PT0gJ3RydWUnLFxuICAgICAgZ3JhY2VmdWxEZWdyYWRhdGlvbkVuYWJsZWQ6IHByb2Nlc3MuZW52LkRCX0dSQUNFRlVMX0RFR1JBREFUSU9OID09PSAndHJ1ZScsXG4gICAgICBlbWVyZ2VuY3lTaHV0ZG93blRocmVzaG9sZDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuREJfRU1FUkdFTkNZX1NIVVRET1dOX1RIUkVTSE9MRCB8fCAnMTAnKSxcbiAgICAgIGhlYWx0aENoZWNrSW50ZXJ2YWxNczogcGFyc2VJbnQocHJvY2Vzcy5lbnYuREJfSEVBTFRIX0NIRUNLX0lOVEVSVkFMIHx8ICczMDAwMCcpLFxuICAgICAgcmVjb3ZlcnlUaW1lb3V0TXM6IHBhcnNlSW50KHByb2Nlc3MuZW52LkRCX1JFQ09WRVJZX1RJTUVPVVQgfHwgJzMwMDAwMCcpLFxuICAgICAgLi4uY29uZmlnXG4gICAgfVxuXG4gICAgLy8g5Yid5aeL5YyW6ZSZ6K+v6K6h5pWwXG4gICAgT2JqZWN0LnZhbHVlcyhFcnJvclR5cGUpLmZvckVhY2goZXJyb3JUeXBlID0+IHtcbiAgICAgIHRoaXMuZXJyb3JDb3VudHMuc2V0KGVycm9yVHlwZSwgMClcbiAgICB9KVxuXG4gICAgLy8g6K6+572u5LqL5Lu255uR5ZCs5ZmoXG4gICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKClcblxuICAgIC8vIOWQr+WKqOWBpeW6t+ajgOafpVxuICAgIHRoaXMuc3RhcnRIZWFsdGhDaGVjaygpXG4gIH1cblxuICAvKipcbiAgICog6K6+572u5LqL5Lu255uR5ZCs5ZmoXG4gICAqL1xuICBwcml2YXRlIHNldHVwRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgLy8g55uR5ZCs5pWw5o2u5bqT6ZSZ6K+v5LqL5Lu2XG4gICAgZW5oYW5jZWREYi5vbignZXJyb3InLCAoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZURhdGFiYXNlRXJyb3IoZXJyb3IpXG4gICAgfSlcblxuICAgIC8vIOebkeWQrOi/nuaOpeaWreW8gOS6i+S7tlxuICAgIGVuaGFuY2VkRGIub24oJ2Rpc2Nvbm5lY3RlZCcsIChlcnJvcj86IEVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVEYXRhYmFzZUVycm9yKGVycm9yKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyDnm5HlkKznm5HmjqflkYroraZcbiAgICBkYXRhYmFzZU1vbml0b3Iub24oJ2FsZXJ0JywgKGFsZXJ0KSA9PiB7XG4gICAgICBpZiAoYWxlcnQubGV2ZWwgPT09IEFsZXJ0TGV2ZWwuQ1JJVElDQUwgfHwgYWxlcnQubGV2ZWwgPT09IEFsZXJ0TGV2ZWwuRVJST1IpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVNb25pdG9yaW5nQWxlcnQoYWxlcnQpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiDlpITnkIbmlbDmja7lupPplJnor69cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlRGF0YWJhc2VFcnJvcihlcnJvcjogRXJyb3IpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgZXJyb3IgZGV0ZWN0ZWQ6JywgZXJyb3IubWVzc2FnZSlcbiAgICAgIFxuICAgICAgLy8g5YiG5p6Q6ZSZ6K+vXG4gICAgICBjb25zdCBhbmFseXNpcyA9IHRoaXMuYW5hbHl6ZUVycm9yKGVycm9yKVxuICAgICAgXG4gICAgICAvLyDmm7TmlrDplJnor6/orqHmlbBcbiAgICAgIHRoaXMudXBkYXRlRXJyb3JDb3VudHMoYW5hbHlzaXMuZXJyb3JUeXBlKVxuICAgICAgXG4gICAgICAvLyDmo4Dmn6XnhpTmlq3lmajnirbmgIFcbiAgICAgIHRoaXMudXBkYXRlQ2lyY3VpdEJyZWFrZXJTdGF0ZShhbmFseXNpcylcbiAgICAgIFxuICAgICAgLy8g5aaC5p6c54aU5pat5Zmo5byA5ZCv77yM55u05o6l6L+U5ZueXG4gICAgICBpZiAodGhpcy5jaXJjdWl0QnJlYWtlclN0YXRlID09PSBDaXJjdWl0QnJlYWtlclN0YXRlLk9QRU4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdDaXJjdWl0IGJyZWFrZXIgaXMgb3Blbiwgc2tpcHBpbmcgcmVjb3ZlcnkgYXR0ZW1wdCcpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDmiafooYzmgaLlpI3nrZbnlaVcbiAgICAgIGlmIChhbmFseXNpcy5pc1JlY292ZXJhYmxlICYmICF0aGlzLmlzUmVjb3ZlcmluZykge1xuICAgICAgICBhd2FpdCB0aGlzLmV4ZWN1dGVSZWNvdmVyeVN0cmF0ZWd5KGFuYWx5c2lzKVxuICAgICAgfSBlbHNlIGlmICghYW5hbHlzaXMuaXNSZWNvdmVyYWJsZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpcyBub3QgcmVjb3ZlcmFibGUsIG1hbnVhbCBpbnRlcnZlbnRpb24gcmVxdWlyZWQnKVxuICAgICAgICB0aGlzLmVtaXQoJ3VucmVjb3ZlcmFibGVFcnJvcicsIHsgZXJyb3IsIGFuYWx5c2lzIH0pXG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChyZWNvdmVyeUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgZXJyb3IgcmVjb3Zlcnk6JywgcmVjb3ZlcnlFcnJvcilcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5aSE55CG55uR5o6n5ZGK6K2mXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZU1vbml0b3JpbmdBbGVydChhbGVydDogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc29sZS53YXJuKCdNb25pdG9yaW5nIGFsZXJ0IHJlY2VpdmVkOicsIGFsZXJ0Lm1lc3NhZ2UpXG4gICAgXG4gICAgLy8g5qC55o2u5ZGK6K2m57G75Z6L5Yaz5a6a5oGi5aSN562W55WlXG4gICAgaWYgKGFsZXJ0Lm1lc3NhZ2UuaW5jbHVkZXMoJ+i/nuaOpScpIHx8IGFsZXJ0Lm1lc3NhZ2UuaW5jbHVkZXMoJ2Nvbm5lY3Rpb24nKSkge1xuICAgICAgY29uc3QgZmFrZUVycm9yID0gbmV3IEVycm9yKGBNb25pdG9yaW5nIGFsZXJ0OiAke2FsZXJ0Lm1lc3NhZ2V9YClcbiAgICAgIGF3YWl0IHRoaXMuaGFuZGxlRGF0YWJhc2VFcnJvcihmYWtlRXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWIhuaekOmUmeivr1xuICAgKi9cbiAgcHJpdmF0ZSBhbmFseXplRXJyb3IoZXJyb3I6IEVycm9yKTogRXJyb3JBbmFseXNpcyB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZS50b0xvd2VyQ2FzZSgpXG4gICAgY29uc3Qgc3RhdHMgPSBlbmhhbmNlZERiLmdldFN0YXRzKClcbiAgICBjb25zdCBtZW1Vc2FnZSA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKVxuICAgIFxuICAgIGxldCBlcnJvclR5cGUgPSBFcnJvclR5cGUuVU5LTk9XTlxuICAgIGxldCBzZXZlcml0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICdjcml0aWNhbCcgPSAnbWVkaXVtJ1xuICAgIGxldCBpc1JlY292ZXJhYmxlID0gdHJ1ZVxuICAgIGxldCByZWNvbW1lbmRlZFN0cmF0ZWd5ID0gUmVjb3ZlcnlTdHJhdGVneS5SRVRSWVxuICAgIGxldCBlc3RpbWF0ZWRSZWNvdmVyeVRpbWUgPSA1MDAwXG4gICAgbGV0IHJlcXVpcmVzTWFudWFsSW50ZXJ2ZW50aW9uID0gZmFsc2VcblxuICAgIC8vIOmUmeivr+exu+Wei+ivhuWIq1xuICAgIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ3RpbWVvdXQnKSB8fCBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ+i2heaXticpKSB7XG4gICAgICBlcnJvclR5cGUgPSBFcnJvclR5cGUuQ09OTkVDVElPTl9USU1FT1VUXG4gICAgICBzZXZlcml0eSA9ICdtZWRpdW0nXG4gICAgICByZWNvbW1lbmRlZFN0cmF0ZWd5ID0gUmVjb3ZlcnlTdHJhdGVneS5SRVRSWVxuICAgICAgZXN0aW1hdGVkUmVjb3ZlcnlUaW1lID0gMTAwMDBcbiAgICB9IGVsc2UgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygncmVmdXNlZCcpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygn5ouS57udJykpIHtcbiAgICAgIGVycm9yVHlwZSA9IEVycm9yVHlwZS5DT05ORUNUSU9OX1JFRlVTRURcbiAgICAgIHNldmVyaXR5ID0gJ2hpZ2gnXG4gICAgICByZWNvbW1lbmRlZFN0cmF0ZWd5ID0gUmVjb3ZlcnlTdHJhdGVneS5SRUNPTk5FQ1RcbiAgICAgIGVzdGltYXRlZFJlY292ZXJ5VGltZSA9IDE1MDAwXG4gICAgfSBlbHNlIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ2F1dGhlbnRpY2F0aW9uJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCforqTor4EnKSkge1xuICAgICAgZXJyb3JUeXBlID0gRXJyb3JUeXBlLkFVVEhFTlRJQ0FUSU9OX0ZBSUxFRFxuICAgICAgc2V2ZXJpdHkgPSAnY3JpdGljYWwnXG4gICAgICBpc1JlY292ZXJhYmxlID0gZmFsc2VcbiAgICAgIHJlcXVpcmVzTWFudWFsSW50ZXJ2ZW50aW9uID0gdHJ1ZVxuICAgICAgcmVjb21tZW5kZWRTdHJhdGVneSA9IFJlY292ZXJ5U3RyYXRlZ3kuRU1FUkdFTkNZX1NIVVRET1dOXG4gICAgfSBlbHNlIGlmIChlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ3VuYXZhaWxhYmxlJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCfkuI3lj6/nlKgnKSkge1xuICAgICAgZXJyb3JUeXBlID0gRXJyb3JUeXBlLkRBVEFCQVNFX1VOQVZBSUxBQkxFXG4gICAgICBzZXZlcml0eSA9ICdjcml0aWNhbCdcbiAgICAgIHJlY29tbWVuZGVkU3RyYXRlZ3kgPSBSZWNvdmVyeVN0cmF0ZWd5LkZBSUxPVkVSXG4gICAgICBlc3RpbWF0ZWRSZWNvdmVyeVRpbWUgPSAzMDAwMFxuICAgIH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdkZWFkbG9jaycpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygn5q276ZSBJykpIHtcbiAgICAgIGVycm9yVHlwZSA9IEVycm9yVHlwZS5ERUFETE9DS1xuICAgICAgc2V2ZXJpdHkgPSAnbWVkaXVtJ1xuICAgICAgcmVjb21tZW5kZWRTdHJhdGVneSA9IFJlY292ZXJ5U3RyYXRlZ3kuUkVUUllcbiAgICAgIGVzdGltYXRlZFJlY292ZXJ5VGltZSA9IDIwMDBcbiAgICB9IGVsc2UgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnY29uc3RyYWludCcpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygn57qm5p2fJykpIHtcbiAgICAgIGVycm9yVHlwZSA9IEVycm9yVHlwZS5DT05TVFJBSU5UX1ZJT0xBVElPTlxuICAgICAgc2V2ZXJpdHkgPSAnbG93J1xuICAgICAgaXNSZWNvdmVyYWJsZSA9IGZhbHNlXG4gICAgICByZXF1aXJlc01hbnVhbEludGVydmVudGlvbiA9IHRydWVcbiAgICB9IGVsc2UgaWYgKGVycm9yTWVzc2FnZS5pbmNsdWRlcygnZGlzaycpIHx8IGVycm9yTWVzc2FnZS5pbmNsdWRlcygn56OB55uYJykpIHtcbiAgICAgIGVycm9yVHlwZSA9IEVycm9yVHlwZS5ESVNLX0ZVTExcbiAgICAgIHNldmVyaXR5ID0gJ2NyaXRpY2FsJ1xuICAgICAgaXNSZWNvdmVyYWJsZSA9IGZhbHNlXG4gICAgICByZXF1aXJlc01hbnVhbEludGVydmVudGlvbiA9IHRydWVcbiAgICAgIHJlY29tbWVuZGVkU3RyYXRlZ3kgPSBSZWNvdmVyeVN0cmF0ZWd5LkVNRVJHRU5DWV9TSFVURE9XTlxuICAgIH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdtZW1vcnknKSB8fCBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ+WGheWtmCcpKSB7XG4gICAgICBlcnJvclR5cGUgPSBFcnJvclR5cGUuTUVNT1JZX0VYSEFVU1RFRFxuICAgICAgc2V2ZXJpdHkgPSAnaGlnaCdcbiAgICAgIHJlY29tbWVuZGVkU3RyYXRlZ3kgPSBSZWNvdmVyeVN0cmF0ZWd5LkdSQUNFRlVMX0RFR1JBREFUSU9OXG4gICAgICBlc3RpbWF0ZWRSZWNvdmVyeVRpbWUgPSAyMDAwMFxuICAgIH0gZWxzZSBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCduZXR3b3JrJykgfHwgZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCfnvZHnu5wnKSkge1xuICAgICAgZXJyb3JUeXBlID0gRXJyb3JUeXBlLk5FVFdPUktfRVJST1JcbiAgICAgIHNldmVyaXR5ID0gJ2hpZ2gnXG4gICAgICByZWNvbW1lbmRlZFN0cmF0ZWd5ID0gUmVjb3ZlcnlTdHJhdGVneS5SRUNPTk5FQ1RcbiAgICAgIGVzdGltYXRlZFJlY292ZXJ5VGltZSA9IDE1MDAwXG4gICAgfVxuXG4gICAgLy8g5qC55o2u6L+e57ut5aSx6LSl5qyh5pWw6LCD5pW05Lil6YeN5oCnXG4gICAgaWYgKHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA+IDMpIHtcbiAgICAgIHNldmVyaXR5ID0gJ2NyaXRpY2FsJ1xuICAgICAgaWYgKHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA+IDUpIHtcbiAgICAgICAgcmVjb21tZW5kZWRTdHJhdGVneSA9IFJlY292ZXJ5U3RyYXRlZ3kuQ0lSQ1VJVF9CUkVBS0VSXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yVHlwZSxcbiAgICAgIHNldmVyaXR5LFxuICAgICAgaXNSZWNvdmVyYWJsZSxcbiAgICAgIHJlY29tbWVuZGVkU3RyYXRlZ3ksXG4gICAgICBlc3RpbWF0ZWRSZWNvdmVyeVRpbWUsXG4gICAgICByZXF1aXJlc01hbnVhbEludGVydmVudGlvbixcbiAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgY29ubmVjdGlvblN0YXRlOiBzdGF0cy5zdGF0ZSxcbiAgICAgICAgcmVjZW50RXJyb3JzOiB0aGlzLmdldFJlY2VudEVycm9yQ291bnQoKSxcbiAgICAgICAgc3lzdGVtTG9hZDogdGhpcy5nZXRTeXN0ZW1Mb2FkKCksXG4gICAgICAgIGF2YWlsYWJsZU1lbW9yeTogKG1lbVVzYWdlLmhlYXBUb3RhbCAtIG1lbVVzYWdlLmhlYXBVc2VkKSAvIDEwMjQgLyAxMDI0IC8vIE1CXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOabtOaWsOmUmeivr+iuoeaVsFxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVFcnJvckNvdW50cyhlcnJvclR5cGU6IEVycm9yVHlwZSk6IHZvaWQge1xuICAgIGNvbnN0IGN1cnJlbnRDb3VudCA9IHRoaXMuZXJyb3JDb3VudHMuZ2V0KGVycm9yVHlwZSkgfHwgMFxuICAgIHRoaXMuZXJyb3JDb3VudHMuc2V0KGVycm9yVHlwZSwgY3VycmVudENvdW50ICsgMSlcbiAgICB0aGlzLmxhc3RFcnJvclRpbWUgPSBuZXcgRGF0ZSgpXG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKytcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7TmlrDnhpTmlq3lmajnirbmgIFcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlQ2lyY3VpdEJyZWFrZXJTdGF0ZShhbmFseXNpczogRXJyb3JBbmFseXNpcyk6IHZvaWQge1xuICAgIGNvbnN0IHJlY2VudEVycm9ycyA9IHRoaXMuZ2V0UmVjZW50RXJyb3JDb3VudCgpXG4gICAgXG4gICAgc3dpdGNoICh0aGlzLmNpcmN1aXRCcmVha2VyU3RhdGUpIHtcbiAgICAgIGNhc2UgQ2lyY3VpdEJyZWFrZXJTdGF0ZS5DTE9TRUQ6XG4gICAgICAgIGlmIChyZWNlbnRFcnJvcnMgPj0gdGhpcy5jb25maWd1cmF0aW9uLmNpcmN1aXRCcmVha2VyVGhyZXNob2xkKSB7XG4gICAgICAgICAgdGhpcy5jaXJjdWl0QnJlYWtlclN0YXRlID0gQ2lyY3VpdEJyZWFrZXJTdGF0ZS5PUEVOXG4gICAgICAgICAgdGhpcy5jaXJjdWl0QnJlYWtlck9wZW5UaW1lID0gbmV3IERhdGUoKVxuICAgICAgICAgIGNvbnNvbGUud2FybignQ2lyY3VpdCBicmVha2VyIG9wZW5lZCBkdWUgdG8gaGlnaCBlcnJvciByYXRlJylcbiAgICAgICAgICB0aGlzLmVtaXQoJ2NpcmN1aXRCcmVha2VyT3BlbmVkJywgeyByZWNlbnRFcnJvcnMsIHRocmVzaG9sZDogdGhpcy5jb25maWd1cmF0aW9uLmNpcmN1aXRCcmVha2VyVGhyZXNob2xkIH0pXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgICAgXG4gICAgICBjYXNlIENpcmN1aXRCcmVha2VyU3RhdGUuT1BFTjpcbiAgICAgICAgaWYgKHRoaXMuY2lyY3VpdEJyZWFrZXJPcGVuVGltZSAmJiBcbiAgICAgICAgICAgIERhdGUubm93KCkgLSB0aGlzLmNpcmN1aXRCcmVha2VyT3BlblRpbWUuZ2V0VGltZSgpID4gdGhpcy5jb25maWd1cmF0aW9uLmNpcmN1aXRCcmVha2VyVGltZW91dE1zKSB7XG4gICAgICAgICAgdGhpcy5jaXJjdWl0QnJlYWtlclN0YXRlID0gQ2lyY3VpdEJyZWFrZXJTdGF0ZS5IQUxGX09QRU5cbiAgICAgICAgICBjb25zb2xlLmluZm8oJ0NpcmN1aXQgYnJlYWtlciBtb3ZlZCB0byBoYWxmLW9wZW4gc3RhdGUnKVxuICAgICAgICAgIHRoaXMuZW1pdCgnY2lyY3VpdEJyZWFrZXJIYWxmT3BlbicpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgICAgXG4gICAgICBjYXNlIENpcmN1aXRCcmVha2VyU3RhdGUuSEFMRl9PUEVOOlxuICAgICAgICBpZiAoYW5hbHlzaXMuc2V2ZXJpdHkgPT09ICdjcml0aWNhbCcgfHwgYW5hbHlzaXMuc2V2ZXJpdHkgPT09ICdoaWdoJykge1xuICAgICAgICAgIHRoaXMuY2lyY3VpdEJyZWFrZXJTdGF0ZSA9IENpcmN1aXRCcmVha2VyU3RhdGUuT1BFTlxuICAgICAgICAgIHRoaXMuY2lyY3VpdEJyZWFrZXJPcGVuVGltZSA9IG5ldyBEYXRlKClcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0NpcmN1aXQgYnJlYWtlciByZW9wZW5lZCBkdWUgdG8gY29udGludWVkIGVycm9ycycpXG4gICAgICAgICAgdGhpcy5lbWl0KCdjaXJjdWl0QnJlYWtlclJlb3BlbmVkJylcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmiafooYzmgaLlpI3nrZbnlaVcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVJlY292ZXJ5U3RyYXRlZ3koYW5hbHlzaXM6IEVycm9yQW5hbHlzaXMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmlzUmVjb3ZlcmluZyA9IHRydWVcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXG4gICAgbGV0IGF0dGVtcHRzID0gMFxuICAgIGxldCBzdWNjZXNzID0gZmFsc2VcbiAgICBsZXQgbGFzdEVycm9yOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgICBcbiAgICBjb25zdCBiZWZvcmVNZXRyaWNzID0gZW5oYW5jZWREYi5nZXRTdGF0cygpXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBFeGVjdXRpbmcgcmVjb3Zlcnkgc3RyYXRlZ3k6ICR7YW5hbHlzaXMucmVjb21tZW5kZWRTdHJhdGVneX1gKVxuICAgICAgXG4gICAgICBzd2l0Y2ggKGFuYWx5c2lzLnJlY29tbWVuZGVkU3RyYXRlZ3kpIHtcbiAgICAgICAgY2FzZSBSZWNvdmVyeVN0cmF0ZWd5LlJFVFJZOlxuICAgICAgICAgICh7IHN1Y2Nlc3MsIGF0dGVtcHRzLCBsYXN0RXJyb3IgfSA9IGF3YWl0IHRoaXMuZXhlY3V0ZVJldHJ5U3RyYXRlZ3koKSlcbiAgICAgICAgICBicmVha1xuICAgICAgICAgIFxuICAgICAgICBjYXNlIFJlY292ZXJ5U3RyYXRlZ3kuUkVDT05ORUNUOlxuICAgICAgICAgICh7IHN1Y2Nlc3MsIGF0dGVtcHRzLCBsYXN0RXJyb3IgfSA9IGF3YWl0IHRoaXMuZXhlY3V0ZVJlY29ubmVjdFN0cmF0ZWd5KCkpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgICBcbiAgICAgICAgY2FzZSBSZWNvdmVyeVN0cmF0ZWd5LkZBSUxPVkVSOlxuICAgICAgICAgICh7IHN1Y2Nlc3MsIGF0dGVtcHRzLCBsYXN0RXJyb3IgfSA9IGF3YWl0IHRoaXMuZXhlY3V0ZUZhaWxvdmVyU3RyYXRlZ3koKSlcbiAgICAgICAgICBicmVha1xuICAgICAgICAgIFxuICAgICAgICBjYXNlIFJlY292ZXJ5U3RyYXRlZ3kuQ0lSQ1VJVF9CUkVBS0VSOlxuICAgICAgICAgICh7IHN1Y2Nlc3MsIGF0dGVtcHRzLCBsYXN0RXJyb3IgfSA9IGF3YWl0IHRoaXMuZXhlY3V0ZUNpcmN1aXRCcmVha2VyU3RyYXRlZ3koKSlcbiAgICAgICAgICBicmVha1xuICAgICAgICAgIFxuICAgICAgICBjYXNlIFJlY292ZXJ5U3RyYXRlZ3kuR1JBQ0VGVUxfREVHUkFEQVRJT046XG4gICAgICAgICAgKHsgc3VjY2VzcywgYXR0ZW1wdHMsIGxhc3RFcnJvciB9ID0gYXdhaXQgdGhpcy5leGVjdXRlR3JhY2VmdWxEZWdyYWRhdGlvblN0cmF0ZWd5KCkpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgICBcbiAgICAgICAgY2FzZSBSZWNvdmVyeVN0cmF0ZWd5LkVNRVJHRU5DWV9TSFVURE9XTjpcbiAgICAgICAgICAoeyBzdWNjZXNzLCBhdHRlbXB0cywgbGFzdEVycm9yIH0gPSBhd2FpdCB0aGlzLmV4ZWN1dGVFbWVyZ2VuY3lTaHV0ZG93blN0cmF0ZWd5KCkpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgICBcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcmVjb3Zlcnkgc3RyYXRlZ3k6ICR7YW5hbHlzaXMucmVjb21tZW5kZWRTdHJhdGVneX1gKVxuICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxhc3RFcnJvciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgICAgY29uc29sZS5lcnJvcignUmVjb3Zlcnkgc3RyYXRlZ3kgZXhlY3V0aW9uIGZhaWxlZDonLCBsYXN0RXJyb3IpXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGFmdGVyTWV0cmljcyA9IGVuaGFuY2VkRGIuZ2V0U3RhdHMoKVxuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVxuICAgIFxuICAgIC8vIOiusOW9leaBouWkjee7k+aenFxuICAgIGNvbnN0IHJlc3VsdDogUmVjb3ZlcnlSZXN1bHQgPSB7XG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICBlcnJvclR5cGU6IGFuYWx5c2lzLmVycm9yVHlwZSxcbiAgICAgIHN0cmF0ZWd5OiBhbmFseXNpcy5yZWNvbW1lbmRlZFN0cmF0ZWd5LFxuICAgICAgc3VjY2VzcyxcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgYXR0ZW1wdHNDb3VudDogYXR0ZW1wdHMsXG4gICAgICBlcnJvcjogbGFzdEVycm9yLFxuICAgICAgbWV0cmljczoge1xuICAgICAgICBiZWZvcmVSZWNvdmVyeTogYmVmb3JlTWV0cmljcyxcbiAgICAgICAgYWZ0ZXJSZWNvdmVyeTogYWZ0ZXJNZXRyaWNzXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHRoaXMuYWRkUmVjb3ZlcnlSZXN1bHQocmVzdWx0KVxuICAgIFxuICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwXG4gICAgICBpZiAodGhpcy5jaXJjdWl0QnJlYWtlclN0YXRlID09PSBDaXJjdWl0QnJlYWtlclN0YXRlLkhBTEZfT1BFTikge1xuICAgICAgICB0aGlzLmNpcmN1aXRCcmVha2VyU3RhdGUgPSBDaXJjdWl0QnJlYWtlclN0YXRlLkNMT1NFRFxuICAgICAgICBjb25zb2xlLmluZm8oJ0NpcmN1aXQgYnJlYWtlciBjbG9zZWQgYWZ0ZXIgc3VjY2Vzc2Z1bCByZWNvdmVyeScpXG4gICAgICAgIHRoaXMuZW1pdCgnY2lyY3VpdEJyZWFrZXJDbG9zZWQnKVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB0aGlzLmVtaXQoJ3JlY292ZXJ5Q29tcGxldGVkJywgcmVzdWx0KVxuICAgIHRoaXMuaXNSZWNvdmVyaW5nID0gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiDmiafooYzph43or5XnrZbnlaVcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVJldHJ5U3RyYXRlZ3koKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGF0dGVtcHRzOiBudW1iZXI7IGxhc3RFcnJvcj86IHN0cmluZyB9PiB7XG4gICAgbGV0IGF0dGVtcHRzID0gMFxuICAgIGxldCBsYXN0RXJyb3I6IHN0cmluZyB8IHVuZGVmaW5lZFxuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25maWd1cmF0aW9uLm1heFJldHJ5QXR0ZW1wdHM7IGkrKykge1xuICAgICAgYXR0ZW1wdHMrK1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyDnrYnlvoXph43or5Xlu7bov59cbiAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLmNvbmZpZ3VyYXRpb24uZXhwb25lbnRpYWxCYWNrb2ZmIFxuICAgICAgICAgID8gdGhpcy5jb25maWd1cmF0aW9uLnJldHJ5RGVsYXlNcyAqIE1hdGgucG93KDIsIGkpXG4gICAgICAgICAgOiB0aGlzLmNvbmZpZ3VyYXRpb24ucmV0cnlEZWxheU1zXG4gICAgICAgICAgXG4gICAgICAgIGF3YWl0IHRoaXMuc2xlZXAoZGVsYXkpXG4gICAgICAgIFxuICAgICAgICAvLyDlsJ3or5XmiafooYzlgaXlurfmo4Dmn6VcbiAgICAgICAgY29uc3QgaXNIZWFsdGh5ID0gYXdhaXQgZW5oYW5jZWREYi5wZXJmb3JtSGVhbHRoQ2hlY2soKVxuICAgICAgICBpZiAoaXNIZWFsdGh5KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFJldHJ5IHN0cmF0ZWd5IHN1Y2NlZWRlZCBvbiBhdHRlbXB0ICR7YXR0ZW1wdHN9YClcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBhdHRlbXB0cyB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsYXN0RXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcbiAgICAgICAgY29uc29sZS53YXJuKGBSZXRyeSBhdHRlbXB0ICR7YXR0ZW1wdHN9IGZhaWxlZDpgLCBsYXN0RXJyb3IpXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBhdHRlbXB0cywgbGFzdEVycm9yIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmiafooYzph43ov57nrZbnlaVcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVJlY29ubmVjdFN0cmF0ZWd5KCk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBhdHRlbXB0czogbnVtYmVyOyBsYXN0RXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIGxldCBhdHRlbXB0cyA9IDBcbiAgICBsZXQgbGFzdEVycm9yOiBzdHJpbmcgfCB1bmRlZmluZWRcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXR0ZW1wdHMrK1xuICAgICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgZGF0YWJhc2UgcmVjb25uZWN0aW9uLi4uJylcbiAgICAgIFxuICAgICAgLy8g5pat5byA546w5pyJ6L+e5o6lXG4gICAgICBhd2FpdCBlbmhhbmNlZERiLmRpc2Nvbm5lY3QoKVxuICAgICAgXG4gICAgICAvLyDnrYnlvoXkuIDmrrXml7bpl7RcbiAgICAgIGF3YWl0IHRoaXMuc2xlZXAodGhpcy5jb25maWd1cmF0aW9uLnJldHJ5RGVsYXlNcylcbiAgICAgIFxuICAgICAgLy8g6YeN5paw6L+e5o6lXG4gICAgICBhd2FpdCBlbmhhbmNlZERiLmNvbm5lY3QoKVxuICAgICAgXG4gICAgICAvLyDpqozor4Hov57mjqVcbiAgICAgIGNvbnN0IGlzSGVhbHRoeSA9IGF3YWl0IGVuaGFuY2VkRGIucGVyZm9ybUhlYWx0aENoZWNrKClcbiAgICAgIGlmIChpc0hlYWx0aHkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIHJlY29ubmVjdGlvbiBzdWNjZXNzZnVsJylcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgYXR0ZW1wdHMgfVxuICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxhc3RFcnJvciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgcmVjb25uZWN0aW9uIGZhaWxlZDonLCBsYXN0RXJyb3IpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBhdHRlbXB0cywgbGFzdEVycm9yIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmiafooYzmlYXpmpzovaznp7vnrZbnlaVcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUZhaWxvdmVyU3RyYXRlZ3koKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGF0dGVtcHRzOiBudW1iZXI7IGxhc3RFcnJvcj86IHN0cmluZyB9PiB7XG4gICAgbGV0IGF0dGVtcHRzID0gMFxuICAgIGxldCBsYXN0RXJyb3I6IHN0cmluZyB8IHVuZGVmaW5lZFxuICAgIFxuICAgIGlmICghdGhpcy5jb25maWd1cmF0aW9uLmZhaWxvdmVyRW5hYmxlZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGF0dGVtcHRzOiAwLCBsYXN0RXJyb3I6ICdGYWlsb3ZlciBpcyBub3QgZW5hYmxlZCcgfVxuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgYXR0ZW1wdHMrK1xuICAgICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgZGF0YWJhc2UgZmFpbG92ZXIuLi4nKVxuICAgICAgXG4gICAgICAvLyDov5nph4zlupTor6Xlrp7njrDlrp7pmYXnmoTmlYXpmpzovaznp7vpgLvovpFcbiAgICAgIC8vIOS+i+Wmgu+8muWIh+aNouWIsOWkh+eUqOaVsOaNruW6k+OAgeS9v+eUqOWPquivu+WJr+acrOetiVxuICAgICAgXG4gICAgICAvLyDmqKHmi5/mlYXpmpzovaznp7tcbiAgICAgIGF3YWl0IHRoaXMuc2xlZXAoNTAwMClcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ0ZhaWxvdmVyIHN0cmF0ZWd5IGV4ZWN1dGVkIChzaW11bGF0ZWQpJylcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGF0dGVtcHRzIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsYXN0RXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxvdmVyIHN0cmF0ZWd5IGZhaWxlZDonLCBsYXN0RXJyb3IpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBhdHRlbXB0cywgbGFzdEVycm9yIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmiafooYznhpTmlq3lmajnrZbnlaVcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUNpcmN1aXRCcmVha2VyU3RyYXRlZ3koKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGF0dGVtcHRzOiBudW1iZXI7IGxhc3RFcnJvcj86IHN0cmluZyB9PiB7XG4gICAgY29uc29sZS5sb2coJ0NpcmN1aXQgYnJlYWtlciBzdHJhdGVneSBhY3RpdmF0ZWQnKVxuICAgIFxuICAgIHRoaXMuY2lyY3VpdEJyZWFrZXJTdGF0ZSA9IENpcmN1aXRCcmVha2VyU3RhdGUuT1BFTlxuICAgIHRoaXMuY2lyY3VpdEJyZWFrZXJPcGVuVGltZSA9IG5ldyBEYXRlKClcbiAgICBcbiAgICAvLyDop6blj5Hov57mjqXmsaDkvJjljJZcbiAgICBpZiAocG9vbE9wdGltaXplcikge1xuICAgICAgcG9vbE9wdGltaXplci5lbWl0KCdlbWVyZ2VuY3lPcHRpbWl6YXRpb24nLCAnQ2lyY3VpdCBicmVha2VyIGFjdGl2YXRlZCcpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGF0dGVtcHRzOiAxIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmiafooYzkvJjpm4XpmY3nuqfnrZbnlaVcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUdyYWNlZnVsRGVncmFkYXRpb25TdHJhdGVneSgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgYXR0ZW1wdHM6IG51bWJlcjsgbGFzdEVycm9yPzogc3RyaW5nIH0+IHtcbiAgICBpZiAoIXRoaXMuY29uZmlndXJhdGlvbi5ncmFjZWZ1bERlZ3JhZGF0aW9uRW5hYmxlZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGF0dGVtcHRzOiAwLCBsYXN0RXJyb3I6ICdHcmFjZWZ1bCBkZWdyYWRhdGlvbiBpcyBub3QgZW5hYmxlZCcgfVxuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ0V4ZWN1dGluZyBncmFjZWZ1bCBkZWdyYWRhdGlvbiBzdHJhdGVneS4uLicpXG4gICAgICBcbiAgICAgIC8vIOi/memHjOW6lOivpeWunueOsOS8mOmbhemZjee6p+mAu+i+kVxuICAgICAgLy8g5L6L5aaC77ya5ZCv55So57yT5a2Y5qih5byP44CB6ZmQ5Yi25Yqf6IO944CB5L2/55So5aSH55So5pWw5o2u5rqQ562JXG4gICAgICBcbiAgICAgIC8vIOaooeaLn+S8mOmbhemZjee6p1xuICAgICAgYXdhaXQgdGhpcy5zbGVlcCgyMDAwKVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnR3JhY2VmdWwgZGVncmFkYXRpb24gYWN0aXZhdGVkJylcbiAgICAgIHRoaXMuZW1pdCgnZ3JhY2VmdWxEZWdyYWRhdGlvbkFjdGl2YXRlZCcpXG4gICAgICBcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGF0dGVtcHRzOiAxIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBsYXN0RXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcilcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0dyYWNlZnVsIGRlZ3JhZGF0aW9uIGZhaWxlZDonLCBsYXN0RXJyb3IpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgYXR0ZW1wdHM6IDEsIGxhc3RFcnJvciB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOaJp+ihjOe0p+aApeWFs+mXreetlueVpVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBleGVjdXRlRW1lcmdlbmN5U2h1dGRvd25TdHJhdGVneSgpOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgYXR0ZW1wdHM6IG51bWJlcjsgbGFzdEVycm9yPzogc3RyaW5nIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5lcnJvcignRXhlY3V0aW5nIGVtZXJnZW5jeSBzaHV0ZG93biBzdHJhdGVneS4uLicpXG4gICAgICBcbiAgICAgIC8vIOWPkemAgee0p+aApeWRiuitplxuICAgICAgdGhpcy5lbWl0KCdlbWVyZ2VuY3lTaHV0ZG93bicsIHtcbiAgICAgICAgcmVhc29uOiAnQ3JpdGljYWwgZGF0YWJhc2UgZXJyb3IgcmVxdWlyaW5nIG1hbnVhbCBpbnRlcnZlbnRpb24nLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIOS8mOmbheWFs+mXreaVsOaNruW6k+i/nuaOpVxuICAgICAgYXdhaXQgZW5oYW5jZWREYi5ncmFjZWZ1bFNodXRkb3duKClcbiAgICAgIFxuICAgICAgY29uc29sZS5lcnJvcignRW1lcmdlbmN5IHNodXRkb3duIGNvbXBsZXRlZCcpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBhdHRlbXB0czogMSB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgbGFzdEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG4gICAgICBjb25zb2xlLmVycm9yKCdFbWVyZ2VuY3kgc2h1dGRvd24gZmFpbGVkOicsIGxhc3RFcnJvcilcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBhdHRlbXB0czogMSwgbGFzdEVycm9yIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5ZCv5Yqo5YGl5bq35qOA5p+lXG4gICAqL1xuICBwcml2YXRlIHN0YXJ0SGVhbHRoQ2hlY2soKTogdm9pZCB7XG4gICAgdGhpcy5oZWFsdGhDaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRoaXMuY2lyY3VpdEJyZWFrZXJTdGF0ZSA9PT0gQ2lyY3VpdEJyZWFrZXJTdGF0ZS5IQUxGX09QRU4pIHtcbiAgICAgICAgICBjb25zdCBpc0hlYWx0aHkgPSBhd2FpdCBlbmhhbmNlZERiLnBlcmZvcm1IZWFsdGhDaGVjaygpXG4gICAgICAgICAgaWYgKGlzSGVhbHRoeSkge1xuICAgICAgICAgICAgdGhpcy5jaXJjdWl0QnJlYWtlclN0YXRlID0gQ2lyY3VpdEJyZWFrZXJTdGF0ZS5DTE9TRURcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnQ2lyY3VpdCBicmVha2VyIGNsb3NlZCBhZnRlciBzdWNjZXNzZnVsIGhlYWx0aCBjaGVjaycpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NpcmN1aXRCcmVha2VyQ2xvc2VkJylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0hlYWx0aCBjaGVjayBmYWlsZWQ6JywgZXJyb3IpXG4gICAgICB9XG4gICAgfSwgdGhpcy5jb25maWd1cmF0aW9uLmhlYWx0aENoZWNrSW50ZXJ2YWxNcylcbiAgfVxuXG4gIC8qKlxuICAgKiDlgZzmraLlgaXlurfmo4Dmn6VcbiAgICovXG4gIHByaXZhdGUgc3RvcEhlYWx0aENoZWNrKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmhlYWx0aENoZWNrSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5oZWFsdGhDaGVja0ludGVydmFsKVxuICAgICAgdGhpcy5oZWFsdGhDaGVja0ludGVydmFsID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bmnIDov5HplJnor6/mlbDph49cbiAgICovXG4gIHByaXZhdGUgZ2V0UmVjZW50RXJyb3JDb3VudCh0aW1lV2luZG93TXM6IG51bWJlciA9IDMwMDAwMCk6IG51bWJlciB7XG4gICAgY29uc3QgY3V0b2ZmVGltZSA9IERhdGUubm93KCkgLSB0aW1lV2luZG93TXNcbiAgICByZXR1cm4gdGhpcy5yZWNvdmVyeUhpc3RvcnlcbiAgICAgIC5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC50aW1lc3RhbXAuZ2V0VGltZSgpID4gY3V0b2ZmVGltZSAmJiAhcmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAubGVuZ3RoXG4gIH1cblxuICAvKipcbiAgICog6I635Y+W57O757uf6LSf6L29XG4gICAqL1xuICBwcml2YXRlIGdldFN5c3RlbUxvYWQoKTogbnVtYmVyIHtcbiAgICAvLyDnroDljZXnmoTns7vnu5/otJ/ovb3orqHnrpdcbiAgICBjb25zdCBjcHVVc2FnZSA9IHByb2Nlc3MuY3B1VXNhZ2UoKVxuICAgIHJldHVybiAoY3B1VXNhZ2UudXNlciArIGNwdVVzYWdlLnN5c3RlbSkgLyAxMDAwMDAwIC8vIOi9rOaNouS4uuenklxuICB9XG5cbiAgLyoqXG4gICAqIOedoeecoOWHveaVsFxuICAgKi9cbiAgcHJpdmF0ZSBzbGVlcChtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpXG4gIH1cblxuICAvKipcbiAgICog5re75Yqg5oGi5aSN57uT5p6c5Yiw5Y6G5Y+yXG4gICAqL1xuICBwcml2YXRlIGFkZFJlY292ZXJ5UmVzdWx0KHJlc3VsdDogUmVjb3ZlcnlSZXN1bHQpOiB2b2lkIHtcbiAgICB0aGlzLnJlY292ZXJ5SGlzdG9yeS5wdXNoKHJlc3VsdClcbiAgICBcbiAgICAvLyDpmZDliLbljoblj7LorrDlvZXlpKflsI9cbiAgICBpZiAodGhpcy5yZWNvdmVyeUhpc3RvcnkubGVuZ3RoID4gdGhpcy5tYXhIaXN0b3J5U2l6ZSkge1xuICAgICAgdGhpcy5yZWNvdmVyeUhpc3RvcnkgPSB0aGlzLnJlY292ZXJ5SGlzdG9yeS5zbGljZSgtdGhpcy5tYXhIaXN0b3J5U2l6ZSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5oGi5aSN5Y6G5Y+yXG4gICAqL1xuICBnZXRSZWNvdmVyeUhpc3RvcnkobGltaXQ/OiBudW1iZXIpOiBSZWNvdmVyeVJlc3VsdFtdIHtcbiAgICBpZiAobGltaXQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlY292ZXJ5SGlzdG9yeS5zbGljZSgtbGltaXQpXG4gICAgfVxuICAgIHJldHVybiBbLi4udGhpcy5yZWNvdmVyeUhpc3RvcnldXG4gIH1cblxuICAvKipcbiAgICog6I635Y+W6ZSZ6K+v57uf6K6hXG4gICAqL1xuICBnZXRFcnJvclN0YXRpc3RpY3MoKToge1xuICAgIHRvdGFsRXJyb3JzOiBudW1iZXJcbiAgICBlcnJvcnNCeVR5cGU6IHsgW2tleSBpbiBFcnJvclR5cGVdOiBudW1iZXIgfVxuICAgIHJlY2VudEVycm9yczogbnVtYmVyXG4gICAgY29uc2VjdXRpdmVGYWlsdXJlczogbnVtYmVyXG4gICAgbGFzdEVycm9yVGltZTogRGF0ZSB8IG51bGxcbiAgICBjaXJjdWl0QnJlYWtlclN0YXRlOiBDaXJjdWl0QnJlYWtlclN0YXRlXG4gIH0ge1xuICAgIGNvbnN0IGVycm9yc0J5VHlwZSA9IHt9IGFzIHsgW2tleSBpbiBFcnJvclR5cGVdOiBudW1iZXIgfVxuICAgIE9iamVjdC52YWx1ZXMoRXJyb3JUeXBlKS5mb3JFYWNoKGVycm9yVHlwZSA9PiB7XG4gICAgICBlcnJvcnNCeVR5cGVbZXJyb3JUeXBlXSA9IHRoaXMuZXJyb3JDb3VudHMuZ2V0KGVycm9yVHlwZSkgfHwgMFxuICAgIH0pXG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsRXJyb3JzOiBBcnJheS5mcm9tKHRoaXMuZXJyb3JDb3VudHMudmFsdWVzKCkpLnJlZHVjZSgoc3VtLCBjb3VudCkgPT4gc3VtICsgY291bnQsIDApLFxuICAgICAgZXJyb3JzQnlUeXBlLFxuICAgICAgcmVjZW50RXJyb3JzOiB0aGlzLmdldFJlY2VudEVycm9yQ291bnQoKSxcbiAgICAgIGNvbnNlY3V0aXZlRmFpbHVyZXM6IHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyxcbiAgICAgIGxhc3RFcnJvclRpbWU6IHRoaXMubGFzdEVycm9yVGltZSxcbiAgICAgIGNpcmN1aXRCcmVha2VyU3RhdGU6IHRoaXMuY2lyY3VpdEJyZWFrZXJTdGF0ZVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bmgaLlpI3nu5/orqFcbiAgICovXG4gIGdldFJlY292ZXJ5U3RhdGlzdGljcygpOiB7XG4gICAgdG90YWxSZWNvdmVyaWVzOiBudW1iZXJcbiAgICBzdWNjZXNzZnVsUmVjb3ZlcmllczogbnVtYmVyXG4gICAgZmFpbGVkUmVjb3ZlcmllczogbnVtYmVyXG4gICAgc3VjY2Vzc1JhdGU6IG51bWJlclxuICAgIGF2ZXJhZ2VSZWNvdmVyeVRpbWU6IG51bWJlclxuICAgIHN0cmF0ZWdpZXNVc2VkOiB7IFtrZXkgaW4gUmVjb3ZlcnlTdHJhdGVneV06IG51bWJlciB9XG4gIH0ge1xuICAgIGNvbnN0IHRvdGFsID0gdGhpcy5yZWNvdmVyeUhpc3RvcnkubGVuZ3RoXG4gICAgY29uc3Qgc3VjY2Vzc2Z1bCA9IHRoaXMucmVjb3ZlcnlIaXN0b3J5LmZpbHRlcihyID0+IHIuc3VjY2VzcykubGVuZ3RoXG4gICAgY29uc3QgZmFpbGVkID0gdG90YWwgLSBzdWNjZXNzZnVsXG4gICAgXG4gICAgY29uc3Qgc3RyYXRlZ2llc1VzZWQgPSB7fSBhcyB7IFtrZXkgaW4gUmVjb3ZlcnlTdHJhdGVneV06IG51bWJlciB9XG4gICAgT2JqZWN0LnZhbHVlcyhSZWNvdmVyeVN0cmF0ZWd5KS5mb3JFYWNoKHN0cmF0ZWd5ID0+IHtcbiAgICAgIHN0cmF0ZWdpZXNVc2VkW3N0cmF0ZWd5XSA9IHRoaXMucmVjb3ZlcnlIaXN0b3J5LmZpbHRlcihyID0+IHIuc3RyYXRlZ3kgPT09IHN0cmF0ZWd5KS5sZW5ndGhcbiAgICB9KVxuICAgIFxuICAgIGNvbnN0IGF2Z1JlY292ZXJ5VGltZSA9IHRvdGFsID4gMCBcbiAgICAgID8gdGhpcy5yZWNvdmVyeUhpc3RvcnkucmVkdWNlKChzdW0sIHIpID0+IHN1bSArIHIuZHVyYXRpb24sIDApIC8gdG90YWxcbiAgICAgIDogMFxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbFJlY292ZXJpZXM6IHRvdGFsLFxuICAgICAgc3VjY2Vzc2Z1bFJlY292ZXJpZXM6IHN1Y2Nlc3NmdWwsXG4gICAgICBmYWlsZWRSZWNvdmVyaWVzOiBmYWlsZWQsXG4gICAgICBzdWNjZXNzUmF0ZTogdG90YWwgPiAwID8gKHN1Y2Nlc3NmdWwgLyB0b3RhbCkgKiAxMDAgOiAwLFxuICAgICAgYXZlcmFnZVJlY292ZXJ5VGltZTogYXZnUmVjb3ZlcnlUaW1lLFxuICAgICAgc3RyYXRlZ2llc1VzZWRcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5pu05paw6YWN572uXG4gICAqL1xuICB1cGRhdGVDb25maWd1cmF0aW9uKGNvbmZpZzogUGFydGlhbDxSZWNvdmVyeUNvbmZpZ3VyYXRpb24+KTogdm9pZCB7XG4gICAgdGhpcy5jb25maWd1cmF0aW9uID0geyAuLi50aGlzLmNvbmZpZ3VyYXRpb24sIC4uLmNvbmZpZyB9XG4gICAgY29uc29sZS5sb2coJ0Vycm9yIHJlY292ZXJ5IGNvbmZpZ3VyYXRpb24gdXBkYXRlZDonLCBjb25maWcpXG4gIH1cblxuICAvKipcbiAgICog6YeN572u54aU5pat5ZmoXG4gICAqL1xuICByZXNldENpcmN1aXRCcmVha2VyKCk6IHZvaWQge1xuICAgIHRoaXMuY2lyY3VpdEJyZWFrZXJTdGF0ZSA9IENpcmN1aXRCcmVha2VyU3RhdGUuQ0xPU0VEXG4gICAgdGhpcy5jaXJjdWl0QnJlYWtlck9wZW5UaW1lID0gbnVsbFxuICAgIGNvbnNvbGUubG9nKCdDaXJjdWl0IGJyZWFrZXIgcmVzZXQgdG8gY2xvc2VkIHN0YXRlJylcbiAgICB0aGlzLmVtaXQoJ2NpcmN1aXRCcmVha2VyUmVzZXQnKVxuICB9XG5cbiAgLyoqXG4gICAqIOa4hemZpOWOhuWPsuaVsOaNrlxuICAgKi9cbiAgY2xlYXJIaXN0b3J5KCk6IHZvaWQge1xuICAgIHRoaXMucmVjb3ZlcnlIaXN0b3J5ID0gW11cbiAgICB0aGlzLmVycm9yQ291bnRzLmNsZWFyKClcbiAgICBPYmplY3QudmFsdWVzKEVycm9yVHlwZSkuZm9yRWFjaChlcnJvclR5cGUgPT4ge1xuICAgICAgdGhpcy5lcnJvckNvdW50cy5zZXQoZXJyb3JUeXBlLCAwKVxuICAgIH0pXG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMFxuICAgIHRoaXMubGFzdEVycm9yVGltZSA9IG51bGxcbiAgICBjb25zb2xlLmxvZygnRXJyb3IgcmVjb3ZlcnkgaGlzdG9yeSBjbGVhcmVkJylcbiAgfVxuXG4gIC8qKlxuICAgKiDplIDmr4HmgaLlpI3ns7vnu59cbiAgICovXG4gIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wSGVhbHRoQ2hlY2soKVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKClcbiAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgZXJyb3IgcmVjb3Zlcnkgc3lzdGVtIGRlc3Ryb3llZCcpXG4gIH1cbn1cblxuLy8g5Yib5bu65YWo5bGA6ZSZ6K+v5oGi5aSN5a6e5L6LXG5leHBvcnQgY29uc3QgZXJyb3JSZWNvdmVyeSA9IG5ldyBEYXRhYmFzZUVycm9yUmVjb3ZlcnkoKVxuXG4vLyDnm5HlkKzlhbPplK7kuovku7ZcbmVycm9yUmVjb3Zlcnkub24oJ2VtZXJnZW5jeVNodXRkb3duJywgKGRhdGEpID0+IHtcbiAgY29uc29sZS5lcnJvcignRU1FUkdFTkNZIFNIVVRET1dOIFRSSUdHRVJFRDonLCBkYXRhKVxuICAvLyDov5nph4zlj6/ku6Xpm4bmiJDlpJbpg6jlkYrorabns7vnu59cbn0pXG5cbmVycm9yUmVjb3Zlcnkub24oJ2NpcmN1aXRCcmVha2VyT3BlbmVkJywgKGRhdGEpID0+IHtcbiAgY29uc29sZS53YXJuKCdDSVJDVUlUIEJSRUFLRVIgT1BFTkVEOicsIGRhdGEpXG4gIC8vIOi/memHjOWPr+S7peWPkemAgeWRiuitpumAmuefpVxufSlcblxuZXJyb3JSZWNvdmVyeS5vbigndW5yZWNvdmVyYWJsZUVycm9yJywgKGRhdGEpID0+IHtcbiAgY29uc29sZS5lcnJvcignVU5SRUNPVkVSQUJMRSBFUlJPUiBERVRFQ1RFRDonLCBkYXRhKVxuICAvLyDov5nph4zlj6/ku6Xlj5HpgIHntKfmgKXpgJrnn6Vcbn0pXG5cbi8vIOWvvOWHuuS+v+aNt+WHveaVsFxuZXhwb3J0IGNvbnN0IGdldEVycm9yU3RhdGlzdGljcyA9ICgpID0+IGVycm9yUmVjb3ZlcnkuZ2V0RXJyb3JTdGF0aXN0aWNzKClcbmV4cG9ydCBjb25zdCBnZXRSZWNvdmVyeVN0YXRpc3RpY3MgPSAoKSA9PiBlcnJvclJlY292ZXJ5LmdldFJlY292ZXJ5U3RhdGlzdGljcygpXG5leHBvcnQgY29uc3QgZ2V0UmVjb3ZlcnlIaXN0b3J5ID0gKGxpbWl0PzogbnVtYmVyKSA9PiBlcnJvclJlY292ZXJ5LmdldFJlY292ZXJ5SGlzdG9yeShsaW1pdClcbmV4cG9ydCBjb25zdCByZXNldENpcmN1aXRCcmVha2VyID0gKCkgPT4gZXJyb3JSZWNvdmVyeS5yZXNldENpcmN1aXRCcmVha2VyKClcbmV4cG9ydCBjb25zdCB1cGRhdGVSZWNvdmVyeUNvbmZpZ3VyYXRpb24gPSAoY29uZmlnOiBQYXJ0aWFsPFJlY292ZXJ5Q29uZmlndXJhdGlvbj4pID0+IFxuICBlcnJvclJlY292ZXJ5LnVwZGF0ZUNvbmZpZ3VyYXRpb24oY29uZmlnKVxuXG4vLyDpu5jorqTlr7zlh7rplJnor6/mgaLlpI3ns7vnu59cbmV4cG9ydCBkZWZhdWx0IGVycm9yUmVjb3ZlcnkiXSwibmFtZXMiOlsiQ2lyY3VpdEJyZWFrZXJTdGF0ZSIsIkRhdGFiYXNlRXJyb3JSZWNvdmVyeSIsIkVycm9yVHlwZSIsIlJlY292ZXJ5U3RyYXRlZ3kiLCJlcnJvclJlY292ZXJ5IiwiZ2V0RXJyb3JTdGF0aXN0aWNzIiwiZ2V0UmVjb3ZlcnlIaXN0b3J5IiwiZ2V0UmVjb3ZlcnlTdGF0aXN0aWNzIiwicmVzZXRDaXJjdWl0QnJlYWtlciIsInVwZGF0ZVJlY292ZXJ5Q29uZmlndXJhdGlvbiIsIkV2ZW50RW1pdHRlciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwibWF4SGlzdG9yeVNpemUiLCJyZWNvdmVyeUhpc3RvcnkiLCJlcnJvckNvdW50cyIsIk1hcCIsImNpcmN1aXRCcmVha2VyU3RhdGUiLCJjaXJjdWl0QnJlYWtlck9wZW5UaW1lIiwiaXNSZWNvdmVyaW5nIiwiaGVhbHRoQ2hlY2tJbnRlcnZhbCIsImxhc3RFcnJvclRpbWUiLCJjb25zZWN1dGl2ZUZhaWx1cmVzIiwiY29uZmlndXJhdGlvbiIsIm1heFJldHJ5QXR0ZW1wdHMiLCJwYXJzZUludCIsInByb2Nlc3MiLCJlbnYiLCJEQl9NQVhfUkVUUllfQVRURU1QVFMiLCJyZXRyeURlbGF5TXMiLCJEQl9SRVRSWV9ERUxBWSIsImV4cG9uZW50aWFsQmFja29mZiIsIkRCX0VYUE9ORU5USUFMX0JBQ0tPRkYiLCJjaXJjdWl0QnJlYWtlclRocmVzaG9sZCIsIkRCX0NJUkNVSVRfQlJFQUtFUl9USFJFU0hPTEQiLCJjaXJjdWl0QnJlYWtlclRpbWVvdXRNcyIsIkRCX0NJUkNVSVRfQlJFQUtFUl9USU1FT1VUIiwiZmFpbG92ZXJFbmFibGVkIiwiREJfRkFJTE9WRVJfRU5BQkxFRCIsImdyYWNlZnVsRGVncmFkYXRpb25FbmFibGVkIiwiREJfR1JBQ0VGVUxfREVHUkFEQVRJT04iLCJlbWVyZ2VuY3lTaHV0ZG93blRocmVzaG9sZCIsIkRCX0VNRVJHRU5DWV9TSFVURE9XTl9USFJFU0hPTEQiLCJoZWFsdGhDaGVja0ludGVydmFsTXMiLCJEQl9IRUFMVEhfQ0hFQ0tfSU5URVJWQUwiLCJyZWNvdmVyeVRpbWVvdXRNcyIsIkRCX1JFQ09WRVJZX1RJTUVPVVQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwiZXJyb3JUeXBlIiwic2V0Iiwic2V0dXBFdmVudExpc3RlbmVycyIsInN0YXJ0SGVhbHRoQ2hlY2siLCJlbmhhbmNlZERiIiwib24iLCJlcnJvciIsImhhbmRsZURhdGFiYXNlRXJyb3IiLCJkYXRhYmFzZU1vbml0b3IiLCJhbGVydCIsImxldmVsIiwiQWxlcnRMZXZlbCIsIkNSSVRJQ0FMIiwiRVJST1IiLCJoYW5kbGVNb25pdG9yaW5nQWxlcnQiLCJjb25zb2xlIiwibWVzc2FnZSIsImFuYWx5c2lzIiwiYW5hbHl6ZUVycm9yIiwidXBkYXRlRXJyb3JDb3VudHMiLCJ1cGRhdGVDaXJjdWl0QnJlYWtlclN0YXRlIiwid2FybiIsImlzUmVjb3ZlcmFibGUiLCJleGVjdXRlUmVjb3ZlcnlTdHJhdGVneSIsImVtaXQiLCJyZWNvdmVyeUVycm9yIiwiaW5jbHVkZXMiLCJmYWtlRXJyb3IiLCJFcnJvciIsImVycm9yTWVzc2FnZSIsInRvTG93ZXJDYXNlIiwic3RhdHMiLCJnZXRTdGF0cyIsIm1lbVVzYWdlIiwibWVtb3J5VXNhZ2UiLCJzZXZlcml0eSIsInJlY29tbWVuZGVkU3RyYXRlZ3kiLCJlc3RpbWF0ZWRSZWNvdmVyeVRpbWUiLCJyZXF1aXJlc01hbnVhbEludGVydmVudGlvbiIsImNvbnRleHQiLCJjb25uZWN0aW9uU3RhdGUiLCJzdGF0ZSIsInJlY2VudEVycm9ycyIsImdldFJlY2VudEVycm9yQ291bnQiLCJzeXN0ZW1Mb2FkIiwiZ2V0U3lzdGVtTG9hZCIsImF2YWlsYWJsZU1lbW9yeSIsImhlYXBUb3RhbCIsImhlYXBVc2VkIiwiY3VycmVudENvdW50IiwiZ2V0IiwiRGF0ZSIsInRocmVzaG9sZCIsIm5vdyIsImdldFRpbWUiLCJpbmZvIiwic3RhcnRUaW1lIiwiYXR0ZW1wdHMiLCJzdWNjZXNzIiwibGFzdEVycm9yIiwiYmVmb3JlTWV0cmljcyIsImxvZyIsImV4ZWN1dGVSZXRyeVN0cmF0ZWd5IiwiZXhlY3V0ZVJlY29ubmVjdFN0cmF0ZWd5IiwiZXhlY3V0ZUZhaWxvdmVyU3RyYXRlZ3kiLCJleGVjdXRlQ2lyY3VpdEJyZWFrZXJTdHJhdGVneSIsImV4ZWN1dGVHcmFjZWZ1bERlZ3JhZGF0aW9uU3RyYXRlZ3kiLCJleGVjdXRlRW1lcmdlbmN5U2h1dGRvd25TdHJhdGVneSIsIlN0cmluZyIsImFmdGVyTWV0cmljcyIsImR1cmF0aW9uIiwicmVzdWx0IiwidGltZXN0YW1wIiwic3RyYXRlZ3kiLCJhdHRlbXB0c0NvdW50IiwibWV0cmljcyIsImJlZm9yZVJlY292ZXJ5IiwiYWZ0ZXJSZWNvdmVyeSIsImFkZFJlY292ZXJ5UmVzdWx0IiwiaSIsImRlbGF5IiwiTWF0aCIsInBvdyIsInNsZWVwIiwiaXNIZWFsdGh5IiwicGVyZm9ybUhlYWx0aENoZWNrIiwiZGlzY29ubmVjdCIsImNvbm5lY3QiLCJwb29sT3B0aW1pemVyIiwicmVhc29uIiwiZ3JhY2VmdWxTaHV0ZG93biIsInNldEludGVydmFsIiwic3RvcEhlYWx0aENoZWNrIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVXaW5kb3dNcyIsImN1dG9mZlRpbWUiLCJmaWx0ZXIiLCJsZW5ndGgiLCJjcHVVc2FnZSIsInVzZXIiLCJzeXN0ZW0iLCJtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInB1c2giLCJzbGljZSIsImxpbWl0IiwiZXJyb3JzQnlUeXBlIiwidG90YWxFcnJvcnMiLCJBcnJheSIsImZyb20iLCJyZWR1Y2UiLCJzdW0iLCJjb3VudCIsInRvdGFsIiwic3VjY2Vzc2Z1bCIsInIiLCJmYWlsZWQiLCJzdHJhdGVnaWVzVXNlZCIsImF2Z1JlY292ZXJ5VGltZSIsInRvdGFsUmVjb3ZlcmllcyIsInN1Y2Nlc3NmdWxSZWNvdmVyaWVzIiwiZmFpbGVkUmVjb3ZlcmllcyIsInN1Y2Nlc3NSYXRlIiwiYXZlcmFnZVJlY292ZXJ5VGltZSIsInVwZGF0ZUNvbmZpZ3VyYXRpb24iLCJjbGVhckhpc3RvcnkiLCJjbGVhciIsImRlc3Ryb3kiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJkYXRhIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Q0FLQzs7Ozs7Ozs7Ozs7SUE4RVdBLG1CQUFtQjtlQUFuQkE7O0lBU0NDLHFCQUFxQjtlQUFyQkE7O0lBL0VEQyxTQUFTO2VBQVRBOztJQWVBQyxnQkFBZ0I7ZUFBaEJBOztJQTR3QlosYUFBYTtJQUNiLE9BQTRCO2VBQTVCOztJQTNCYUMsYUFBYTtlQUFiQTs7SUFtQkFDLGtCQUFrQjtlQUFsQkE7O0lBRUFDLGtCQUFrQjtlQUFsQkE7O0lBREFDLHFCQUFxQjtlQUFyQkE7O0lBRUFDLG1CQUFtQjtlQUFuQkE7O0lBQ0FDLDJCQUEyQjtlQUEzQkE7Ozt3QkE5eEJnQjtvQ0FDZTs0QkFDQTsrQkFDZDtBQUd2QixJQUFBLEFBQUtQLG1DQUFBQTs7Ozs7Ozs7Ozs7O1dBQUFBOztBQWVMLElBQUEsQUFBS0MsMENBQUFBOzs7Ozs7O1dBQUFBOztBQXVETCxJQUFBLEFBQUtILDZDQUFBQTs7OztXQUFBQTs7QUFTTCxNQUFNQyw4QkFBOEJTLG9CQUFZO0lBWXJEQyxZQUNFQyxNQUF1QyxFQUN2Q0MsaUJBQXlCLElBQUksQ0FDN0I7UUFDQSxLQUFLLFNBZkNDLGtCQUFvQyxFQUFF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