67c2d95e14d63bb441c82314b149ad0b
/**
 * AG-UI API路由错误处理测试
 * 测试AG-UI相关功能的各种错误场景
 */ "use strict";
// Mock dependencies
jest.mock('../../../lib/services/ag-ui-manager', ()=>({
        getAgentList: jest.fn(),
        getAgentDetails: jest.fn(),
        createAgent: jest.fn(),
        updateAgent: jest.fn(),
        deleteAgent: jest.fn(),
        validateAgentConfig: jest.fn(),
        checkAgentPermissions: jest.fn(),
        getAgentMetrics: jest.fn(),
        deployAgent: jest.fn(),
        testAgentConnection: jest.fn()
    }));
jest.mock('../../../lib/services/cad-analysis-service', ()=>({
        analyzeCADFile: jest.fn(),
        getAnalysisHistory: jest.fn(),
        validateCADFormat: jest.fn(),
        extractCADMetadata: jest.fn(),
        generateAnalysisReport: jest.fn()
    }));
jest.mock('../../../lib/services/chat-service', ()=>({
        initializeChat: jest.fn(),
        sendMessage: jest.fn(),
        getChatHistory: jest.fn(),
        validateChatSession: jest.fn(),
        endChatSession: jest.fn(),
        getChatMetrics: jest.fn()
    }));
jest.mock('../../../lib/services/compliance-service', ()=>({
        performComplianceAudit: jest.fn(),
        getComplianceReport: jest.fn(),
        validateComplianceRules: jest.fn(),
        updateComplianceConfig: jest.fn(),
        getComplianceHistory: jest.fn()
    }));
jest.mock('../../../lib/auth/session', ()=>({
        validateSession: jest.fn(),
        getUserPermissions: jest.fn(),
        checkAdminAccess: jest.fn()
    }));
jest.mock('../../../lib/storage/agent-store', ()=>({
        storeAgent: jest.fn(),
        getAgent: jest.fn(),
        updateAgent: jest.fn(),
        deleteAgent: jest.fn(),
        listAgents: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _server = require("next/server");
const _route = require("../../../app/api/ag-ui/route");
const _globalerrorhandler = require("../../../lib/middleware/global-error-handler");
describe('AG-UI API Error Handling', ()=>{
    let errorHandler;
    beforeEach(()=>{
        errorHandler = _globalerrorhandler.GlobalErrorHandler.getInstance();
        jest.clearAllMocks();
    });
    describe('GET /api/ag-ui - Get Agent List', ()=>{
        it('should handle agent service unavailable', async ()=>{
            const { getAgentList } = require('../../../lib/services/ag-ui-manager');
            getAgentList.mockRejectedValue(new Error('Agent service temporarily unavailable'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(503);
            expect(data.error.message).toContain('Agent service temporarily unavailable');
        });
        it('should handle invalid pagination parameters', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui?page=-1&limit=0');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(data.error.message).toContain('Invalid pagination parameters');
        });
        it('should handle agent list retrieval timeout', async ()=>{
            const { getAgentList } = require('../../../lib/services/ag-ui-manager');
            getAgentList.mockRejectedValue(new Error('Agent list retrieval timeout'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui?timeout=1000');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(504);
            expect(data.error.message).toContain('Agent list retrieval timeout');
        });
        it('should handle insufficient permissions for agent access', async ()=>{
            const { checkAgentPermissions } = require('../../../lib/services/ag-ui-manager');
            checkAgentPermissions.mockRejectedValue(new Error('Insufficient permissions to access agents'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                headers: {
                    'Authorization': 'Bearer limited-user-token'
                }
            });
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(403);
            expect(data.error.code).toBe('AUTHORIZATION_ERROR');
            expect(data.error.message).toContain('Insufficient permissions');
        });
        it('should handle agent storage corruption', async ()=>{
            const { listAgents } = require('../../../lib/storage/agent-store');
            listAgents.mockRejectedValue(new Error('Agent storage corruption detected'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(500);
            expect(data.error.message).toContain('Agent storage corruption detected');
        });
        it('should handle invalid filter parameters', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui?status=invalid&type=unknown');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(data.error.message).toContain('Invalid filter parameters');
        });
        it('should handle agent metrics calculation failure', async ()=>{
            const { getAgentMetrics } = require('../../../lib/services/ag-ui-manager');
            getAgentMetrics.mockRejectedValue(new Error('Failed to calculate agent metrics'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui?include_metrics=true');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(500);
            expect(data.error.message).toContain('Failed to calculate agent metrics');
        });
    });
    describe('POST /api/ag-ui - Create Agent', ()=>{
        let validAgentData;
        beforeEach(()=>{
            validAgentData = {
                name: 'Test Agent',
                type: 'chat',
                config: {
                    model: 'gpt-3.5-turbo',
                    temperature: 0.7,
                    maxTokens: 1000
                },
                description: 'Test agent for validation'
            };
        });
        it('should handle missing required agent fields', async ()=>{
            const invalidData = {
                ...validAgentData
            };
            delete invalidData.name;
            delete invalidData.type;
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify(invalidData),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(data.error.details).toContain('name');
            expect(data.error.details).toContain('type');
        });
        it('should handle invalid agent configuration', async ()=>{
            const { validateAgentConfig } = require('../../../lib/services/ag-ui-manager');
            validateAgentConfig.mockRejectedValue(new Error('Invalid agent configuration: temperature out of range'));
            const invalidConfigData = {
                ...validAgentData,
                config: {
                    ...validAgentData.config,
                    temperature: 2.5 // Invalid temperature
                }
            };
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify(invalidConfigData),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.error.message).toContain('Invalid agent configuration');
        });
        it('should handle unauthenticated agent creation', async ()=>{
            const { validateSession } = require('../../../lib/auth/session');
            validateSession.mockRejectedValue(new Error('Authentication required'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify(validAgentData),
                headers: {
                    'Content-Type': 'application/json'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(401);
            expect(data.error.code).toBe('AUTHENTICATION_ERROR');
            expect(data.error.message).toContain('Authentication required');
        });
        it('should handle agent creation permission denied', async ()=>{
            const { checkAgentPermissions } = require('../../../lib/services/ag-ui-manager');
            checkAgentPermissions.mockRejectedValue(new Error('Insufficient permissions to create agents'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify(validAgentData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer limited-user-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(403);
            expect(data.error.code).toBe('AUTHORIZATION_ERROR');
            expect(data.error.message).toContain('Insufficient permissions');
        });
        it('should handle duplicate agent name', async ()=>{
            const { createAgent } = require('../../../lib/services/ag-ui-manager');
            createAgent.mockRejectedValue(new Error('Agent with this name already exists'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify({
                    ...validAgentData,
                    name: 'Existing Agent'
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(409);
            expect(data.error.code).toBe('CONFLICT');
            expect(data.error.message).toContain('Agent with this name already exists');
        });
        it('should handle agent storage failure', async ()=>{
            const { storeAgent } = require('../../../lib/storage/agent-store');
            storeAgent.mockRejectedValue(new Error('Failed to store agent: database write error'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify(validAgentData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(500);
            expect(data.error.message).toContain('Failed to store agent');
        });
        it('should handle agent deployment failure', async ()=>{
            const { deployAgent } = require('../../../lib/services/ag-ui-manager');
            deployAgent.mockRejectedValue(new Error('Failed to deploy agent: service unavailable'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify({
                    ...validAgentData,
                    deploy: true
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(500);
            expect(data.error.message).toContain('Failed to deploy agent');
        });
        it('should handle invalid agent type', async ()=>{
            const invalidTypeData = {
                ...validAgentData,
                type: 'invalid-type'
            };
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify(invalidTypeData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(data.error.message).toContain('Invalid agent type');
        });
        it('should handle malformed JSON in request body', async ()=>{
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: '{invalid json}',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.error.code).toBe('VALIDATION_ERROR');
            expect(data.error.message).toContain('Invalid JSON');
        });
        it('should handle agent configuration validation timeout', async ()=>{
            const { validateAgentConfig } = require('../../../lib/services/ag-ui-manager');
            validateAgentConfig.mockRejectedValue(new Error('Agent configuration validation timeout'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify(validAgentData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(504);
            expect(data.error.message).toContain('Agent configuration validation timeout');
        });
    });
    describe('PUT /api/ag-ui - Update Agent', ()=>{
        it('should handle agent not found for update', async ()=>{
            const { getAgent } = require('../../../lib/storage/agent-store');
            getAgent.mockRejectedValue(new Error('Agent not found'));
            const updateData = {
                id: 'nonexistent-agent',
                name: 'Updated Agent'
            };
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'PUT',
                body: JSON.stringify(updateData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(404);
            expect(data.error.code).toBe('NOT_FOUND');
            expect(data.error.message).toContain('Agent not found');
        });
        it('should handle concurrent agent update conflict', async ()=>{
            const { updateAgent } = require('../../../lib/services/ag-ui-manager');
            updateAgent.mockRejectedValue(new Error('Concurrent update detected: agent modified by another user'));
            const updateData = {
                id: 'agent-123',
                name: 'Updated Agent',
                version: 1
            };
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'PUT',
                body: JSON.stringify(updateData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(409);
            expect(data.error.code).toBe('CONFLICT');
            expect(data.error.message).toContain('Concurrent update detected');
        });
        it('should handle agent update permission denied', async ()=>{
            const { checkAgentPermissions } = require('../../../lib/services/ag-ui-manager');
            checkAgentPermissions.mockRejectedValue(new Error('Insufficient permissions to update this agent'));
            const updateData = {
                id: 'agent-123',
                name: 'Updated Agent'
            };
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'PUT',
                body: JSON.stringify(updateData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer limited-user-token'
                }
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(403);
            expect(data.error.code).toBe('AUTHORIZATION_ERROR');
            expect(data.error.message).toContain('Insufficient permissions');
        });
        it('should handle agent in use during update', async ()=>{
            const { updateAgent } = require('../../../lib/services/ag-ui-manager');
            updateAgent.mockRejectedValue(new Error('Cannot update agent: currently in use by active sessions'));
            const updateData = {
                id: 'active-agent-123',
                config: {
                    temperature: 0.8
                }
            };
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'PUT',
                body: JSON.stringify(updateData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.PUT)(request);
            const data = await response.json();
            expect(response.status).toBe(409);
            expect(data.error.message).toContain('Cannot update agent: currently in use');
        });
    });
    describe('DELETE /api/ag-ui - Delete Agent', ()=>{
        it('should handle agent not found for deletion', async ()=>{
            const { getAgent } = require('../../../lib/storage/agent-store');
            getAgent.mockRejectedValue(new Error('Agent not found'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui?id=nonexistent-agent', {
                method: 'DELETE',
                headers: {
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.DELETE)(request);
            const data = await response.json();
            expect(response.status).toBe(404);
            expect(data.error.code).toBe('NOT_FOUND');
            expect(data.error.message).toContain('Agent not found');
        });
        it('should handle agent deletion permission denied', async ()=>{
            const { checkAgentPermissions } = require('../../../lib/services/ag-ui-manager');
            checkAgentPermissions.mockRejectedValue(new Error('Insufficient permissions to delete agents'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui?id=agent-123', {
                method: 'DELETE',
                headers: {
                    'Authorization': 'Bearer limited-user-token'
                }
            });
            const response = await (0, _route.DELETE)(request);
            const data = await response.json();
            expect(response.status).toBe(403);
            expect(data.error.code).toBe('AUTHORIZATION_ERROR');
            expect(data.error.message).toContain('Insufficient permissions');
        });
        it('should handle agent with active dependencies', async ()=>{
            const { deleteAgent } = require('../../../lib/services/ag-ui-manager');
            deleteAgent.mockRejectedValue(new Error('Cannot delete agent: has active dependencies'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui?id=agent-with-deps', {
                method: 'DELETE',
                headers: {
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.DELETE)(request);
            const data = await response.json();
            expect(response.status).toBe(409);
            expect(data.error.message).toContain('Cannot delete agent: has active dependencies');
        });
        it('should handle agent deletion storage failure', async ()=>{
            const { deleteAgent } = require('../../../lib/storage/agent-store');
            deleteAgent.mockRejectedValue(new Error('Failed to delete agent: storage error'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui?id=agent-123', {
                method: 'DELETE',
                headers: {
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.DELETE)(request);
            const data = await response.json();
            expect(response.status).toBe(500);
            expect(data.error.message).toContain('Failed to delete agent');
        });
    });
    describe('CAD Analysis API Error Handling', ()=>{
        it('should handle CAD file upload failure', async ()=>{
            const { analyzeCADFile } = require('../../../lib/services/cad-analysis-service');
            analyzeCADFile.mockRejectedValue(new Error('CAD file upload failed: file too large'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/cad-analysis', {
                method: 'POST',
                body: JSON.stringify({
                    file: 'large-cad-file.dwg'
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer user-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(413);
            expect(data.error.message).toContain('CAD file upload failed: file too large');
        });
        it('should handle unsupported CAD format', async ()=>{
            const { validateCADFormat } = require('../../../lib/services/cad-analysis-service');
            validateCADFormat.mockRejectedValue(new Error('Unsupported CAD format: .xyz'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/cad-analysis', {
                method: 'POST',
                body: JSON.stringify({
                    file: 'unsupported.xyz'
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer user-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(415);
            expect(data.error.message).toContain('Unsupported CAD format');
        });
        it('should handle CAD analysis timeout', async ()=>{
            const { analyzeCADFile } = require('../../../lib/services/cad-analysis-service');
            analyzeCADFile.mockRejectedValue(new Error('CAD analysis timeout: file too complex'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/cad-analysis', {
                method: 'POST',
                body: JSON.stringify({
                    file: 'complex-model.dwg',
                    timeout: 30000
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer user-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(504);
            expect(data.error.message).toContain('CAD analysis timeout');
        });
        it('should handle corrupted CAD file', async ()=>{
            const { extractCADMetadata } = require('../../../lib/services/cad-analysis-service');
            extractCADMetadata.mockRejectedValue(new Error('CAD file corruption detected'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/cad-analysis', {
                method: 'POST',
                body: JSON.stringify({
                    file: 'corrupted.dwg'
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer user-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(422);
            expect(data.error.message).toContain('CAD file corruption detected');
        });
    });
    describe('Chat API Error Handling', ()=>{
        it('should handle chat session initialization failure', async ()=>{
            const { initializeChat } = require('../../../lib/services/chat-service');
            initializeChat.mockRejectedValue(new Error('Failed to initialize chat session'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/chat', {
                method: 'POST',
                body: JSON.stringify({
                    agentId: 'agent-123'
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer user-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(500);
            expect(data.error.message).toContain('Failed to initialize chat session');
        });
        it('should handle invalid chat session', async ()=>{
            const { validateChatSession } = require('../../../lib/services/chat-service');
            validateChatSession.mockRejectedValue(new Error('Invalid or expired chat session'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/chat', {
                method: 'POST',
                body: JSON.stringify({
                    sessionId: 'invalid-session',
                    message: 'Hello'
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer user-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(401);
            expect(data.error.message).toContain('Invalid or expired chat session');
        });
        it('should handle chat message rate limit', async ()=>{
            const { sendMessage } = require('../../../lib/services/chat-service');
            sendMessage.mockRejectedValue(new Error('Chat rate limit exceeded'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/chat', {
                method: 'POST',
                body: JSON.stringify({
                    sessionId: 'session-123',
                    message: 'Rapid message'
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer user-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(429);
            expect(data.error.code).toBe('RATE_LIMIT_ERROR');
            expect(data.error.message).toContain('Chat rate limit exceeded');
        });
        it('should handle chat service unavailable', async ()=>{
            const { sendMessage } = require('../../../lib/services/chat-service');
            sendMessage.mockRejectedValue(new Error('Chat service temporarily unavailable'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/chat', {
                method: 'POST',
                body: JSON.stringify({
                    sessionId: 'session-123',
                    message: 'Hello'
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer user-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(503);
            expect(data.error.message).toContain('Chat service temporarily unavailable');
        });
    });
    describe('Compliance API Error Handling', ()=>{
        it('should handle compliance audit failure', async ()=>{
            const { performComplianceAudit } = require('../../../lib/services/compliance-service');
            performComplianceAudit.mockRejectedValue(new Error('Compliance audit failed: missing required data'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/compliance/audit', {
                method: 'POST',
                body: JSON.stringify({
                    auditType: 'security'
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(422);
            expect(data.error.message).toContain('Compliance audit failed');
        });
        it('should handle invalid compliance rules', async ()=>{
            const { validateComplianceRules } = require('../../../lib/services/compliance-service');
            validateComplianceRules.mockRejectedValue(new Error('Invalid compliance rules configuration'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/compliance/audit', {
                method: 'POST',
                body: JSON.stringify({
                    rules: 'invalid-rules'
                }),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(response.status).toBe(400);
            expect(data.error.message).toContain('Invalid compliance rules configuration');
        });
        it('should handle compliance report generation timeout', async ()=>{
            const { getComplianceReport } = require('../../../lib/services/compliance-service');
            getComplianceReport.mockRejectedValue(new Error('Compliance report generation timeout'));
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui/compliance/audit?reportId=report-123');
            const response = await (0, _route.GET)(request);
            const data = await response.json();
            expect(response.status).toBe(504);
            expect(data.error.message).toContain('Compliance report generation timeout');
        });
    });
    describe('Error Recovery and Monitoring', ()=>{
        it('should provide AG-UI operation recovery suggestions', async ()=>{
            const { createAgent } = require('../../../lib/services/ag-ui-manager');
            createAgent.mockRejectedValue(new Error('Temporary AG-UI service outage'));
            const validAgentData = {
                name: 'Test Agent',
                type: 'chat',
                config: {
                    model: 'gpt-3.5-turbo'
                }
            };
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify(validAgentData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(data.error.recovery).toBeDefined();
            expect(data.error.recovery.suggestions).toContain('Retry agent creation');
        });
        it('should track AG-UI operation performance', async ()=>{
            const { createAgent } = require('../../../lib/services/ag-ui-manager');
            createAgent.mockRejectedValue(new Error('Test error'));
            const validAgentData = {
                name: 'Test Agent',
                type: 'chat'
            };
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify(validAgentData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            await (0, _route.POST)(request);
            const stats = errorHandler.getErrorStats();
            expect(stats.agUiErrorCount).toBeGreaterThan(0);
        });
        it('should include AG-UI context in error responses', async ()=>{
            const { createAgent } = require('../../../lib/services/ag-ui-manager');
            createAgent.mockRejectedValue(new Error('Test error'));
            const validAgentData = {
                name: 'Test Agent',
                type: 'chat'
            };
            const request = new _server.NextRequest('http://localhost:3000/api/ag-ui', {
                method: 'POST',
                body: JSON.stringify(validAgentData),
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer admin-token'
                }
            });
            const response = await (0, _route.POST)(request);
            const data = await response.json();
            expect(data.error.context).toBeDefined();
            expect(data.error.context.operation).toBe('createAgent');
            expect(data.error.context.agentName).toBe('Test Agent');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6XFx6ay1hZ2VudFxcdGVzdHNcXGFwaVxccm91dGVzXFxhZy11aS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQUctVUkgQVBJ6Lev55Sx6ZSZ6K+v5aSE55CG5rWL6K+VXG4gKiDmtYvor5VBRy1VSeebuOWFs+WKn+iDveeahOWQhOenjemUmeivr+WcuuaZr1xuICovXG5cbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgR0VULCBQT1NULCBQVVQsIERFTEVURSB9IGZyb20gJ0AvYXBwL2FwaS9hZy11aS9yb3V0ZSc7XG5pbXBvcnQgeyBHbG9iYWxFcnJvckhhbmRsZXIgfSBmcm9tICdAL2xpYi9taWRkbGV3YXJlL2dsb2JhbC1lcnJvci1oYW5kbGVyJztcbmltcG9ydCB7IEFnZW50RXJyb3IsIEFnZW50RXJyb3JUeXBlLCBFcnJvclNldmVyaXR5IH0gZnJvbSAnQC9saWIvZXJyb3JzL2FnZW50LWVycm9ycyc7XG5cbi8vIE1vY2sgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9hZy11aS1tYW5hZ2VyJywgKCkgPT4gKHtcbiAgZ2V0QWdlbnRMaXN0OiBqZXN0LmZuKCksXG4gIGdldEFnZW50RGV0YWlsczogamVzdC5mbigpLFxuICBjcmVhdGVBZ2VudDogamVzdC5mbigpLFxuICB1cGRhdGVBZ2VudDogamVzdC5mbigpLFxuICBkZWxldGVBZ2VudDogamVzdC5mbigpLFxuICB2YWxpZGF0ZUFnZW50Q29uZmlnOiBqZXN0LmZuKCksXG4gIGNoZWNrQWdlbnRQZXJtaXNzaW9uczogamVzdC5mbigpLFxuICBnZXRBZ2VudE1ldHJpY3M6IGplc3QuZm4oKSxcbiAgZGVwbG95QWdlbnQ6IGplc3QuZm4oKSxcbiAgdGVzdEFnZW50Q29ubmVjdGlvbjogamVzdC5mbigpXG59KSk7XG5cbmplc3QubW9jaygnLi4vLi4vLi4vbGliL3NlcnZpY2VzL2NhZC1hbmFseXNpcy1zZXJ2aWNlJywgKCkgPT4gKHtcbiAgYW5hbHl6ZUNBREZpbGU6IGplc3QuZm4oKSxcbiAgZ2V0QW5hbHlzaXNIaXN0b3J5OiBqZXN0LmZuKCksXG4gIHZhbGlkYXRlQ0FERm9ybWF0OiBqZXN0LmZuKCksXG4gIGV4dHJhY3RDQURNZXRhZGF0YTogamVzdC5mbigpLFxuICBnZW5lcmF0ZUFuYWx5c2lzUmVwb3J0OiBqZXN0LmZuKClcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi8uLi9saWIvc2VydmljZXMvY2hhdC1zZXJ2aWNlJywgKCkgPT4gKHtcbiAgaW5pdGlhbGl6ZUNoYXQ6IGplc3QuZm4oKSxcbiAgc2VuZE1lc3NhZ2U6IGplc3QuZm4oKSxcbiAgZ2V0Q2hhdEhpc3Rvcnk6IGplc3QuZm4oKSxcbiAgdmFsaWRhdGVDaGF0U2Vzc2lvbjogamVzdC5mbigpLFxuICBlbmRDaGF0U2Vzc2lvbjogamVzdC5mbigpLFxuICBnZXRDaGF0TWV0cmljczogamVzdC5mbigpXG59KSk7XG5cbmplc3QubW9jaygnLi4vLi4vLi4vbGliL3NlcnZpY2VzL2NvbXBsaWFuY2Utc2VydmljZScsICgpID0+ICh7XG4gIHBlcmZvcm1Db21wbGlhbmNlQXVkaXQ6IGplc3QuZm4oKSxcbiAgZ2V0Q29tcGxpYW5jZVJlcG9ydDogamVzdC5mbigpLFxuICB2YWxpZGF0ZUNvbXBsaWFuY2VSdWxlczogamVzdC5mbigpLFxuICB1cGRhdGVDb21wbGlhbmNlQ29uZmlnOiBqZXN0LmZuKCksXG4gIGdldENvbXBsaWFuY2VIaXN0b3J5OiBqZXN0LmZuKClcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi8uLi9saWIvYXV0aC9zZXNzaW9uJywgKCkgPT4gKHtcbiAgdmFsaWRhdGVTZXNzaW9uOiBqZXN0LmZuKCksXG4gIGdldFVzZXJQZXJtaXNzaW9uczogamVzdC5mbigpLFxuICBjaGVja0FkbWluQWNjZXNzOiBqZXN0LmZuKClcbn0pKTtcblxuamVzdC5tb2NrKCcuLi8uLi8uLi9saWIvc3RvcmFnZS9hZ2VudC1zdG9yZScsICgpID0+ICh7XG4gIHN0b3JlQWdlbnQ6IGplc3QuZm4oKSxcbiAgZ2V0QWdlbnQ6IGplc3QuZm4oKSxcbiAgdXBkYXRlQWdlbnQ6IGplc3QuZm4oKSxcbiAgZGVsZXRlQWdlbnQ6IGplc3QuZm4oKSxcbiAgbGlzdEFnZW50czogamVzdC5mbigpXG59KSk7XG5cbmRlc2NyaWJlKCdBRy1VSSBBUEkgRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gIGxldCBlcnJvckhhbmRsZXI6IEdsb2JhbEVycm9ySGFuZGxlcjtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBlcnJvckhhbmRsZXIgPSBHbG9iYWxFcnJvckhhbmRsZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2FnLXVpIC0gR2V0IEFnZW50IExpc3QnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWdlbnQgc2VydmljZSB1bmF2YWlsYWJsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QWdlbnRMaXN0IH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvc2VydmljZXMvYWctdWktbWFuYWdlcicpO1xuICAgICAgZ2V0QWdlbnRMaXN0Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQWdlbnQgc2VydmljZSB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZScpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aScpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0FnZW50IHNlcnZpY2UgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgcGFnaW5hdGlvbiBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aT9wYWdlPS0xJmxpbWl0PTAnKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdJbnZhbGlkIHBhZ2luYXRpb24gcGFyYW1ldGVycycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWdlbnQgbGlzdCByZXRyaWV2YWwgdGltZW91dCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QWdlbnRMaXN0IH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvc2VydmljZXMvYWctdWktbWFuYWdlcicpO1xuICAgICAgZ2V0QWdlbnRMaXN0Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQWdlbnQgbGlzdCByZXRyaWV2YWwgdGltZW91dCcpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aT90aW1lb3V0PTEwMDAnKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDQpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdBZ2VudCBsaXN0IHJldHJpZXZhbCB0aW1lb3V0Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMgZm9yIGFnZW50IGFjY2VzcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgY2hlY2tBZ2VudFBlcm1pc3Npb25zIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvc2VydmljZXMvYWctdWktbWFuYWdlcicpO1xuICAgICAgY2hlY2tBZ2VudFBlcm1pc3Npb25zLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zIHRvIGFjY2VzcyBhZ2VudHMnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWknLCB7XG4gICAgICAgIGhlYWRlcnM6IHsgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyIGxpbWl0ZWQtdXNlci10b2tlbicgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDMpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnQVVUSE9SSVpBVElPTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdJbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFnZW50IHN0b3JhZ2UgY29ycnVwdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgbGlzdEFnZW50cyB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL3N0b3JhZ2UvYWdlbnQtc3RvcmUnKTtcbiAgICAgIGxpc3RBZ2VudHMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdBZ2VudCBzdG9yYWdlIGNvcnJ1cHRpb24gZGV0ZWN0ZWQnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWknKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdBZ2VudCBzdG9yYWdlIGNvcnJ1cHRpb24gZGV0ZWN0ZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgZmlsdGVyIHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpP3N0YXR1cz1pbnZhbGlkJnR5cGU9dW5rbm93bicpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0ludmFsaWQgZmlsdGVyIHBhcmFtZXRlcnMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFnZW50IG1ldHJpY3MgY2FsY3VsYXRpb24gZmFpbHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QWdlbnRNZXRyaWNzIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvc2VydmljZXMvYWctdWktbWFuYWdlcicpO1xuICAgICAgZ2V0QWdlbnRNZXRyaWNzLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRmFpbGVkIHRvIGNhbGN1bGF0ZSBhZ2VudCBtZXRyaWNzJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpP2luY2x1ZGVfbWV0cmljcz10cnVlJyk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignRmFpbGVkIHRvIGNhbGN1bGF0ZSBhZ2VudCBtZXRyaWNzJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQT1NUIC9hcGkvYWctdWkgLSBDcmVhdGUgQWdlbnQnLCAoKSA9PiB7XG4gICAgbGV0IHZhbGlkQWdlbnREYXRhOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHZhbGlkQWdlbnREYXRhID0ge1xuICAgICAgICBuYW1lOiAnVGVzdCBBZ2VudCcsXG4gICAgICAgIHR5cGU6ICdjaGF0JyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbW9kZWw6ICdncHQtMy41LXR1cmJvJyxcbiAgICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgICAgIG1heFRva2VuczogMTAwMFxuICAgICAgICB9LFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgYWdlbnQgZm9yIHZhbGlkYXRpb24nXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyByZXF1aXJlZCBhZ2VudCBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkRGF0YSA9IHsgLi4udmFsaWRBZ2VudERhdGEgfTtcbiAgICAgIGRlbGV0ZSBpbnZhbGlkRGF0YS5uYW1lO1xuICAgICAgZGVsZXRlIGludmFsaWREYXRhLnR5cGU7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWknLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbnZhbGlkRGF0YSksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnVkFMSURBVElPTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuZGV0YWlscykudG9Db250YWluKCduYW1lJyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5kZXRhaWxzKS50b0NvbnRhaW4oJ3R5cGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGludmFsaWQgYWdlbnQgY29uZmlndXJhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdmFsaWRhdGVBZ2VudENvbmZpZyB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL3NlcnZpY2VzL2FnLXVpLW1hbmFnZXInKTtcbiAgICAgIHZhbGlkYXRlQWdlbnRDb25maWcubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdJbnZhbGlkIGFnZW50IGNvbmZpZ3VyYXRpb246IHRlbXBlcmF0dXJlIG91dCBvZiByYW5nZScpKTtcblxuICAgICAgY29uc3QgaW52YWxpZENvbmZpZ0RhdGEgPSB7XG4gICAgICAgIC4uLnZhbGlkQWdlbnREYXRhLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAuLi52YWxpZEFnZW50RGF0YS5jb25maWcsXG4gICAgICAgICAgdGVtcGVyYXR1cmU6IDIuNSAvLyBJbnZhbGlkIHRlbXBlcmF0dXJlXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWknLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbnZhbGlkQ29uZmlnRGF0YSksXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdJbnZhbGlkIGFnZW50IGNvbmZpZ3VyYXRpb24nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVuYXV0aGVudGljYXRlZCBhZ2VudCBjcmVhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdmFsaWRhdGVTZXNzaW9uIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvYXV0aC9zZXNzaW9uJyk7XG4gICAgICB2YWxpZGF0ZVNlc3Npb24ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHZhbGlkQWdlbnREYXRhKSxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdBVVRIRU5USUNBVElPTl9FUlJPUicpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWdlbnQgY3JlYXRpb24gcGVybWlzc2lvbiBkZW5pZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGNoZWNrQWdlbnRQZXJtaXNzaW9ucyB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL3NlcnZpY2VzL2FnLXVpLW1hbmFnZXInKTtcbiAgICAgIGNoZWNrQWdlbnRQZXJtaXNzaW9ucy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0luc3VmZmljaWVudCBwZXJtaXNzaW9ucyB0byBjcmVhdGUgYWdlbnRzJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodmFsaWRBZ2VudERhdGEpLFxuICAgICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyIGxpbWl0ZWQtdXNlci10b2tlbidcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAzKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ0FVVEhPUklaQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkdXBsaWNhdGUgYWdlbnQgbmFtZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgY3JlYXRlQWdlbnQgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9hZy11aS1tYW5hZ2VyJyk7XG4gICAgICBjcmVhdGVBZ2VudC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0FnZW50IHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyAuLi52YWxpZEFnZW50RGF0YSwgbmFtZTogJ0V4aXN0aW5nIEFnZW50JyB9KSxcbiAgICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciBhZG1pbi10b2tlbidcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDA5KTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ0NPTkZMSUNUJyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0FnZW50IHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhZ2VudCBzdG9yYWdlIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHN0b3JlQWdlbnQgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zdG9yYWdlL2FnZW50LXN0b3JlJyk7XG4gICAgICBzdG9yZUFnZW50Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRmFpbGVkIHRvIHN0b3JlIGFnZW50OiBkYXRhYmFzZSB3cml0ZSBlcnJvcicpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHZhbGlkQWdlbnREYXRhKSxcbiAgICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciBhZG1pbi10b2tlbidcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignRmFpbGVkIHRvIHN0b3JlIGFnZW50Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhZ2VudCBkZXBsb3ltZW50IGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGRlcGxveUFnZW50IH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvc2VydmljZXMvYWctdWktbWFuYWdlcicpO1xuICAgICAgZGVwbG95QWdlbnQubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdGYWlsZWQgdG8gZGVwbG95IGFnZW50OiBzZXJ2aWNlIHVuYXZhaWxhYmxlJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyAuLi52YWxpZEFnZW50RGF0YSwgZGVwbG95OiB0cnVlIH0pLFxuICAgICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyIGFkbWluLXRva2VuJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdGYWlsZWQgdG8gZGVwbG95IGFnZW50Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIGFnZW50IHR5cGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkVHlwZURhdGEgPSB7XG4gICAgICAgIC4uLnZhbGlkQWdlbnREYXRhLFxuICAgICAgICB0eXBlOiAnaW52YWxpZC10eXBlJ1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGludmFsaWRUeXBlRGF0YSksXG4gICAgICAgIGhlYWRlcnM6IHsgXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgYWRtaW4tdG9rZW4nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0ludmFsaWQgYWdlbnQgdHlwZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWFsZm9ybWVkIEpTT04gaW4gcmVxdWVzdCBib2R5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6ICd7aW52YWxpZCBqc29ufScsXG4gICAgICAgIGhlYWRlcnM6IHsgXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgYWRtaW4tdG9rZW4nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdWQUxJREFUSU9OX0VSUk9SJyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0ludmFsaWQgSlNPTicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWdlbnQgY29uZmlndXJhdGlvbiB2YWxpZGF0aW9uIHRpbWVvdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHZhbGlkYXRlQWdlbnRDb25maWcgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9hZy11aS1tYW5hZ2VyJyk7XG4gICAgICB2YWxpZGF0ZUFnZW50Q29uZmlnLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQWdlbnQgY29uZmlndXJhdGlvbiB2YWxpZGF0aW9uIHRpbWVvdXQnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWknLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh2YWxpZEFnZW50RGF0YSksXG4gICAgICAgIGhlYWRlcnM6IHsgXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgYWRtaW4tdG9rZW4nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwNCk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0FnZW50IGNvbmZpZ3VyYXRpb24gdmFsaWRhdGlvbiB0aW1lb3V0Jyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQVVQgL2FwaS9hZy11aSAtIFVwZGF0ZSBBZ2VudCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhZ2VudCBub3QgZm91bmQgZm9yIHVwZGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgZ2V0QWdlbnQgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zdG9yYWdlL2FnZW50LXN0b3JlJyk7XG4gICAgICBnZXRBZ2VudC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0FnZW50IG5vdCBmb3VuZCcpKTtcblxuICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHtcbiAgICAgICAgaWQ6ICdub25leGlzdGVudC1hZ2VudCcsXG4gICAgICAgIG5hbWU6ICdVcGRhdGVkIEFnZW50J1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlRGF0YSksXG4gICAgICAgIGhlYWRlcnM6IHsgXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgYWRtaW4tdG9rZW4nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBVVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDA0KTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ05PVF9GT1VORCcpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdBZ2VudCBub3QgZm91bmQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgYWdlbnQgdXBkYXRlIGNvbmZsaWN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyB1cGRhdGVBZ2VudCB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL3NlcnZpY2VzL2FnLXVpLW1hbmFnZXInKTtcbiAgICAgIHVwZGF0ZUFnZW50Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ29uY3VycmVudCB1cGRhdGUgZGV0ZWN0ZWQ6IGFnZW50IG1vZGlmaWVkIGJ5IGFub3RoZXIgdXNlcicpKTtcblxuICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHtcbiAgICAgICAgaWQ6ICdhZ2VudC0xMjMnLFxuICAgICAgICBuYW1lOiAnVXBkYXRlZCBBZ2VudCcsXG4gICAgICAgIHZlcnNpb246IDFcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWknLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZURhdGEpLFxuICAgICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyIGFkbWluLXRva2VuJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQVVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwOSk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdDT05GTElDVCcpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdDb25jdXJyZW50IHVwZGF0ZSBkZXRlY3RlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWdlbnQgdXBkYXRlIHBlcm1pc3Npb24gZGVuaWVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBjaGVja0FnZW50UGVybWlzc2lvbnMgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9hZy11aS1tYW5hZ2VyJyk7XG4gICAgICBjaGVja0FnZW50UGVybWlzc2lvbnMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdJbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMgdG8gdXBkYXRlIHRoaXMgYWdlbnQnKSk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICAgIGlkOiAnYWdlbnQtMTIzJyxcbiAgICAgICAgbmFtZTogJ1VwZGF0ZWQgQWdlbnQnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpJywge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGVEYXRhKSxcbiAgICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciBsaW1pdGVkLXVzZXItdG9rZW4nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBVVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAzKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvZGUpLnRvQmUoJ0FVVEhPUklaQVRJT05fRVJST1InKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhZ2VudCBpbiB1c2UgZHVyaW5nIHVwZGF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdXBkYXRlQWdlbnQgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9hZy11aS1tYW5hZ2VyJyk7XG4gICAgICB1cGRhdGVBZ2VudC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0Nhbm5vdCB1cGRhdGUgYWdlbnQ6IGN1cnJlbnRseSBpbiB1c2UgYnkgYWN0aXZlIHNlc3Npb25zJykpO1xuXG4gICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xuICAgICAgICBpZDogJ2FjdGl2ZS1hZ2VudC0xMjMnLFxuICAgICAgICBjb25maWc6IHsgdGVtcGVyYXR1cmU6IDAuOCB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpJywge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGVEYXRhKSxcbiAgICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciBhZG1pbi10b2tlbidcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUFVUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDkpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdDYW5ub3QgdXBkYXRlIGFnZW50OiBjdXJyZW50bHkgaW4gdXNlJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdERUxFVEUgL2FwaS9hZy11aSAtIERlbGV0ZSBBZ2VudCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBhZ2VudCBub3QgZm91bmQgZm9yIGRlbGV0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRBZ2VudCB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL3N0b3JhZ2UvYWdlbnQtc3RvcmUnKTtcbiAgICAgIGdldEFnZW50Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQWdlbnQgbm90IGZvdW5kJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpP2lkPW5vbmV4aXN0ZW50LWFnZW50Jywge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciBhZG1pbi10b2tlbicgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgREVMRVRFKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDQpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnTk9UX0ZPVU5EJyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0FnZW50IG5vdCBmb3VuZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWdlbnQgZGVsZXRpb24gcGVybWlzc2lvbiBkZW5pZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGNoZWNrQWdlbnRQZXJtaXNzaW9ucyB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL3NlcnZpY2VzL2FnLXVpLW1hbmFnZXInKTtcbiAgICAgIGNoZWNrQWdlbnRQZXJtaXNzaW9ucy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0luc3VmZmljaWVudCBwZXJtaXNzaW9ucyB0byBkZWxldGUgYWdlbnRzJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpP2lkPWFnZW50LTEyMycsIHtcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgaGVhZGVyczogeyAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgbGltaXRlZC11c2VyLXRva2VuJyB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBERUxFVEUocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb2RlKS50b0JlKCdBVVRIT1JJWkFUSU9OX0VSUk9SJyk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0luc3VmZmljaWVudCBwZXJtaXNzaW9ucycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWdlbnQgd2l0aCBhY3RpdmUgZGVwZW5kZW5jaWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBkZWxldGVBZ2VudCB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL3NlcnZpY2VzL2FnLXVpLW1hbmFnZXInKTtcbiAgICAgIGRlbGV0ZUFnZW50Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ2Fubm90IGRlbGV0ZSBhZ2VudDogaGFzIGFjdGl2ZSBkZXBlbmRlbmNpZXMnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWk/aWQ9YWdlbnQtd2l0aC1kZXBzJywge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBoZWFkZXJzOiB7ICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciBhZG1pbi10b2tlbicgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgREVMRVRFKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDkpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdDYW5ub3QgZGVsZXRlIGFnZW50OiBoYXMgYWN0aXZlIGRlcGVuZGVuY2llcycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWdlbnQgZGVsZXRpb24gc3RvcmFnZSBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBkZWxldGVBZ2VudCB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL3N0b3JhZ2UvYWdlbnQtc3RvcmUnKTtcbiAgICAgIGRlbGV0ZUFnZW50Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRmFpbGVkIHRvIGRlbGV0ZSBhZ2VudDogc3RvcmFnZSBlcnJvcicpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aT9pZD1hZ2VudC0xMjMnLCB7XG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyIGFkbWluLXRva2VuJyB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBERUxFVEUocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0ZhaWxlZCB0byBkZWxldGUgYWdlbnQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NBRCBBbmFseXNpcyBBUEkgRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQ0FEIGZpbGUgdXBsb2FkIGZhaWx1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGFuYWx5emVDQURGaWxlIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvc2VydmljZXMvY2FkLWFuYWx5c2lzLXNlcnZpY2UnKTtcbiAgICAgIGFuYWx5emVDQURGaWxlLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ0FEIGZpbGUgdXBsb2FkIGZhaWxlZDogZmlsZSB0b28gbGFyZ2UnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWkvY2FkLWFuYWx5c2lzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBmaWxlOiAnbGFyZ2UtY2FkLWZpbGUuZHdnJyB9KSxcbiAgICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciB1c2VyLXRva2VuJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MTMpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdDQUQgZmlsZSB1cGxvYWQgZmFpbGVkOiBmaWxlIHRvbyBsYXJnZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5zdXBwb3J0ZWQgQ0FEIGZvcm1hdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdmFsaWRhdGVDQURGb3JtYXQgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9jYWQtYW5hbHlzaXMtc2VydmljZScpO1xuICAgICAgdmFsaWRhdGVDQURGb3JtYXQubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdVbnN1cHBvcnRlZCBDQUQgZm9ybWF0OiAueHl6JykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpL2NhZC1hbmFseXNpcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZmlsZTogJ3Vuc3VwcG9ydGVkLnh5eicgfSksXG4gICAgICAgIGhlYWRlcnM6IHsgXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgdXNlci10b2tlbidcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDE1KTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignVW5zdXBwb3J0ZWQgQ0FEIGZvcm1hdCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQ0FEIGFuYWx5c2lzIHRpbWVvdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGFuYWx5emVDQURGaWxlIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvc2VydmljZXMvY2FkLWFuYWx5c2lzLXNlcnZpY2UnKTtcbiAgICAgIGFuYWx5emVDQURGaWxlLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ0FEIGFuYWx5c2lzIHRpbWVvdXQ6IGZpbGUgdG9vIGNvbXBsZXgnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWkvY2FkLWFuYWx5c2lzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBmaWxlOiAnY29tcGxleC1tb2RlbC5kd2cnLCB0aW1lb3V0OiAzMDAwMCB9KSxcbiAgICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciB1c2VyLXRva2VuJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDQpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdDQUQgYW5hbHlzaXMgdGltZW91dCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29ycnVwdGVkIENBRCBmaWxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBleHRyYWN0Q0FETWV0YWRhdGEgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9jYWQtYW5hbHlzaXMtc2VydmljZScpO1xuICAgICAgZXh0cmFjdENBRE1ldGFkYXRhLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ0FEIGZpbGUgY29ycnVwdGlvbiBkZXRlY3RlZCcpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aS9jYWQtYW5hbHlzaXMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGZpbGU6ICdjb3JydXB0ZWQuZHdnJyB9KSxcbiAgICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciB1c2VyLXRva2VuJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MjIpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdDQUQgZmlsZSBjb3JydXB0aW9uIGRldGVjdGVkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDaGF0IEFQSSBFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjaGF0IHNlc3Npb24gaW5pdGlhbGl6YXRpb24gZmFpbHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgaW5pdGlhbGl6ZUNoYXQgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9jaGF0LXNlcnZpY2UnKTtcbiAgICAgIGluaXRpYWxpemVDaGF0Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignRmFpbGVkIHRvIGluaXRpYWxpemUgY2hhdCBzZXNzaW9uJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpL2NoYXQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGFnZW50SWQ6ICdhZ2VudC0xMjMnIH0pLFxuICAgICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyIHVzZXItdG9rZW4nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwMCk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0ZhaWxlZCB0byBpbml0aWFsaXplIGNoYXQgc2Vzc2lvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCBjaGF0IHNlc3Npb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHZhbGlkYXRlQ2hhdFNlc3Npb24gfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9jaGF0LXNlcnZpY2UnKTtcbiAgICAgIHZhbGlkYXRlQ2hhdFNlc3Npb24ubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdJbnZhbGlkIG9yIGV4cGlyZWQgY2hhdCBzZXNzaW9uJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpL2NoYXQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHNlc3Npb25JZDogJ2ludmFsaWQtc2Vzc2lvbicsIG1lc3NhZ2U6ICdIZWxsbycgfSksXG4gICAgICAgIGhlYWRlcnM6IHsgXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgdXNlci10b2tlbidcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignSW52YWxpZCBvciBleHBpcmVkIGNoYXQgc2Vzc2lvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY2hhdCBtZXNzYWdlIHJhdGUgbGltaXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHNlbmRNZXNzYWdlIH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvc2VydmljZXMvY2hhdC1zZXJ2aWNlJyk7XG4gICAgICBzZW5kTWVzc2FnZS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0NoYXQgcmF0ZSBsaW1pdCBleGNlZWRlZCcpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aS9jaGF0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzZXNzaW9uSWQ6ICdzZXNzaW9uLTEyMycsIG1lc3NhZ2U6ICdSYXBpZCBtZXNzYWdlJyB9KSxcbiAgICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciB1c2VyLXRva2VuJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MjkpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IuY29kZSkudG9CZSgnUkFURV9MSU1JVF9FUlJPUicpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdDaGF0IHJhdGUgbGltaXQgZXhjZWVkZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNoYXQgc2VydmljZSB1bmF2YWlsYWJsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgc2VuZE1lc3NhZ2UgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9jaGF0LXNlcnZpY2UnKTtcbiAgICAgIHNlbmRNZXNzYWdlLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ2hhdCBzZXJ2aWNlIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlJykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpL2NoYXQnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHNlc3Npb25JZDogJ3Nlc3Npb24tMTIzJywgbWVzc2FnZTogJ0hlbGxvJyB9KSxcbiAgICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciB1c2VyLXRva2VuJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDMpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdDaGF0IHNlcnZpY2UgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbXBsaWFuY2UgQVBJIEVycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbXBsaWFuY2UgYXVkaXQgZmFpbHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcGVyZm9ybUNvbXBsaWFuY2VBdWRpdCB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL3NlcnZpY2VzL2NvbXBsaWFuY2Utc2VydmljZScpO1xuICAgICAgcGVyZm9ybUNvbXBsaWFuY2VBdWRpdC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0NvbXBsaWFuY2UgYXVkaXQgZmFpbGVkOiBtaXNzaW5nIHJlcXVpcmVkIGRhdGEnKSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWkvY29tcGxpYW5jZS9hdWRpdCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXVkaXRUeXBlOiAnc2VjdXJpdHknIH0pLFxuICAgICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyIGFkbWluLXRva2VuJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MjIpO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdDb21wbGlhbmNlIGF1ZGl0IGZhaWxlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCBjb21wbGlhbmNlIHJ1bGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyB2YWxpZGF0ZUNvbXBsaWFuY2VSdWxlcyB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vbGliL3NlcnZpY2VzL2NvbXBsaWFuY2Utc2VydmljZScpO1xuICAgICAgdmFsaWRhdGVDb21wbGlhbmNlUnVsZXMubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdJbnZhbGlkIGNvbXBsaWFuY2UgcnVsZXMgY29uZmlndXJhdGlvbicpKTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aS9jb21wbGlhbmNlL2F1ZGl0Jywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBydWxlczogJ2ludmFsaWQtcnVsZXMnIH0pLFxuICAgICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyIGFkbWluLXRva2VuJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApO1xuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdJbnZhbGlkIGNvbXBsaWFuY2UgcnVsZXMgY29uZmlndXJhdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxpYW5jZSByZXBvcnQgZ2VuZXJhdGlvbiB0aW1lb3V0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBnZXRDb21wbGlhbmNlUmVwb3J0IH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvc2VydmljZXMvY29tcGxpYW5jZS1zZXJ2aWNlJyk7XG4gICAgICBnZXRDb21wbGlhbmNlUmVwb3J0Lm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ29tcGxpYW5jZSByZXBvcnQgZ2VuZXJhdGlvbiB0aW1lb3V0JykpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpL2NvbXBsaWFuY2UvYXVkaXQ/cmVwb3J0SWQ9cmVwb3J0LTEyMycpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDUwNCk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5tZXNzYWdlKS50b0NvbnRhaW4oJ0NvbXBsaWFuY2UgcmVwb3J0IGdlbmVyYXRpb24gdGltZW91dCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgUmVjb3ZlcnkgYW5kIE1vbml0b3JpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwcm92aWRlIEFHLVVJIG9wZXJhdGlvbiByZWNvdmVyeSBzdWdnZXN0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgY3JlYXRlQWdlbnQgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9hZy11aS1tYW5hZ2VyJyk7XG4gICAgICBjcmVhdGVBZ2VudC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1RlbXBvcmFyeSBBRy1VSSBzZXJ2aWNlIG91dGFnZScpKTtcblxuICAgICAgY29uc3QgdmFsaWRBZ2VudERhdGEgPSB7XG4gICAgICAgIG5hbWU6ICdUZXN0IEFnZW50JyxcbiAgICAgICAgdHlwZTogJ2NoYXQnLFxuICAgICAgICBjb25maWc6IHsgbW9kZWw6ICdncHQtMy41LXR1cmJvJyB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FnLXVpJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodmFsaWRBZ2VudERhdGEpLFxuICAgICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyIGFkbWluLXRva2VuJ1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KGRhdGEuZXJyb3IucmVjb3ZlcnkpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5yZWNvdmVyeS5zdWdnZXN0aW9ucykudG9Db250YWluKCdSZXRyeSBhZ2VudCBjcmVhdGlvbicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmFjayBBRy1VSSBvcGVyYXRpb24gcGVyZm9ybWFuY2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IGNyZWF0ZUFnZW50IH0gPSByZXF1aXJlKCcuLi8uLi8uLi9saWIvc2VydmljZXMvYWctdWktbWFuYWdlcicpO1xuICAgICAgY3JlYXRlQWdlbnQubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdUZXN0IGVycm9yJykpO1xuXG4gICAgICBjb25zdCB2YWxpZEFnZW50RGF0YSA9IHtcbiAgICAgICAgbmFtZTogJ1Rlc3QgQWdlbnQnLFxuICAgICAgICB0eXBlOiAnY2hhdCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYWctdWknLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh2YWxpZEFnZW50RGF0YSksXG4gICAgICAgIGhlYWRlcnM6IHsgXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgYWRtaW4tdG9rZW4nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuXG4gICAgICBjb25zdCBzdGF0cyA9IGVycm9ySGFuZGxlci5nZXRFcnJvclN0YXRzKCk7XG4gICAgICBleHBlY3Qoc3RhdHMuYWdVaUVycm9yQ291bnQpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBBRy1VSSBjb250ZXh0IGluIGVycm9yIHJlc3BvbnNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgY3JlYXRlQWdlbnQgfSA9IHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9zZXJ2aWNlcy9hZy11aS1tYW5hZ2VyJyk7XG4gICAgICBjcmVhdGVBZ2VudC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ1Rlc3QgZXJyb3InKSk7XG5cbiAgICAgIGNvbnN0IHZhbGlkQWdlbnREYXRhID0ge1xuICAgICAgICBuYW1lOiAnVGVzdCBBZ2VudCcsXG4gICAgICAgIHR5cGU6ICdjaGF0J1xuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hZy11aScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHZhbGlkQWdlbnREYXRhKSxcbiAgICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciBhZG1pbi10b2tlbidcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvbnRleHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZGF0YS5lcnJvci5jb250ZXh0Lm9wZXJhdGlvbikudG9CZSgnY3JlYXRlQWdlbnQnKTtcbiAgICAgIGV4cGVjdChkYXRhLmVycm9yLmNvbnRleHQuYWdlbnROYW1lKS50b0JlKCdUZXN0IEFnZW50Jyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiZ2V0QWdlbnRMaXN0IiwiZm4iLCJnZXRBZ2VudERldGFpbHMiLCJjcmVhdGVBZ2VudCIsInVwZGF0ZUFnZW50IiwiZGVsZXRlQWdlbnQiLCJ2YWxpZGF0ZUFnZW50Q29uZmlnIiwiY2hlY2tBZ2VudFBlcm1pc3Npb25zIiwiZ2V0QWdlbnRNZXRyaWNzIiwiZGVwbG95QWdlbnQiLCJ0ZXN0QWdlbnRDb25uZWN0aW9uIiwiYW5hbHl6ZUNBREZpbGUiLCJnZXRBbmFseXNpc0hpc3RvcnkiLCJ2YWxpZGF0ZUNBREZvcm1hdCIsImV4dHJhY3RDQURNZXRhZGF0YSIsImdlbmVyYXRlQW5hbHlzaXNSZXBvcnQiLCJpbml0aWFsaXplQ2hhdCIsInNlbmRNZXNzYWdlIiwiZ2V0Q2hhdEhpc3RvcnkiLCJ2YWxpZGF0ZUNoYXRTZXNzaW9uIiwiZW5kQ2hhdFNlc3Npb24iLCJnZXRDaGF0TWV0cmljcyIsInBlcmZvcm1Db21wbGlhbmNlQXVkaXQiLCJnZXRDb21wbGlhbmNlUmVwb3J0IiwidmFsaWRhdGVDb21wbGlhbmNlUnVsZXMiLCJ1cGRhdGVDb21wbGlhbmNlQ29uZmlnIiwiZ2V0Q29tcGxpYW5jZUhpc3RvcnkiLCJ2YWxpZGF0ZVNlc3Npb24iLCJnZXRVc2VyUGVybWlzc2lvbnMiLCJjaGVja0FkbWluQWNjZXNzIiwic3RvcmVBZ2VudCIsImdldEFnZW50IiwibGlzdEFnZW50cyIsImRlc2NyaWJlIiwiZXJyb3JIYW5kbGVyIiwiYmVmb3JlRWFjaCIsIkdsb2JhbEVycm9ySGFuZGxlciIsImdldEluc3RhbmNlIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVxdWlyZSIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiLCJyZXF1ZXN0IiwiTmV4dFJlcXVlc3QiLCJyZXNwb25zZSIsIkdFVCIsImRhdGEiLCJqc29uIiwiZXhwZWN0Iiwic3RhdHVzIiwidG9CZSIsImVycm9yIiwibWVzc2FnZSIsInRvQ29udGFpbiIsImNvZGUiLCJoZWFkZXJzIiwidmFsaWRBZ2VudERhdGEiLCJuYW1lIiwidHlwZSIsImNvbmZpZyIsIm1vZGVsIiwidGVtcGVyYXR1cmUiLCJtYXhUb2tlbnMiLCJkZXNjcmlwdGlvbiIsImludmFsaWREYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJQT1NUIiwiZGV0YWlscyIsImludmFsaWRDb25maWdEYXRhIiwiZGVwbG95IiwiaW52YWxpZFR5cGVEYXRhIiwidXBkYXRlRGF0YSIsImlkIiwiUFVUIiwidmVyc2lvbiIsIkRFTEVURSIsImZpbGUiLCJ0aW1lb3V0IiwiYWdlbnRJZCIsInNlc3Npb25JZCIsImF1ZGl0VHlwZSIsInJ1bGVzIiwicmVjb3ZlcnkiLCJ0b0JlRGVmaW5lZCIsInN1Z2dlc3Rpb25zIiwic3RhdHMiLCJnZXRFcnJvclN0YXRzIiwiYWdVaUVycm9yQ291bnQiLCJ0b0JlR3JlYXRlclRoYW4iLCJjb250ZXh0Iiwib3BlcmF0aW9uIiwiYWdlbnROYW1lIl0sIm1hcHBpbmdzIjoiQUFBQTs7O0NBR0M7QUFPRCxvQkFBb0I7QUFDcEJBLEtBQUtDLElBQUksQ0FBQyx1Q0FBdUMsSUFBTyxDQUFBO1FBQ3REQyxjQUFjRixLQUFLRyxFQUFFO1FBQ3JCQyxpQkFBaUJKLEtBQUtHLEVBQUU7UUFDeEJFLGFBQWFMLEtBQUtHLEVBQUU7UUFDcEJHLGFBQWFOLEtBQUtHLEVBQUU7UUFDcEJJLGFBQWFQLEtBQUtHLEVBQUU7UUFDcEJLLHFCQUFxQlIsS0FBS0csRUFBRTtRQUM1Qk0sdUJBQXVCVCxLQUFLRyxFQUFFO1FBQzlCTyxpQkFBaUJWLEtBQUtHLEVB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